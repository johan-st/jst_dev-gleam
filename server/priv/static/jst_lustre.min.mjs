var d=class{withFields(t){let r=Object.keys(this).map(n=>n in t?t[n]:this[n]);return new this.constructor(...r)}},q=class{static fromArray(t,r){let n=r||new Et;for(let i=t.length-1;i>=0;--i)n=new Ke(t[i],n);return n}[Symbol.iterator](){return new dn(this)}toArray(){return[...this]}atLeastLength(t){let r=this;for(;t-- >0&&r;)r=r.tail;return r!==void 0}hasLength(t){let r=this;for(;t-- >0&&r;)r=r.tail;return t===-1&&r instanceof Et}countLength(){let t=this,r=0;for(;t;)t=t.tail,r++;return r-1}};function _(e,t){return new Ke(e,t)}function a(e,t){return q.fromArray(e,t)}var dn=class{#e;constructor(t){this.#e=t}next(){if(this.#e instanceof Et)return{done:!0};{let{head:t,tail:r}=this.#e;return this.#e=r,{value:t,done:!1}}}},Et=class extends q{},Ke=class extends q{constructor(t,r){super(),this.head=t,this.tail=r}},re=class{bitSize;byteSize;bitOffset;rawBuffer;constructor(t,r,n){if(!(t instanceof Uint8Array))throw globalThis.Error("BitArray can only be constructed from a Uint8Array");if(this.bitSize=r??t.length*8,this.byteSize=Math.trunc((this.bitSize+7)/8),this.bitOffset=n??0,this.bitSize<0)throw globalThis.Error(`BitArray bit size is invalid: ${this.bitSize}`);if(this.bitOffset<0||this.bitOffset>7)throw globalThis.Error(`BitArray bit offset is invalid: ${this.bitOffset}`);if(t.length!==Math.trunc((this.bitOffset+this.bitSize+7)/8))throw globalThis.Error("BitArray buffer length is invalid");this.rawBuffer=t}byteAt(t){if(!(t<0||t>=this.byteSize))return zt(this.rawBuffer,this.bitOffset,t)}equals(t){if(this.bitSize!==t.bitSize)return!1;let r=Math.trunc(this.bitSize/8);if(this.bitOffset===0&&t.bitOffset===0){for(let i=0;i<r;i++)if(this.rawBuffer[i]!==t.rawBuffer[i])return!1;let n=this.bitSize%8;if(n){let i=8-n;if(this.rawBuffer[r]>>i!==t.rawBuffer[r]>>i)return!1}}else{for(let i=0;i<r;i++){let s=zt(this.rawBuffer,this.bitOffset,i),o=zt(t.rawBuffer,t.bitOffset,i);if(s!==o)return!1}let n=this.bitSize%8;if(n){let i=zt(this.rawBuffer,this.bitOffset,r),s=zt(t.rawBuffer,t.bitOffset,r),o=8-n;if(i>>o!==s>>o)return!1}}return!0}get buffer(){if(ss("buffer","Use BitArray.byteAt() or BitArray.rawBuffer instead"),this.bitOffset!==0||this.bitSize%8!==0)throw new globalThis.Error("BitArray.buffer does not support unaligned bit arrays");return this.rawBuffer}get length(){if(ss("length","Use BitArray.bitSize or BitArray.byteSize instead"),this.bitOffset!==0||this.bitSize%8!==0)throw new globalThis.Error("BitArray.length does not support unaligned bit arrays");return this.rawBuffer.length}};function zt(e,t,r){if(t===0)return e[r]??0;{let n=e[r]<<t&255,i=e[r+1]>>8-t;return n|i}}var Xe=class{constructor(t){this.value=t}},is={};function ss(e,t){is[e]||(console.warn(`Deprecated BitArray.${e} property used in JavaScript FFI code. ${t}.`),is[e]=!0)}function Ze(e,t,r){if(r??=e.bitSize,ls(e,t,r),t===r)return new re(new Uint8Array);if(t===0&&r===e.bitSize)return e;t+=e.bitOffset,r+=e.bitOffset;let n=Math.trunc(t/8),s=Math.trunc((r+7)/8)-n,o;return n===0&&s===e.rawBuffer.byteLength?o=e.rawBuffer:o=new Uint8Array(e.rawBuffer.buffer,e.rawBuffer.byteOffset+n,s),new re(o,r-t,t%8)}function $r(e,t,r,n,i){if(ls(e,t,r),t===r)return 0;t+=e.bitOffset,r+=e.bitOffset;let s=t%8===0,o=r%8===0;if(s&&o)return ol(e,t/8,r/8,n,i);let l=r-t,u=Math.trunc(t/8),c=Math.trunc((r-1)/8);if(u==c){let p=255>>t%8,f=(8-r%8)%8,m=(e.rawBuffer[u]&p)>>f;if(i){let b=2**(l-1);m>=b&&(m-=b*2)}return m}return l<=53?al(e.rawBuffer,t,r,n,i):cl(e.rawBuffer,t,r,n,i)}function ol(e,t,r,n,i){return r-t<=6?ll(e.rawBuffer,t,r,n,i):ul(e.rawBuffer,t,r,n,i)}function ll(e,t,r,n,i){let s=r-t,o=0;if(n)for(let l=t;l<r;l++)o*=256,o+=e[l];else for(let l=r-1;l>=t;l--)o*=256,o+=e[l];if(i){let l=2**(s*8-1);o>=l&&(o-=l*2)}return o}function ul(e,t,r,n,i){let s=r-t,o=0n;if(n)for(let l=t;l<r;l++)o*=256n,o+=BigInt(e[l]);else for(let l=r-1;l>=t;l--)o*=256n,o+=BigInt(e[l]);if(i){let l=1n<<BigInt(s*8-1);o>=l&&(o-=l*2n)}return Number(o)}function al(e,t,r,n,i){let s=t%8===0,o=r-t,l=Math.trunc(t/8),u=0;if(n){if(!s){let c=8-t%8;u=e[l++]&(1<<c)-1,o-=c}for(;o>=8;)u*=256,u+=e[l++],o-=8;o>0&&(u*=2**o,u+=e[l]>>8-o)}else if(s){let c=r-t,p=1;for(;c>=8;)u+=e[l++]*p,p*=256,c-=8;u+=(e[l]>>8-c)*p}else{let c=t%8,p=8-c,f=r-t,m=1;for(;f>=8;){let b=e[l]<<c|e[l+1]>>p;u+=(b&255)*m,m*=256,f-=8,l++}if(f>0){let b=f-Math.max(0,f-p),k=(e[l]&(1<<p)-1)>>p-b;f-=b,f>0&&(k*=2**f,k+=e[l+1]>>8-f),u+=k*m}}if(i){let c=2**(r-t-1);u>=c&&(u-=c*2)}return u}function cl(e,t,r,n,i){let s=t%8===0,o=r-t,l=Math.trunc(t/8),u=0n;if(n){if(!s){let c=8-t%8;u=BigInt(e[l++]&(1<<c)-1),o-=c}for(;o>=8;)u*=256n,u+=BigInt(e[l++]),o-=8;o>0&&(u<<=BigInt(o),u+=BigInt(e[l]>>8-o))}else if(s){let c=r-t,p=0n;for(;c>=8;)u+=BigInt(e[l++])<<p,p+=8n,c-=8;u+=BigInt(e[l]>>8-c)<<p}else{let c=t%8,p=8-c,f=r-t,m=0n;for(;f>=8;){let b=e[l]<<c|e[l+1]>>p;u+=BigInt(b&255)<<m,m+=8n,f-=8,l++}if(f>0){let b=f-Math.max(0,f-p),k=(e[l]&(1<<p)-1)>>p-b;f-=b,f>0&&(k<<=f,k+=e[l+1]>>8-f),u+=BigInt(k)<<m}}if(i){let c=2n**BigInt(r-t-1);u>=c&&(u-=c*2n)}return Number(u)}function ls(e,t,r){if(t<0||t>e.bitSize||r<t||r>e.bitSize){let n=`Invalid bit array slice: start = ${t}, end = ${r}, bit size = ${e.bitSize}`;throw new globalThis.Error(n)}}var pt=class e extends d{static isResult(t){return t instanceof e}},$=class extends pt{constructor(t){super(),this[0]=t}isOk(){return!0}},w=class extends pt{constructor(t){super(),this[0]=t}isOk(){return!1}};function S(e,t){let r=[e,t];for(;r.length;){let n=r.pop(),i=r.pop();if(n===i)continue;if(!os(n)||!os(i)||!wl(n,i)||pl(n,i)||dl(n,i)||ml(n,i)||hl(n,i)||$l(n,i)||_l(n,i))return!1;let o=Object.getPrototypeOf(n);if(o!==null&&typeof o.equals=="function")try{if(n.equals(i))continue;return!1}catch{}let[l,u]=fl(n);for(let c of l(n))r.push(u(n,c),u(i,c))}return!0}function fl(e){if(e instanceof Map)return[t=>t.keys(),(t,r)=>t.get(r)];{let t=e instanceof globalThis.Error?["message"]:[];return[r=>[...t,...Object.keys(r)],(r,n)=>r[n]]}}function pl(e,t){return e instanceof Date&&(e>t||e<t)}function dl(e,t){return!(e instanceof re)&&e.buffer instanceof ArrayBuffer&&e.BYTES_PER_ELEMENT&&!(e.byteLength===t.byteLength&&e.every((r,n)=>r===t[n]))}function ml(e,t){return Array.isArray(e)&&e.length!==t.length}function hl(e,t){return e instanceof Map&&e.size!==t.size}function $l(e,t){return e instanceof Set&&(e.size!=t.size||[...e].some(r=>!t.has(r)))}function _l(e,t){return e instanceof RegExp&&(e.source!==t.source||e.flags!==t.flags)}function os(e){return typeof e=="object"&&e!==null}function wl(e,t){return typeof e!="object"&&typeof t!="object"&&(!e||!t)||[Promise,WeakSet,WeakMap,Function].some(n=>e instanceof n)?!1:e.constructor===t.constructor}function $e(e,t,r,n,i,s){let o=new globalThis.Error(i);o.gleam_error=e,o.module=t,o.line=r,o.function=n,o.fn=n;for(let l in s)o[l]=s[l];return o}var dt=class e{constructor(t){this.promise=t}static wrap(t){return t instanceof Promise?new e(t):t}static unwrap(t){return t instanceof e?t.promise:t}};function _r(e){return Promise.resolve(dt.wrap(e))}function us(e,t){return e.then(r=>t(dt.unwrap(r)))}function wr(e,t){return e.then(r=>dt.wrap(t(dt.unwrap(r))))}function mn(e,t){return e.catch(r=>t(r))}var G=class extends d{},Y=class extends d{},Z=class extends d{};var h=class extends d{constructor(t){super(),this[0]=t}},g=class extends d{};function mt(e,t){if(e instanceof h){let r=e[0];return new $(r)}else return new w(t)}function as(e,t){return e instanceof h?e[0]:t}function xr(e,t){return e instanceof h?e:t}function hn(e){return wn(e)===0}function _e(e,t,r){return ps(t,r,e)}function gl(e,t){for(;;){let r=e,n=t;if(r.hasLength(0))return n;{let i=r.head[0],s=r.head[1];e=r.tail,t=_e(n,i,s)}}}function Qe(e){return gl(e,ne())}function cs(e,t){for(;;){let r=e,n=t;if(r.hasLength(0))return n;{let i=r.head;e=r.tail,t=_(i,n)}}}function bl(e,t){for(;;){let r=e,n=t;if(r.hasLength(0))return cs(n,a([]));{let i=r.head[0];e=r.tail,t=_(i,n)}}}function $n(e){return bl(Fe(e),a([]))}function yl(e,t){for(;;){let r=e,n=t;if(r.hasLength(0))return cs(n,a([]));{let i=r.head[1];e=r.tail,t=_(i,n)}}}function _n(e){let t=Fe(e);return yl(t,a([]))}function kl(e,t,r){for(;;){let n=e,i=t,s=r;if(n.hasLength(0))return i;{let o=n.head[0],l=n.head[1];e=n.tail,t=s(i,o,l),r=s}}}function Tt(e,t,r){return kl(Fe(e),t,r)}function Ol(e,t){let r=(n,i,s)=>_e(n,i,e(i,s));return Tt(t,ne(),r)}function fs(e,t){return Ol(t,e)}var N=class extends d{},we=class extends d{};function Sl(e,t){for(;;){let r=e,n=t;if(r.atLeastLength(1))e=r.tail,t=n+1;else return n}}function gr(e){return Sl(e,0)}function Ct(e,t){for(;;){let r=e,n=t;if(r.hasLength(0))return n;{let i=r.head;e=r.tail,t=_(i,n)}}}function L(e){return Ct(e,a([]))}function Ll(e,t,r){for(;;){let n=e,i=t,s=r;if(n.hasLength(0))return L(s);{let o=n.head,l=n.tail,u;i(o)?u=_(o,s):u=s;let p=u;e=l,t=i,r=p}}}function xn(e,t){return Ll(e,t,a([]))}function Al(e,t,r){for(;;){let n=e,i=t,s=r;if(n.hasLength(0))return L(s);{let o=n.head,l=n.tail,u,c=i(o);if(c.isOk()){let f=c[0];u=_(f,s)}else u=s;let p=u;e=l,t=i,r=p}}}function tt(e,t){return Al(e,t,a([]))}function zl(e,t,r){for(;;){let n=e,i=t,s=r;if(n.hasLength(0))return L(s);{let o=n.head;e=n.tail,t=i,r=_(i(o),s)}}}function U(e,t){return zl(e,t,a([]))}function El(e,t,r,n){for(;;){let i=e,s=t,o=r,l=n;if(i.hasLength(0))return L(l);{let u=i.head,c=i.tail,p=_(s(u,o),l);e=c,t=s,r=o+1,n=p}}}function gn(e,t){return El(e,t,0,a([]))}function Bl(e,t,r){for(;;){let n=e,i=t,s=r;if(i<=0)return L(s);if(n.hasLength(0))return L(s);{let l=n.head;e=n.tail,t=i-1,r=_(l,s)}}}function ds(e,t){return Bl(e,t,a([]))}function Tl(e,t){for(;;){let r=e,n=t;if(r.hasLength(0))return n;{let i=r.head;e=r.tail,t=_(i,n)}}}function Q(e,t){return Tl(L(e),t)}function Pe(e,t,r){for(;;){let n=e,i=t,s=r;if(n.hasLength(0))return i;{let o=n.head;e=n.tail,t=s(i,o),r=s}}}function Cl(e,t,r,n){for(;;){let i=e,s=t,o=r,l=n;if(i.hasLength(0))return s;{let u=i.head;e=i.tail,t=o(s,u,l),r=o,n=l+1}}}function bn(e,t,r){return Cl(e,t,r,0)}function ql(e,t,r,n,i,s){for(;;){let o=e,l=t,u=r,c=n,p=i,f=s,m=_(p,u);if(o.hasLength(0))return c instanceof N?_(L(m),f):_(m,f);{let b=o.head,k=o.tail,C=l(p,b);if(C instanceof Z&&c instanceof we)e=k,t=l,r=m,n=c,i=b,s=f;else if(C instanceof G&&c instanceof N)e=k,t=l,r=m,n=c,i=b,s=f;else if(C instanceof Y&&c instanceof N)e=k,t=l,r=m,n=c,i=b,s=f;else if(C instanceof Z&&c instanceof N){let z;c instanceof N?z=_(L(m),f):z=_(m,f);let I=z;if(k.hasLength(0))return _(a([b]),I);{let F=k.head,j=k.tail,v,O=l(b,F);O instanceof G?v=new N:O instanceof Y?v=new N:v=new we;let W=v;e=j,t=l,r=a([b]),n=W,i=F,s=I}}else if(C instanceof G&&c instanceof we){let z;c instanceof N?z=_(L(m),f):z=_(m,f);let I=z;if(k.hasLength(0))return _(a([b]),I);{let F=k.head,j=k.tail,v,O=l(b,F);O instanceof G?v=new N:O instanceof Y?v=new N:v=new we;let W=v;e=j,t=l,r=a([b]),n=W,i=F,s=I}}else{let z;c instanceof N?z=_(L(m),f):z=_(m,f);let I=z;if(k.hasLength(0))return _(a([b]),I);{let F=k.head,j=k.tail,v,O=l(b,F);O instanceof G?v=new N:O instanceof Y?v=new N:v=new we;let W=v;e=j,t=l,r=a([b]),n=W,i=F,s=I}}}}}function Il(e,t,r,n){for(;;){let i=e,s=t,o=r,l=n;if(i.hasLength(0))return Ct(s,l);if(s.hasLength(0))return Ct(i,l);{let u=i.head,c=i.tail,p=s.head,f=s.tail,m=o(u,p);m instanceof G?(e=c,t=s,r=o,n=_(u,l)):m instanceof Z?(e=i,t=f,r=o,n=_(p,l)):(e=i,t=f,r=o,n=_(p,l))}}}function Nl(e,t,r){for(;;){let n=e,i=t,s=r;if(n.hasLength(0))return L(s);if(n.hasLength(1)){let o=n.head;return L(_(L(o),s))}else{let o=n.head,l=n.tail.head,u=n.tail.tail,c=Il(o,l,i,a([]));e=u,t=i,r=_(c,s)}}}function Dl(e,t,r,n){for(;;){let i=e,s=t,o=r,l=n;if(i.hasLength(0))return Ct(s,l);if(s.hasLength(0))return Ct(i,l);{let u=i.head,c=i.tail,p=s.head,f=s.tail,m=o(u,p);m instanceof G?(e=i,t=f,r=o,n=_(p,l)):m instanceof Z?(e=c,t=s,r=o,n=_(u,l)):(e=c,t=s,r=o,n=_(u,l))}}}function Ml(e,t,r){for(;;){let n=e,i=t,s=r;if(n.hasLength(0))return L(s);if(n.hasLength(1)){let o=n.head;return L(_(L(o),s))}else{let o=n.head,l=n.tail.head,u=n.tail.tail,c=Dl(o,l,i,a([]));e=u,t=i,r=_(c,s)}}}function Wl(e,t,r){for(;;){let n=e,i=t,s=r;if(n.hasLength(0))return a([]);if(n.hasLength(1)&&i instanceof N)return n.head;if(n.hasLength(1)&&i instanceof we){let o=n.head;return L(o)}else i instanceof N?(e=Nl(n,s,a([])),t=new we,r=s):(e=Ml(n,s,a([])),t=new N,r=s)}}function yn(e,t){if(e.hasLength(0))return a([]);if(e.hasLength(1)){let r=e.head;return a([r])}else{let r=e.head,n=e.tail.head,i=e.tail.tail,s,o=t(r,n);o instanceof G?s=new N:o instanceof Y?s=new N:s=new we;let l=s,u=ql(i,t,a([r]),l,n,a([]));return Wl(u,new N,t)}}function Ul(e,t){if(e.hasLength(0))return new w(void 0);{let r=e.head,n=e.tail;return new $(Pe(n,r,t))}}function ms(e){return Ul(e,(t,r)=>r)}function On(e,t){if(e.isOk()){let r=e[0];return new $(r)}else{let r=e[0];return new w(t(r))}}function Re(e,t){if(e.isOk()){let r=e[0];return t(r)}else{let r=e[0];return new w(r)}}function ie(e,t){return Re(e,t)}function vn(e,t){return e.isOk()?e[0]:t}var xs=new WeakMap,Ln=new DataView(new ArrayBuffer(8)),An=0;function zn(e){let t=xs.get(e);if(t!==void 0)return t;let r=An++;return An===2147483647&&(An=0),xs.set(e,r),r}function En(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}function Tn(e){let t=0,r=e.length;for(let n=0;n<r;n++)t=Math.imul(31,t)+e.charCodeAt(n)|0;return t}function bs(e){Ln.setFloat64(0,e);let t=Ln.getInt32(0),r=Ln.getInt32(4);return Math.imul(73244475,t>>16^t)^r}function Yl(e){return Tn(e.toString())}function Kl(e){let t=Object.getPrototypeOf(e);if(t!==null&&typeof t.hashCode=="function")try{let n=e.hashCode(e);if(typeof n=="number")return n}catch{}if(e instanceof Promise||e instanceof WeakSet||e instanceof WeakMap)return zn(e);if(e instanceof Date)return bs(e.getTime());let r=0;if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),Array.isArray(e)||e instanceof Uint8Array)for(let n=0;n<e.length;n++)r=Math.imul(31,r)+se(e[n])|0;else if(e instanceof Set)e.forEach(n=>{r=r+se(n)|0});else if(e instanceof Map)e.forEach((n,i)=>{r=r+En(se(n),se(i))|0});else{let n=Object.keys(e);for(let i=0;i<n.length;i++){let s=n[i],o=e[s];r=r+En(se(o),Tn(s))|0}}return r}function se(e){if(e===null)return 1108378658;if(e===void 0)return 1108378659;if(e===!0)return 1108378657;if(e===!1)return 1108378656;switch(typeof e){case"number":return bs(e);case"string":return Tn(e);case"bigint":return Yl(e);case"object":return Kl(e);case"symbol":return zn(e);case"function":return zn(e);default:return 0}}var ye=5,Cn=Math.pow(2,ye),Xl=Cn-1,Zl=Cn/2,Ql=Cn/4,J=0,be=1,ee=2,rt=3,qn={type:ee,bitmap:0,array:[]};function Nt(e,t){return e>>>t&Xl}function Or(e,t){return 1<<Nt(e,t)}function eu(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),e=e+(e>>4)&252645135,e+=e>>8,e+=e>>16,e&127}function In(e,t){return eu(e&t-1)}function oe(e,t,r){let n=e.length,i=new Array(n);for(let s=0;s<n;++s)i[s]=e[s];return i[t]=r,i}function tu(e,t,r){let n=e.length,i=new Array(n+1),s=0,o=0;for(;s<t;)i[o++]=e[s++];for(i[o++]=r;s<n;)i[o++]=e[s++];return i}function Bn(e,t){let r=e.length,n=new Array(r-1),i=0,s=0;for(;i<t;)n[s++]=e[i++];for(++i;i<r;)n[s++]=e[i++];return n}function ys(e,t,r,n,i,s){let o=se(t);if(o===n)return{type:rt,hash:o,array:[{type:J,k:t,v:r},{type:J,k:i,v:s}]};let l={val:!1};return Dt(Nn(qn,e,o,t,r,l),e,n,i,s,l)}function Dt(e,t,r,n,i,s){switch(e.type){case be:return ru(e,t,r,n,i,s);case ee:return Nn(e,t,r,n,i,s);case rt:return nu(e,t,r,n,i,s)}}function ru(e,t,r,n,i,s){let o=Nt(r,t),l=e.array[o];if(l===void 0)return s.val=!0,{type:be,size:e.size+1,array:oe(e.array,o,{type:J,k:n,v:i})};if(l.type===J)return S(n,l.k)?i===l.v?e:{type:be,size:e.size,array:oe(e.array,o,{type:J,k:n,v:i})}:(s.val=!0,{type:be,size:e.size,array:oe(e.array,o,ys(t+ye,l.k,l.v,r,n,i))});let u=Dt(l,t+ye,r,n,i,s);return u===l?e:{type:be,size:e.size,array:oe(e.array,o,u)}}function Nn(e,t,r,n,i,s){let o=Or(r,t),l=In(e.bitmap,o);if((e.bitmap&o)!==0){let u=e.array[l];if(u.type!==J){let p=Dt(u,t+ye,r,n,i,s);return p===u?e:{type:ee,bitmap:e.bitmap,array:oe(e.array,l,p)}}let c=u.k;return S(n,c)?i===u.v?e:{type:ee,bitmap:e.bitmap,array:oe(e.array,l,{type:J,k:n,v:i})}:(s.val=!0,{type:ee,bitmap:e.bitmap,array:oe(e.array,l,ys(t+ye,c,u.v,r,n,i))})}else{let u=e.array.length;if(u>=Zl){let c=new Array(32),p=Nt(r,t);c[p]=Nn(qn,t+ye,r,n,i,s);let f=0,m=e.bitmap;for(let b=0;b<32;b++){if((m&1)!==0){let k=e.array[f++];c[b]=k}m=m>>>1}return{type:be,size:u+1,array:c}}else{let c=tu(e.array,l,{type:J,k:n,v:i});return s.val=!0,{type:ee,bitmap:e.bitmap|o,array:c}}}}function nu(e,t,r,n,i,s){if(r===e.hash){let o=Dn(e,n);if(o!==-1)return e.array[o].v===i?e:{type:rt,hash:r,array:oe(e.array,o,{type:J,k:n,v:i})};let l=e.array.length;return s.val=!0,{type:rt,hash:r,array:oe(e.array,l,{type:J,k:n,v:i})}}return Dt({type:ee,bitmap:Or(e.hash,t),array:[e]},t,r,n,i,s)}function Dn(e,t){let r=e.array.length;for(let n=0;n<r;n++)if(S(t,e.array[n].k))return n;return-1}function kr(e,t,r,n){switch(e.type){case be:return iu(e,t,r,n);case ee:return su(e,t,r,n);case rt:return ou(e,n)}}function iu(e,t,r,n){let i=Nt(r,t),s=e.array[i];if(s!==void 0){if(s.type!==J)return kr(s,t+ye,r,n);if(S(n,s.k))return s}}function su(e,t,r,n){let i=Or(r,t);if((e.bitmap&i)===0)return;let s=In(e.bitmap,i),o=e.array[s];if(o.type!==J)return kr(o,t+ye,r,n);if(S(n,o.k))return o}function ou(e,t){let r=Dn(e,t);if(!(r<0))return e.array[r]}function Mn(e,t,r,n){switch(e.type){case be:return lu(e,t,r,n);case ee:return uu(e,t,r,n);case rt:return au(e,n)}}function lu(e,t,r,n){let i=Nt(r,t),s=e.array[i];if(s===void 0)return e;let o;if(s.type===J){if(!S(s.k,n))return e}else if(o=Mn(s,t+ye,r,n),o===s)return e;if(o===void 0){if(e.size<=Ql){let l=e.array,u=new Array(e.size-1),c=0,p=0,f=0;for(;c<i;){let m=l[c];m!==void 0&&(u[p]=m,f|=1<<c,++p),++c}for(++c;c<l.length;){let m=l[c];m!==void 0&&(u[p]=m,f|=1<<c,++p),++c}return{type:ee,bitmap:f,array:u}}return{type:be,size:e.size-1,array:oe(e.array,i,o)}}return{type:be,size:e.size,array:oe(e.array,i,o)}}function uu(e,t,r,n){let i=Or(r,t);if((e.bitmap&i)===0)return e;let s=In(e.bitmap,i),o=e.array[s];if(o.type!==J){let l=Mn(o,t+ye,r,n);return l===o?e:l!==void 0?{type:ee,bitmap:e.bitmap,array:oe(e.array,s,l)}:e.bitmap===i?void 0:{type:ee,bitmap:e.bitmap^i,array:Bn(e.array,s)}}return S(n,o.k)?e.bitmap===i?void 0:{type:ee,bitmap:e.bitmap^i,array:Bn(e.array,s)}:e}function au(e,t){let r=Dn(e,t);if(r<0)return e;if(e.array.length!==1)return{type:rt,hash:e.hash,array:Bn(e.array,r)}}function ks(e,t){if(e===void 0)return;let r=e.array,n=r.length;for(let i=0;i<n;i++){let s=r[i];if(s!==void 0){if(s.type===J){t(s.v,s.k);continue}ks(s,t)}}}var le=class e{static fromObject(t){let r=Object.keys(t),n=e.new();for(let i=0;i<r.length;i++){let s=r[i];n=n.set(s,t[s])}return n}static fromMap(t){let r=e.new();return t.forEach((n,i)=>{r=r.set(i,n)}),r}static new(){return new e(void 0,0)}constructor(t,r){this.root=t,this.size=r}get(t,r){if(this.root===void 0)return r;let n=kr(this.root,0,se(t),t);return n===void 0?r:n.v}set(t,r){let n={val:!1},i=this.root===void 0?qn:this.root,s=Dt(i,0,se(t),t,r,n);return s===this.root?this:new e(s,n.val?this.size+1:this.size)}delete(t){if(this.root===void 0)return this;let r=Mn(this.root,0,se(t),t);return r===this.root?this:r===void 0?e.new():new e(r,this.size-1)}has(t){return this.root===void 0?!1:kr(this.root,0,se(t),t)!==void 0}entries(){if(this.root===void 0)return[];let t=[];return this.forEach((r,n)=>t.push([n,r])),t}forEach(t){ks(this.root,t)}hashCode(){let t=0;return this.forEach((r,n)=>{t=t+En(se(r),se(n))|0}),t}equals(t){if(!(t instanceof e)||this.size!==t.size)return!1;try{return this.forEach((r,n)=>{if(!S(t.get(n,!r),r))throw gs}),!0}catch(r){if(r===gs)return!1;throw r}}},gs=Symbol();var Wn=void 0,vs={};function P(e){return e}function vr(e){return/^[-+]?(\d+)$/.test(e)?new $(parseInt(e)):new w(Wn)}function A(e){return e.toString()}function jn(e){let t=Ls(e);return t?q.fromArray(Array.from(t).map(r=>r.segment)):q.fromArray(e.match(/./gsu))}var js;function Ls(e){if(globalThis.Intl&&Intl.Segmenter)return js||=new Intl.Segmenter,js.segment(e)[Symbol.iterator]()}function jr(e){let t,r=Ls(e);return r?t=r.next().value?.segment:t=e.match(/./su)?.[0],t?new $([t,e.slice(t.length)]):new w(Wn)}function nt(e){return[e.charCodeAt(0)|0,e.slice(1)]}function de(e){return e.toLowerCase()}function Sn(e,t){return q.fromArray(e.split(t))}function H(e,t,r){return e.slice(t,t+r)}function Sr(e,t){return e.startsWith(t)}var As=[" ","	",`
`,"\v","\f","\r","\x85","\u2028","\u2029"].join(""),ff=new RegExp(`^[${As}]*`),pf=new RegExp(`[${As}]*$`);function ne(){return le.new()}function wn(e){return e.size}function Fe(e){return q.fromArray(e.entries())}function et(e,t){let r=e.get(t,vs);return r===vs?new w(Wn):new $(r)}function ps(e,t,r){return r.set(e,t)}function ge(e){if(typeof e=="string")return"String";if(typeof e=="boolean")return"Bool";if(e instanceof pt)return"Result";if(e instanceof q)return"List";if(e instanceof re)return"BitArray";if(e instanceof le)return"Dict";if(Number.isInteger(e))return"Int";if(Array.isArray(e))return`Tuple of ${e.length} elements`;if(typeof e=="number")return"Float";if(e===null)return"Null";if(e===void 0)return"Nil";{let t=typeof e;return t.charAt(0).toUpperCase()+t.slice(1)}}function br(e,t){return e===t?new Y:e<t?new G:new Z}function pu(e,t){for(;;){let r=e,n=t;if(r.atLeastLength(1)){let i=r.head;e=r.tail,t=n+i}else return n}}function Un(e){return pu(e,"")}function du(e,t,r){for(;;){let n=e,i=t,s=r;if(n.hasLength(0))return s;{let o=n.head;e=n.tail,t=i,r=s+i+o}}}function ke(e,t){if(e.hasLength(0))return"";{let r=e.head,n=e.tail;return du(n,t,r)}}function Fn(e,t){for(;;){let r=e,n=t;if(n>0){let s=jr(r);if(s.isOk())e=s[0][1],t=n-1;else return r}else return r}}function Ce(e,t){if(t==="")return jn(e);{let n=e,i=Sn(n,t);return U(i,P)}}function Pn(e,t){if(e instanceof le||e instanceof WeakMap||e instanceof Map){let n={},i=e.get(t,n);return i===n?new $(new g):new $(new h(i))}let r=Number.isInteger(t);if(r&&t>=0&&t<8&&e instanceof q){let n=0;for(let i of e){if(n===t)return new $(new h(i));n++}return new w("Indexable")}return r&&Array.isArray(e)||e&&typeof e=="object"||e&&Object.getPrototypeOf(e)===Object.prototype?t in e?new $(new h(e[t])):new $(new g):new w(r?"Indexable":"Dict")}function qs(e,t,r,n,i){if(!(e instanceof q||Array.isArray(e))){let o=new Oe("List",ge(e),i);return[i,q.fromArray([o])]}let s=[];for(let o of e){let l=t(o),[u,c]=l;if(c instanceof Ke){let[p,f]=r(l,n.toString());return[i,f]}s.push(u),n++}return[q.fromArray(s),i]}function Is(e){return Number.isInteger(e)?new $(e):new w(0)}function Ns(e){return typeof e=="string"?new $(e):new w("")}var Oe=class extends d{constructor(t,r,n){super(),this.expected=t,this.found=r,this.path=n}},me=class extends d{constructor(t){super(),this.function=t}};function Wt(e,t){let r=t.function(e),n=r[0],i=r[1];return i.hasLength(0)?new $(n):new w(i)}function ve(e){return new me(t=>[e,a([])])}function wu(e,t){return new me(r=>{let n=e.function(r),i=n[0],s=n[1];return[t(i),s]})}function xu(e,t,r){for(;;){let n=e,i=t,s=r;if(s.hasLength(0))return i;{let o=s.head,l=s.tail,u=o.function(n),c=u;if(u[1].hasLength(0))return c;e=n,t=i,r=l}}}function Rn(e,t){return new me(r=>{let n=e.function(r),i=n;return n[1].hasLength(0)?i:xu(r,i,t)})}function gu(e,t){return a([new Oe(e,ge(t),a([]))])}function Ds(e,t,r){let n=r(e);return n.isOk()?[n[0],a([])]:[n[0],a([new Oe(t,ge(e),a([]))])]}function bu(e){return Ds(e,"Int",Is)}function Ms(e,t){return new me(r=>[e,gu(t,r)])}var $t=new me(bu);function yu(e){return Ds(e,"String",Ns)}var je=new me(yu);function Lr(e){return new me(t=>qs(t,e.function,(r,n)=>Mt(r,a([n])),0,a([])))}function Mt(e,t){let r=Rn(je,a([wu($t,A)])),n=U(t,s=>{let o=s,l=Wt(o,r);return l.isOk()?l[0]:"<"+ge(o)+">"}),i=U(e[1],s=>{let o=s;return new Oe(o.expected,o.found,Q(n,s.path))});return[e[0],i]}function ku(e,t,r,n,i){for(;;){let s=e,o=t,l=r,u=n,c=i;if(s.hasLength(0)){let p=l(u);return Mt(p,L(o))}else{let p=s.head,f=s.tail,m=Pn(u,p);if(m.isOk()&&m[0]instanceof h){let b=m[0][0];e=f,t=_(p,o),r=l,n=b,i=c}else{if(m.isOk()&&m[0]instanceof g)return c(u,_(p,o));{let b=m[0],z=[l(u)[0],a([new Oe(b,ge(u),a([]))])];return Mt(z,L(o))}}}}}function Ou(e,t,r){return new me(n=>{let i=ku(e,a([]),t.function,n,(p,f)=>{let k=[t.function(p)[0],a([new Oe("Field","Nothing",a([]))])];return Mt(k,L(f))}),s=i[0],o=i[1],l=r(s).function(n),u=l[0],c=l[1];return[u,Q(o,c)]})}function K(e,t,r){return Ou(a([e]),t,r)}function Ws(e,t,r,n){return new me(i=>{let s,o=Pn(i,e);if(o.isOk()&&o[0]instanceof h){let C=o[0][0];s=r.function(C)}else if(o.isOk()&&o[0]instanceof g)s=[t,a([])];else{let C=o[0];s=[t,a([new Oe(C,ge(i),a([]))])]}let l;l=Mt(s,a([e]));let c=l,p=c[0],f=c[1],m=n(p).function(i),b=m[0],k=m[1];return[b,Q(f,k)]})}function Hn(e){return JSON.stringify(e)}function Us(e){return Object.fromEntries(e)}function Fs(e){return e.toArray()}function Ps(e){try{let t=JSON.parse(e);return new $(t)}catch(t){return new w(vu(t,e))}}function vu(e,t){return ju(e)?new _t:Su(e,t)}function ju(e){return/((unexpected (end|eof))|(end of data)|(unterminated string)|(json( parse error|\.parse)\: expected '(\:|\}|\])'))/i.test(e.message)}function Su(e,t){let r=[Lu,Au,Eu,zu];for(let n of r){let i=n(e,t);if(i)return i}return new ue("",0)}function Lu(e){let r=/unexpected token '(.)', ".+" is not valid JSON/i.exec(e.message);if(!r)return null;let n=Ar(r[1]);return new ue(n,-1)}function Au(e){let r=/unexpected token (.) in JSON at position (\d+)/i.exec(e.message);if(!r)return null;let n=Ar(r[1]),i=Number(r[2]);return new ue(n,i)}function zu(e,t){let n=/(unexpected character|expected .*) at line (\d+) column (\d+)/i.exec(e.message);if(!n)return null;let i=Number(n[2]),s=Number(n[3]),o=Bu(i,s,t),l=Ar(t[o]);return new ue(l,o)}function Eu(e){let r=/unexpected (identifier|token) "(.)"/i.exec(e.message);if(!r)return null;let n=Ar(r[2]);return new ue(n,0)}function Ar(e){return"0x"+e.charCodeAt(0).toString(16).toUpperCase()}function Bu(e,t,r){if(e===1)return t-1;let n=1,i=0;return r.split("").find((s,o)=>(s===`
`&&(n+=1),n===e?(i=o+t,!0):!1)),i}var _t=class extends d{},ue=class extends d{constructor(t){super(),this[0]=t}},zr=class extends d{constructor(t){super(),this[0]=t}},Er=class extends d{constructor(t){super(),this[0]=t}},Jn=class extends d{constructor(t){super(),this[0]=t}};function Tu(e,t){return ie(Ps(e),r=>{let n=Wt(r,t);return On(n,i=>new Jn(i))})}function Rs(e,t){return Tu(e,t)}function Yn(e){return Hn(e)}function T(e){return e}function ae(e){return e}function ce(e){return Us(e)}function Kn(e){return Fs(e)}function wt(e,t){let n=U(e,t);return Kn(n)}var y=class extends d{constructor(t,r,n,i,s,o,l){super(),this.scheme=t,this.userinfo=r,this.host=n,this.port=i,this.path=s,this.query=o,this.fragment=l}};function Nu(e){return 48>=e&&e<=57||65>=e&&e<=90||97>=e&&e<=122||e===58||e===46}function Le(e,t){return new $((()=>{let r=t;return new y(r.scheme,r.userinfo,r.host,r.port,r.path,r.query,new h(e))})())}function Du(e,t,r,n){for(;;){let i=e,s=t,o=r,l=n;if(s.startsWith("#")&&l===0){let u=s.slice(1);return Le(u,o)}else if(s.startsWith("#")){let u=s.slice(1),c=H(i,0,l),p,f=o;return p=new y(f.scheme,f.userinfo,f.host,f.port,f.path,new h(c),f.fragment),Le(u,p)}else{if(s==="")return new $((()=>{let u=o;return new y(u.scheme,u.userinfo,u.host,u.port,u.path,new h(i),u.fragment)})());{let c=nt(s)[1];e=i,t=c,r=o,n=l+1}}}}function Ge(e,t){return Du(e,e,t,0)}function Mu(e,t,r,n){for(;;){let i=e,s=t,o=r,l=n;if(s.startsWith("?")){let u=s.slice(1),c=H(i,0,l),p,f=o;return p=new y(f.scheme,f.userinfo,f.host,f.port,c,f.query,f.fragment),Ge(u,p)}else if(s.startsWith("#")){let u=s.slice(1),c=H(i,0,l),p,f=o;return p=new y(f.scheme,f.userinfo,f.host,f.port,c,f.query,f.fragment),Le(u,p)}else{if(s==="")return new $((()=>{let u=o;return new y(u.scheme,u.userinfo,u.host,u.port,i,u.query,u.fragment)})());{let c=nt(s)[1];e=i,t=c,r=o,n=l+1}}}}function gt(e,t){return Mu(e,e,t,0)}function Se(e,t,r){for(;;){let n=e,i=t,s=r;if(n.startsWith("0"))e=n.slice(1),t=i,r=s*10;else if(n.startsWith("1"))e=n.slice(1),t=i,r=s*10+1;else if(n.startsWith("2"))e=n.slice(1),t=i,r=s*10+2;else if(n.startsWith("3"))e=n.slice(1),t=i,r=s*10+3;else if(n.startsWith("4"))e=n.slice(1),t=i,r=s*10+4;else if(n.startsWith("5"))e=n.slice(1),t=i,r=s*10+5;else if(n.startsWith("6"))e=n.slice(1),t=i,r=s*10+6;else if(n.startsWith("7"))e=n.slice(1),t=i,r=s*10+7;else if(n.startsWith("8"))e=n.slice(1),t=i,r=s*10+8;else if(n.startsWith("9"))e=n.slice(1),t=i,r=s*10+9;else if(n.startsWith("?")){let o=n.slice(1),l,u=i;return l=new y(u.scheme,u.userinfo,u.host,new h(s),u.path,u.query,u.fragment),Ge(o,l)}else if(n.startsWith("#")){let o=n.slice(1),l,u=i;return l=new y(u.scheme,u.userinfo,u.host,new h(s),u.path,u.query,u.fragment),Le(o,l)}else if(n.startsWith("/")){let o,l=i;return o=new y(l.scheme,l.userinfo,l.host,new h(s),l.path,l.query,l.fragment),gt(n,o)}else return n===""?new $((()=>{let o=i;return new y(o.scheme,o.userinfo,o.host,new h(s),o.path,o.query,o.fragment)})()):new w(void 0)}}function Br(e,t){if(e.startsWith(":0")){let r=e.slice(2);return Se(r,t,0)}else if(e.startsWith(":1")){let r=e.slice(2);return Se(r,t,1)}else if(e.startsWith(":2")){let r=e.slice(2);return Se(r,t,2)}else if(e.startsWith(":3")){let r=e.slice(2);return Se(r,t,3)}else if(e.startsWith(":4")){let r=e.slice(2);return Se(r,t,4)}else if(e.startsWith(":5")){let r=e.slice(2);return Se(r,t,5)}else if(e.startsWith(":6")){let r=e.slice(2);return Se(r,t,6)}else if(e.startsWith(":7")){let r=e.slice(2);return Se(r,t,7)}else if(e.startsWith(":8")){let r=e.slice(2);return Se(r,t,8)}else if(e.startsWith(":9")){let r=e.slice(2);return Se(r,t,9)}else{if(e.startsWith(":"))return new w(void 0);if(e.startsWith("?")){let r=e.slice(1);return Ge(r,t)}else if(e.startsWith("#")){let r=e.slice(1);return Le(r,t)}else return e.startsWith("/")?gt(e,t):e===""?new $(t):new w(void 0)}}function Hs(e,t,r,n){for(;;){let i=e,s=t,o=r,l=n;if(s==="")return new $((()=>{let u=o;return new y(u.scheme,u.userinfo,new h(i),u.port,u.path,u.query,u.fragment)})());if(s.startsWith(":")){let u=H(i,0,l),c,p=o;return c=new y(p.scheme,p.userinfo,new h(u),p.port,p.path,p.query,p.fragment),Br(s,c)}else if(s.startsWith("/")){let u=H(i,0,l),c,p=o;return c=new y(p.scheme,p.userinfo,new h(u),p.port,p.path,p.query,p.fragment),gt(s,c)}else if(s.startsWith("?")){let u=s.slice(1),c=H(i,0,l),p,f=o;return p=new y(f.scheme,f.userinfo,new h(c),f.port,f.path,f.query,f.fragment),Ge(u,p)}else if(s.startsWith("#")){let u=s.slice(1),c=H(i,0,l),p,f=o;return p=new y(f.scheme,f.userinfo,new h(c),f.port,f.path,f.query,f.fragment),Le(u,p)}else{let c=nt(s)[1];e=i,t=c,r=o,n=l+1}}}function Wu(e,t,r,n){for(;;){let i=e,s=t,o=r,l=n;if(s==="")return new $((()=>{let u=o;return new y(u.scheme,u.userinfo,new h(s),u.port,u.path,u.query,u.fragment)})());if(s.startsWith("]")&&l===0){let u=s.slice(1);return Br(u,o)}else if(s.startsWith("]")){let u=s.slice(1),c=H(i,0,l+1),p,f=o;return p=new y(f.scheme,f.userinfo,new h(c),f.port,f.path,f.query,f.fragment),Br(u,p)}else{if(s.startsWith("/")&&l===0)return gt(s,o);if(s.startsWith("/")){let u=H(i,0,l),c,p=o;return c=new y(p.scheme,p.userinfo,new h(u),p.port,p.path,p.query,p.fragment),gt(s,c)}else if(s.startsWith("?")&&l===0){let u=s.slice(1);return Ge(u,o)}else if(s.startsWith("?")){let u=s.slice(1),c=H(i,0,l),p,f=o;return p=new y(f.scheme,f.userinfo,new h(c),f.port,f.path,f.query,f.fragment),Ge(u,p)}else if(s.startsWith("#")&&l===0){let u=s.slice(1);return Le(u,o)}else if(s.startsWith("#")){let u=s.slice(1),c=H(i,0,l),p,f=o;return p=new y(f.scheme,f.userinfo,new h(c),f.port,f.path,f.query,f.fragment),Le(u,p)}else{let u=nt(s),c=u[0],p=u[1];if(Nu(c))e=i,t=p,r=o,n=l+1;else return Hs(i,i,o,0)}}}}function Uu(e,t){return Wu(e,e,t,0)}function Fu(e,t){return Hs(e,e,t,0)}function xt(e,t){if(e.startsWith("["))return Uu(e,t);if(e.startsWith(":")){let r,n=t;return r=new y(n.scheme,n.userinfo,new h(""),n.port,n.path,n.query,n.fragment),Br(e,r)}else return e===""?new $((()=>{let r=t;return new y(r.scheme,r.userinfo,new h(""),r.port,r.path,r.query,r.fragment)})()):Fu(e,t)}function Pu(e,t,r,n){for(;;){let i=e,s=t,o=r,l=n;if(s.startsWith("@")&&l===0){let u=s.slice(1);return xt(u,o)}else if(s.startsWith("@")){let u=s.slice(1),c=H(i,0,l),p,f=o;return p=new y(f.scheme,new h(c),f.host,f.port,f.path,f.query,f.fragment),xt(u,p)}else{if(s==="")return xt(i,o);if(s.startsWith("/"))return xt(i,o);if(s.startsWith("?"))return xt(i,o);if(s.startsWith("#"))return xt(i,o);{let c=nt(s)[1];e=i,t=c,r=o,n=l+1}}}}function Ru(e,t){return Pu(e,e,t,0)}function Xn(e,t){if(e==="//")return new $((()=>{let r=t;return new y(r.scheme,r.userinfo,new h(""),r.port,r.path,r.query,r.fragment)})());if(e.startsWith("//")){let r=e.slice(2);return Ru(r,t)}else return gt(e,t)}function Gu(e,t,r,n){for(;;){let i=e,s=t,o=r,l=n;if(s.startsWith("/")&&l===0)return Xn(s,o);if(s.startsWith("/")){let u=H(i,0,l),c,p=o;return c=new y(new h(de(u)),p.userinfo,p.host,p.port,p.path,p.query,p.fragment),Xn(s,c)}else if(s.startsWith("?")&&l===0){let u=s.slice(1);return Ge(u,o)}else if(s.startsWith("?")){let u=s.slice(1),c=H(i,0,l),p,f=o;return p=new y(new h(de(c)),f.userinfo,f.host,f.port,f.path,f.query,f.fragment),Ge(u,p)}else if(s.startsWith("#")&&l===0){let u=s.slice(1);return Le(u,o)}else if(s.startsWith("#")){let u=s.slice(1),c=H(i,0,l),p,f=o;return p=new y(new h(de(c)),f.userinfo,f.host,f.port,f.path,f.query,f.fragment),Le(u,p)}else{if(s.startsWith(":")&&l===0)return new w(void 0);if(s.startsWith(":")){let u=s.slice(1),c=H(i,0,l),p,f=o;return p=new y(new h(de(c)),f.userinfo,f.host,f.port,f.path,f.query,f.fragment),Xn(u,p)}else{if(s==="")return new $((()=>{let u=o;return new y(u.scheme,u.userinfo,u.host,u.port,i,u.query,u.fragment)})());{let c=nt(s)[1];e=i,t=c,r=o,n=l+1}}}}}function Hu(e,t){for(;;){let r=e,n=t;if(r.hasLength(0))return L(n);{let i=r.head,s=r.tail,o;i===""||i==="."?o=n:i===".."&&n.hasLength(0)?o=a([]):i===".."&&n.atLeastLength(1)?o=n.tail:o=_(i,n);let l=o;e=s,t=l}}}function Zn(e){return Hu(e,a([]))}function Qn(e){return Zn(Ce(e,"/"))}function Ut(e){let t,r=e.fragment;if(r instanceof h){let O=r[0];t=a(["#",O])}else t=a([]);let n=t,i,s=e.query;if(s instanceof h){let O=s[0];i=_("?",_(O,n))}else i=n;let o=i,l=_(e.path,o),u,c=e.host,p=Sr(e.path,"/");if(c instanceof h&&!p&&c[0]!==""){let O=c[0];u=_("/",l)}else u=l;let f=u,m,b=e.host,k=e.port;if(b instanceof h&&k instanceof h){let O=k[0];m=_(":",_(A(O),f))}else m=f;let C=m,z,I=e.scheme,F=e.userinfo,j=e.host;if(I instanceof h&&F instanceof h&&j instanceof h){let O=I[0],W=F[0],At=j[0];z=_(O,_("://",_(W,_("@",_(At,C)))))}else if(I instanceof h&&F instanceof g&&j instanceof h){let O=I[0],W=j[0];z=_(O,_("://",_(W,C)))}else if(I instanceof h&&F instanceof h&&j instanceof g){let O=I[0];z=_(O,_(":",C))}else if(I instanceof h&&F instanceof g&&j instanceof g){let O=I[0];z=_(O,_(":",C))}else if(I instanceof g&&F instanceof g&&j instanceof h){let O=j[0];z=_("//",_(O,C))}else z=C;return Un(z)}function Ju(e){return ds(e,gr(e)-1)}function Gs(e){return ke(_("",e),"/")}function Js(e,t){if(e instanceof y&&e.scheme instanceof h&&e.host instanceof h)if(t instanceof y&&t.host instanceof h){let r,n=Ce(t.path,"/"),i=Zn(n);r=Gs(i);let s=r,o=new y(xr(t.scheme,e.scheme),new g,t.host,xr(t.port,e.port),s,t.query,t.fragment);return new $(o)}else{let r;if(t.path==="")r=[e.path,xr(t.query,e.query)];else{let u;if(Sr(t.path,"/"))u=Ce(t.path,"/");else{let C=Ce(e.path,"/"),z=Ju(C);u=Q(z,Ce(t.path,"/"))}let p=u,f,b=Zn(p);f=Gs(b),r=[f,t.query]}let i=r,s=i[0],o=i[1],l=new y(e.scheme,new g,e.host,e.port,s,o,t.fragment);return new $(l)}else return new w(void 0)}var Vu=new y(new g,new g,new g,new g,"",new g,new g);function Ft(e){return Gu(e,e,Vu,0)}function bt(e,t,r){return e?t:r()}var yt=class extends d{constructor(t){super(),this.all=t}},ti=class extends d{constructor(t,r,n,i){super(),this.dispatch=t,this.emit=r,this.select=n,this.root=i}};function Vs(e){return new yt(a([t=>e(t.dispatch,t.emit,t.select,t.root)]))}function qe(e){return Vs((t,r,n,i)=>e(t))}function M(){return new yt(a([]))}function Ys(e){return new yt(Pe(e,a([]),(t,r)=>{let n=r.all;return Q(t,n)}))}function ri(e,t){return new yt(U(e.all,r=>n=>r(new ti(i=>n.dispatch(t(i)),n.emit,i=>{},n.root))))}var kt=class extends d{constructor(t){super(),this.content=t}},R=class extends d{constructor(t,r,n,i,s,o,l){super(),this.key=t,this.namespace=r,this.tag=n,this.attrs=i,this.children=s,this.self_closing=o,this.void=l}},Pt=class extends d{constructor(t){super(),this.subtree=t}},Ot=class extends d{constructor(t,r,n){super(),this[0]=t,this[1]=r,this.as_property=n}},Rt=class extends d{constructor(t,r){super(),this[0]=t,this[1]=r}};function Zu(e){if(e instanceof Ot)return new w(void 0);{let t=e[0],r=e[1],n=Fn(t,2);return new $([n,r])}}function Qu(e,t,r){return bn(e,t,(n,i,s)=>{let o=r+"-"+A(s);return Ks(i,n,o)})}function Ks(e,t,r){for(;;){let n=e,i=t,s=r;if(n instanceof kt)return i;if(n instanceof Pt){let o=n.subtree;e=o(),t=i,r=s}else{let o=n.attrs,l=n.children,u=Pe(o,i,(c,p)=>{let f=Zu(p);if(f.isOk()){let m=f[0][0],b=f[0][1];return _e(c,s+"-"+m,b)}else return c});return Qu(l,u,s)}}}function Xs(e){return Ks(e,ne(),"0")}function Gt(e,t){return new Ot(e,t,!1)}function Qs(e,t){return new Rt("on"+e,t)}function x(e){return Gt("class",e)}function ni(e){return Gt("class",(()=>{let r=tt(e,n=>n[1]?new $(n[0]):new w(void 0));return ke(r," ")})())}function he(e){return Gt("id",e)}function eo(e){return Gt("href",e)}function X(e,t,r){return e==="area"?new R("","",e,t,a([]),!1,!0):e==="base"?new R("","",e,t,a([]),!1,!0):e==="br"?new R("","",e,t,a([]),!1,!0):e==="col"?new R("","",e,t,a([]),!1,!0):e==="embed"?new R("","",e,t,a([]),!1,!0):e==="hr"?new R("","",e,t,a([]),!1,!0):e==="img"?new R("","",e,t,a([]),!1,!0):e==="input"?new R("","",e,t,a([]),!1,!0):e==="link"?new R("","",e,t,a([]),!1,!0):e==="meta"?new R("","",e,t,a([]),!1,!0):e==="param"?new R("","",e,t,a([]),!1,!0):e==="source"?new R("","",e,t,a([]),!1,!0):e==="track"?new R("","",e,t,a([]),!1,!0):e==="wbr"?new R("","",e,t,a([]),!1,!0):new R("","",e,t,r,!1,!1)}function qr(e){return new kt(e)}var ii=class extends d{constructor(t){super(),this.dict=t}};function ro(){return new ii(ne())}var Ir=class extends d{constructor(t){super(),this[0]=t}},Nr=class extends d{constructor(t,r){super(),this[0]=t,this[1]=r}},Dr=class extends d{constructor(t,r){super(),this[0]=t,this[1]=r}};function no(e){return S(e.created,ne())&&S(e.removed,ro())&&S(e.updated,ne())}var Mr=class extends d{constructor(t){super(),this[0]=t}},Wr=class extends d{constructor(t,r){super(),this[0]=t,this[1]=r}},Ht=class extends d{constructor(t){super(),this[0]=t}},Ae=class extends d{constructor(t){super(),this[0]=t}},Jt=class extends d{constructor(t,r){super(),this[0]=t,this[1]=r}},Ur=class extends d{constructor(t,r){super(),this[0]=t,this[1]=r}};var Vt=class extends d{},Fr=class extends d{constructor(t,r){super(),this[0]=t,this[1]=r}},Pr=class extends d{constructor(t){super(),this[0]=t}},Rr=class extends d{constructor(t){super(),this[0]=t}};globalThis.customElements&&!globalThis.customElements.get("lustre-fragment")&&globalThis.customElements.define("lustre-fragment",class extends HTMLElement{constructor(){super()}});function si(e,t,r){let n,i=[{prev:e,next:t,parent:e.parentNode}];for(;i.length;){let{prev:s,next:o,parent:l}=i.pop();for(;o.subtree!==void 0;)o=o.subtree();if(o.content!==void 0)if(s)if(s.nodeType===Node.TEXT_NODE)s.textContent!==o.content&&(s.textContent=o.content),n??=s;else{let u=document.createTextNode(o.content);l.replaceChild(u,s),n??=u}else{let u=document.createTextNode(o.content);l.appendChild(u),n??=u}else if(o.tag!==void 0){let u=ia({prev:s,next:o,dispatch:r,stack:i});s?s!==u&&l.replaceChild(u,s):l.appendChild(u),n??=u}}return n}function ia({prev:e,next:t,dispatch:r,stack:n}){let i=t.namespace||"http://www.w3.org/1999/xhtml",s=e&&e.nodeType===Node.ELEMENT_NODE&&e.localName===t.tag&&e.namespaceURI===(t.namespace||"http://www.w3.org/1999/xhtml"),o=s?e:i?document.createElementNS(i,t.tag):document.createElement(t.tag),l;if(Yt.has(o))l=Yt.get(o);else{let j=new Map;Yt.set(o,j),l=j}let u=s?new Set(l.keys()):null,c=s?new Set(Array.from(e.attributes,j=>j.name)):null,p=null,f=null,m=null;if(s&&t.tag==="textarea"){let j=t.children[Symbol.iterator]().next().value?.content;j!==void 0&&(o.value=j)}let b=[];for(let j of t.attrs){let v=j[0],O=j[1];if(j.as_property)o[v]!==O&&(o[v]=O),s&&c.delete(v);else if(v.startsWith("on")){let W=v.slice(2),At=r(O,W==="input");l.has(W)||o.addEventListener(W,Kt),l.set(W,At),s&&u.delete(W)}else if(v.startsWith("data-lustre-on-")){let W=v.slice(15),At=r(sa);l.has(W)||o.addEventListener(W,Kt),l.set(W,At),o.setAttribute(v,O),s&&(u.delete(W),c.delete(v))}else v.startsWith("delegate:data-")||v.startsWith("delegate:aria-")?(o.setAttribute(v,O),b.push([v.slice(10),O])):v==="class"?p=p===null?O:p+" "+O:v==="style"?f=f===null?O:f+O:v==="dangerous-unescaped-html"?m=O:(o.getAttribute(v)!==O&&o.setAttribute(v,O),(v==="value"||v==="selected")&&(o[v]=O),s&&c.delete(v))}if(p!==null&&(o.setAttribute("class",p),s&&c.delete("class")),f!==null&&(o.setAttribute("style",f),s&&c.delete("style")),s){for(let j of c)o.removeAttribute(j);for(let j of u)l.delete(j),o.removeEventListener(j,Kt)}if(t.tag==="slot"&&window.queueMicrotask(()=>{for(let j of o.assignedElements())for(let[v,O]of b)j.hasAttribute(v)||j.setAttribute(v,O)}),t.key!==void 0&&t.key!=="")o.setAttribute("data-lustre-key",t.key);else if(m!==null)return o.innerHTML=m,o;let k=o.firstChild,C=null,z=null,I=null,F=Gr(t).next().value;if(s&&F!==void 0&&F.key!==void 0&&F.key!==""){C=new Set,z=io(e),I=io(t);for(let j of Gr(t))k=oa(k,j,o,n,I,z,C)}else for(let j of Gr(t))n.unshift({prev:k,next:j,parent:o}),k=k?.nextSibling;for(;k;){let j=k.nextSibling;o.removeChild(k),k=j}return o}var Yt=new WeakMap;function Kt(e){let t=e.currentTarget;if(!Yt.has(t)){t.removeEventListener(e.type,Kt);return}let r=Yt.get(t);if(!r.has(e.type)){t.removeEventListener(e.type,Kt);return}r.get(e.type)(e)}function sa(e){let t=e.currentTarget,r=t.getAttribute(`data-lustre-on-${e.type}`),n=JSON.parse(t.getAttribute("data-lustre-data")||"{}"),i=JSON.parse(t.getAttribute("data-lustre-include")||"[]");switch(e.type){case"input":case"change":i.push("target.value");break}return{tag:r,data:i.reduce((s,o)=>{let l=o.split(".");for(let u=0,c=s,p=e;u<l.length;u++)u===l.length-1?c[l[u]]=p[l[u]]:(c[l[u]]??={},p=p[l[u]],c=c[l[u]]);return s},{data:n})}}function io(e){let t=new Map;if(e)for(let r of Gr(e)){let n=r?.key||r?.getAttribute?.("data-lustre-key");n&&t.set(n,r)}return t}function oa(e,t,r,n,i,s,o){for(;e&&!i.has(e.getAttribute("data-lustre-key"));){let u=e.nextSibling;r.removeChild(e),e=u}if(s.size===0)return n.unshift({prev:e,next:t,parent:r}),e=e?.nextSibling,e;if(o.has(t.key))return console.warn(`Duplicate key found in Lustre vnode: ${t.key}`),n.unshift({prev:null,next:t,parent:r}),e;o.add(t.key);let l=s.get(t.key);if(!l&&!e)return n.unshift({prev:null,next:t,parent:r}),e;if(!l&&e!==null){let u=document.createTextNode("");return r.insertBefore(u,e),n.unshift({prev:u,next:t,parent:r}),e}return!l||l===e?(n.unshift({prev:e,next:t,parent:r}),e=e?.nextSibling,e):(r.insertBefore(l,e),n.unshift({prev:l,next:t,parent:r}),e)}function*Gr(e){for(let t of e.children)yield*so(t)}function*so(e){e.subtree!==void 0?yield*so(e.subtree()):yield e}var oi=class e{static start({init:t,update:r,view:n},i,s){if(!Xt())return new w(new Zt);let o=i instanceof HTMLElement?i:document.querySelector(i);if(!o)return new w(new Hr(i));let l=new e(o,t(s),r,n);return new $(u=>l.send(u))}constructor(t,[r,n],i,s){this.root=t,this.#e=r,this.#s=i,this.#r=s,this.#t=window.setTimeout(()=>this.#n(n.all.toArray(),!0),0)}root;send(t){if(t instanceof Ht){if(t[0]instanceof Rr){this.#t=window.clearTimeout(this.#t),this.#i=[],this.#e=t[0][0];let r=this.#r(this.#e),n=(s,o=!1)=>l=>{let u=s(l);u instanceof $&&this.send(new Ae(u[0],o))},i=this.root.firstChild??this.root.appendChild(document.createTextNode(""));si(i,r,n)}}else if(t instanceof Ae){let r=t[0],n=t[1]??!1;this.#i.push(r),n?(this.#t=window.clearTimeout(this.#t),this.#n()):this.#t||(this.#t=window.setTimeout(()=>this.#n()))}else if(t instanceof Jt){let r=t[0],n=t[1];this.root.dispatchEvent(new CustomEvent(r,{detail:n,bubbles:!0,composed:!0}))}else if(t instanceof Vt)for(this.#t=window.clearTimeout(this.#t),this.#e=null,this.#s=null,this.#r=null,this.#i=null;this.root.firstChild;)this.root.firstChild.remove()}#e;#s;#r;#i=[];#t;#n(t=[]){this.#t=void 0,this.#o(t);let r=this.#r(this.#e),n=(s,o=!1)=>l=>{let u=s(l);u instanceof $&&this.send(new Ae(u[0],o))},i=this.root.firstChild??this.root.appendChild(document.createTextNode(""));si(i,r,n)}#o(t=[]){for(;this.#i.length>0;){let r=this.#i.shift(),[n,i]=this.#s(this.#e,r);t=t.concat(i.all.toArray()),this.#e=n}for(;t.length>0;){let r=t.shift(),n=l=>this.send(new Ae(l)),i=(l,u)=>this.root.dispatchEvent(new CustomEvent(l,{detail:u,bubbles:!0,composed:!0})),s=()=>{},o=this.root;r({dispatch:n,emit:i,select:s,root:o})}this.#i.length>0&&this.#o(t)}},oo=oi.start;var li=class e{static start({init:t,update:r,view:n,on_attribute_change:i},s){let o=new e(t(s),r,n,i);return new $(l=>o.send(l))}constructor([t,r],n,i,s){this.#e=t,this.#s=n,this.#i=i,this.#t=i(t),this.#u=s,this.#n=new Map,this.#o=Xs(this.#t),this.#l(r.all.toArray())}send(t){if(t instanceof Mr){for(let r of t[0]){let n=this.#u.get(r[0]);if(!n)continue;let i=n(r[1]);i instanceof w||this.#r.push(i)}this.#l()}else if(t instanceof Wr)this.#r=this.#r.concat(t[0].toArray()),this.#l(t[1].all.toArray());else if(!(t instanceof Ht))if(t instanceof Ae)this.#r.push(t[0]),this.#l();else if(t instanceof Jt){let r=new Nr(t[0],t[1]);for(let[n,i]of this.#n)i(r)}else if(t instanceof Ur){let r=this.#o.get(t[0]);if(!r)return;let n=r(t[1]);if(n instanceof w)return;this.#r.push(n[0]),this.#l()}else if(t instanceof Fr){let r=$n(this.#u),n=new Dr(r,this.#t);this.#n=this.#n.set(t[0],t[1]),t[1](n)}else t instanceof Pr&&(this.#n=this.#n.delete(t[0]))}#e;#s;#r;#i;#t;#n;#o;#u;#l(t=[]){this.#a(t);let r=this.#i(this.#e),n=elements(this.#t,r);if(!no(n)){let i=new Ir(n);for(let[s,o]of this.#n)o(i)}this.#t=r,this.#o=n.handlers}#a(t=[]){for(;this.#r.length>0;){let r=this.#r.shift(),[n,i]=this.#s(this.#e,r);t=t.concat(i.all.toArray()),this.#e=n}for(;t.length>0;)t.shift()({dispatch:l=>this.send(new Ae(l)),emit:(l,u)=>this.root.dispatchEvent(new CustomEvent(l,{detail:u,bubbles:!0,composed:!0})),select:()=>{},root:null});this.#r.length>0&&this.#a(t)}},la=li.start,Xt=()=>globalThis.window&&window.document;var ui=class extends d{constructor(t,r,n,i){super(),this.init=t,this.update=r,this.view=n,this.on_attribute_change=i}};var Hr=class extends d{constructor(t){super(),this.selector=t}},Zt=class extends d{};function lo(e,t,r){return new ui(e,t,r,new g)}function uo(e,t,r){return bt(!Xt(),new w(new Zt),()=>oo(e,t,r))}function B(e){return qr(e)}function Qt(e,t){return X("article",e,t)}function co(e,t){return X("h1",e,t)}function ai(e,t){return X("h2",e,t)}function Jr(e,t){return X("h3",e,t)}function fo(e,t){return X("main",e,t)}function ci(e,t){return X("nav",e,t)}function E(e,t){return X("div",e,t)}function fi(e,t){return X("li",e,t)}function ze(e,t){return X("p",e,t)}function pi(e,t){return X("ul",e,t)}function He(e,t){return X("a",e,t)}function er(e,t){return X("button",e,t)}function mo(e,t){return Qs(e,t)}function tr(e){return mo("click",t=>new $(e))}function di(e){return mo("mouseenter",t=>new $(e))}var $o=(e,t,r,n,i)=>{let s;typeof WebSocket=="function"?s=new WebSocket(e):s={},s.onopen=o=>t(s),s.onmessage=o=>{typeof o.data=="string"?r(o.data):n(o.data)},s.onclose=o=>i(o.code)},_o=(e,t)=>e.send(t);var wo=()=>document.URL;var mi=class extends d{},hi=class extends d{},$i=class extends d{},_i=class extends d{},wi=class extends d{},xi=class extends d{},gi=class extends d{},bi=class extends d{},yi=class extends d{},ki=class extends d{},Oi=class extends d{},vi=class extends d{},ji=class extends d{},rr=class extends d{},nr=class extends d{constructor(t){super(),this[0]=t}},ir=class extends d{constructor(t){super(),this[0]=t}},sr=class extends d{constructor(t){super(),this[0]=t}},or=class extends d{constructor(t){super(),this[0]=t}};function aa(e){return e===1e3?new mi:e===1001?new hi:e===1002?new $i:e===1003?new _i:e===1005?new wi:e===1006?new xi:e===1007?new gi:e===1008?new bi:e===1009?new yi:e===1010?new ki:e===1011?new Oi:e===1015?new vi:new ji}function ca(e){return e==="https"?new $("wss"):e==="http"?new $("ws"):e==="ws"?new $(e):e==="wss"?new $(e):new w(void 0)}function fa(e,t){let r,n=Ft(e);return r=vn(n,new y(new g,new g,new g,new g,e,new g,new g)),Re(Js(t,r),s=>Re(mt(s.scheme,void 0),o=>Re(ca(o),l=>{let u,c=s;u=new y(new h(l),c.userinfo,c.host,c.port,c.path,c.query,c.fragment);let f=Ut(u);return new $(f)})))}function xo(e,t){return qe(r=>_o(e,t))}function pa(){let e=wo();return Ft(e)}function da(e){let t=pa();return Re(t,r=>fa(e,r))}function go(e,t){return qe(n=>{let i=da(e);if(i.isOk()){let s=i[0];return $o(s,o=>n(t(new nr(o))),o=>n(t(new ir(o))),o=>n(t(new sr(o))),o=>{let u=aa(o),c=new or(u),p=t(c);return n(p)})}else{let s=new rr,o=t(s);return n(o)}})}var ha={handle_external_links:!1,handle_internal_links:!0},bo=window?.location?.href,Li=()=>bo?new $(Si(new URL(bo))):new w(void 0),Ai=(e,t=ha)=>{document.addEventListener("click",r=>{let n=yo(r.target);if(n)try{let i=new URL(n.href),s=Si(i),o=i.host!==window.location.host;return!t.handle_external_links&&o||!t.handle_internal_links&&!o?void 0:(r.preventDefault(),o||(window.history.pushState({},"",n.href),window.requestAnimationFrame(()=>{i.hash&&document.getElementById(i.hash.slice(1))?.scrollIntoView()})),e(s))}catch{return}}),window.addEventListener("popstate",r=>{r.preventDefault();let n=new URL(window.location.href),i=Si(n);window.requestAnimationFrame(()=>{n.hash&&document.getElementById(n.hash.slice(1))?.scrollIntoView()}),e(i)}),window.addEventListener("modem-push",({detail:r})=>{e(r)}),window.addEventListener("modem-replace",({detail:r})=>{e(r)})};var yo=e=>!e||e.tagName==="BODY"?null:e.tagName==="A"?e:yo(e.parentElement),Si=e=>new y(e.protocol?new h(e.protocol.slice(0,-1)):new g,new g,e.hostname?new h(e.hostname):new g,e.port?new h(Number(e.port)):new g,e.pathname,e.search?new h(e.search.slice(1)):new g,e.hash?new h(e.hash.slice(1)):new g);function ko(e){return qe(t=>bt(!Xt(),void 0,()=>Ai(r=>{let i=e(r);return t(i)})))}var lr=class extends d{},Vr=class extends d{},zi=class extends d{},Ei=class extends d{},Bi=class extends d{},Ti=class extends d{},Ci=class extends d{},qi=class extends d{},Ii=class extends d{};var Yr=class extends d{},ur=class extends d{};function Oo(e){return e instanceof Ci?"CONNECT":e instanceof Bi?"DELETE":e instanceof lr?"GET":e instanceof zi?"HEAD":e instanceof qi?"OPTIONS":e instanceof Ii?"PATCH":e instanceof Vr?"POST":e instanceof Ei?"PUT":e instanceof Ti?"TRACE":e[0]}function vo(e){return e instanceof Yr?"http":"https"}function jo(e){let t=de(e);return t==="http"?new $(new Yr):t==="https"?new $(new ur):new w(void 0)}var Di=class extends d{constructor(t,r,n,i,s,o,l,u){super(),this.method=t,this.headers=r,this.body=n,this.scheme=i,this.host=s,this.port=o,this.path=l,this.query=u}};function Lo(e){return new y(new h(vo(e.scheme)),new g,new h(e.host),e.port,e.path,e.query,new g)}function ba(e){return ie((()=>{let t=e.scheme,r=as(t,"");return jo(r)})(),t=>ie((()=>{let r=e.host;return mt(r,void 0)})(),r=>{let n=new Di(new lr,a([]),"",t,r,e.port,e.path,e.query);return new $(n)}))}function Ao(e){let r=Ft(e);return ie(r,ba)}var Ne=class extends d{constructor(t,r,n){super(),this.status=t,this.headers=r,this.body=n}};function zo(e,t){return wr(e,n=>(t(n),n))}function Kr(e,t){return us(e,n=>{if(n.isOk()){let i=n[0];return t(i)}else{let i=n[0];return _r(new w(i))}})}async function Bo(e){try{return new $(await fetch(e))}catch(t){return new w(new Xr(t.toString()))}}function To(e){return new Ne(e.status,q.fromArray([...e.headers]),e)}function va(e){let t=Ut(Lo(e)),r=Oo(e.method).toUpperCase(),n={headers:ja(e.headers),method:r};return[t,n]}function Co(e){let[t,r]=va(e);return r.method!=="GET"&&r.method!=="HEAD"&&(r.body=e.body),new globalThis.Request(t,r)}function ja(e){let t=new globalThis.Headers;for(let[r,n]of e)t.append(r.toLowerCase(),n);return t}async function Mi(e){let t;try{t=await e.body.text()}catch{return new w(new Zr)}return new $(e.withFields({body:t}))}var Xr=class extends d{constructor(t){super(),this[0]=t}},Zr=class extends d{};function qo(e){let r=Co(e),n=Bo(r);return Kr(n,i=>_r(new $(To(i))))}var ar=class extends d{constructor(t){super(),this[0]=t}},cr=class extends d{constructor(t){super(),this[0]=t}},st=class extends d{constructor(t){super(),this[0]=t}},Qr=class extends d{},Wi=class extends d{},Ui=class extends d{constructor(t,r){super(),this[0]=t,this[1]=r}},Fi=class extends d{},Pi=class extends d{constructor(t){super(),this.run=t}};function La(e,t,r){let n=qo(e),i=Kr(n,Mi),s=wr(i,l=>{if(l.isOk()){let u=l[0];return t.run(new $(u))}else return t.run(new w(new Qr))}),o=mn(s,l=>t.run(new w(new Qr)));zo(o,r)}function Io(e,t){return qe(r=>{let n=Ao(e);if(n.isOk()){let i=n[0];return La(i,t,r)}else return r(t.run(new w(new ar(e))))})}function Aa(e){if(e instanceof Ne&&200<=e.status&&e.status<=299){let t=e.status,r=e.body;return new $(r)}else{if(e instanceof Ne&&e.status===401)return new w(new Fi);if(e instanceof Ne&&e.status===404)return new w(new Wi);if(e instanceof Ne&&e.status===500){let t=e.body;return new w(new cr(t))}else{let t=e.status,r=e.body;return new w(new Ui(t,r))}}}function No(e,t){return new Pi(r=>{let i=ie(r,Aa),s=ie(i,o=>{let l=Rs(o,e);if(l.isOk()){let u=l[0];return new $(u)}else{let u=l[0];return new w(new st(u))}});return t(s)})}var Ee=class extends d{constructor(t,r,n,i,s){super(),this.id=t,this.revision=r,this.title=n,this.leading=i,this.subtitle=s}},Be=class extends d{constructor(t,r,n,i,s,o){super(),this.id=t,this.revision=r,this.title=n,this.leading=i,this.subtitle=s,this.content=o}},ot=class extends d{constructor(t,r,n,i,s,o){super(),this.id=t,this.revision=r,this.title=n,this.leading=i,this.subtitle=s,this.error=o}},Gi=class extends d{constructor(t){super(),this[0]=t}},fr=class extends d{constructor(t){super(),this[0]=t}},pr=class extends d{constructor(t){super(),this[0]=t}},en=class extends d{constructor(t){super(),this[0]=t}};function Do(e,t,r,n,i,s){return((l,u)=>U(l,p=>{let f;u===0?f=e:u===1?f=t:f=r;let m=f;if(p instanceof fr){let b=p[0];return m(b)}else if(p instanceof pr){let b=p[0];return n(b)}else if(p instanceof en){let b=p[0];return i(b)}else return i("Block")}))(s,0)}function za(){return K("type",je,e=>e==="heading"?K("text",je,t=>ve(new fr(t))):e==="paragraph"?K("text",je,t=>ve(new pr(t))):ve(new en(e)))}function Hi(){return Ws("type","not_set",je,e=>K("id",$t,t=>K("revision",$t,r=>K("title",je,n=>K("leading",je,i=>K("subtitle",je,s=>{let o=()=>K("content",Lr(za()),c=>ve(new Be(t,r,n,i,s,c))),l=()=>K("error",je,c=>ve(new ot(t,r,n,i,s,c))),u=()=>ve(new Ee(t,r,n,i,s));return Rn(o(),a([l(),u()]))}))))))}function tn(e,t){let r="http://127.0.0.1:1234/priv/static/article_"+A(t)+".json";return Io(r,No(Hi(),e))}function Mo(e){if(e instanceof Gi){let t=e[0];return ce(a([["type",T("block")],["contents",wt(t,Mo)]]))}else if(e instanceof fr){let t=e[0];return ce(a([["type",T("heading")],["text",T(t)]]))}else if(e instanceof pr){let t=e[0];return ce(a([["type",T("paragraph")],["text",T(t)]]))}else{let t=e[0];return ce(a([["type",T("unknown")],["text",T(t)]]))}}function Wo(e){if(e instanceof Ee){let t=e.id,r=e.revision,n=e.title,i=e.leading,s=e.subtitle;return ce(a([["type",T("metadata_v1")],["revision",ae(r)],["id",ae(t)],["title",T(n)],["leading",T(i)],["subtitle",T(s)]]))}else if(e instanceof Be){let t=e.id,r=e.revision,n=e.title,i=e.leading,s=e.subtitle,o=e.content;return ce(a([["type",T("article_v1")],["revision",ae(r)],["id",ae(t)],["title",T(n)],["leading",T(i)],["subtitle",T(s)],["content",wt(o,Mo)]]))}else{let t=e.id,r=e.revision,n=e.title,i=e.leading,s=e.subtitle,o=e.error;return ce(a([["type",T("with_error_v1")],["revision",ae(r)],["id",ae(t)],["title",T(n)],["leading",T(i)],["subtitle",T(s)],["error",T(o)]]))}}function Ji(e){let r=U(e,n=>[n.id,n]);return Qe(r)}function Vi(){return new ot(0,0,"fetching articles..","This is a placeholder article. At the moment, the articles are being fetched from the server.. please wait.","articles have not been fetched yet","replace me with something that is not an article")}var dr=class extends d{constructor(t,r,n){super(),this.messages=t,this.is_open=r,this.contacts=n}},rn=class extends d{constructor(t,r,n,i){super(),this.id=t,this.sender=r,this.content=n,this.image=i}},nn=class extends d{constructor(t,r,n,i,s){super(),this.id=t,this.name=r,this.status=n,this.image=i,this.username=s}};var Ki=class extends d{},Xi=class extends d{};function Fo(){return[new dr(a([new rn(1,"User","Hello, how are you?",""),new rn(2,"Assistant","I'm fine, thank you!","")]),!0,a([new nn(1,"John Doe",!0,"https://images.unsplash.com/photo-1519244703995-f4e0f30006d5?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80","@john_doe"),new nn(2,"Jane Smith",!1,"https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80","@jane_smith")])),M()]}function Po(e,t){if(Yi(e,"src\\chat\\chat.gleam",74),Yi(t,"src\\chat\\chat.gleam",75),e instanceof Ki)return[(()=>{let r=t;return new dr(r.messages,!1,r.contacts)})(),M()];if(e instanceof Xi)return[(()=>{let r=t;return new dr(r.messages,!0,r.contacts)})(),M()];throw Yi(e,"src\\chat\\chat.gleam",84),$e("todo","chat/chat",85,"update","chat.Msg not implemented",{})}function Yi(e,t,r){let n="\x1B[90m",i="\x1B[39m",s=`${t}:${r}`,o=De(e);if(globalThis.process?.stderr?.write){let l=`${n}${s}${i}
${o}
`;process.stderr.write(l)}else if(globalThis.Deno){let l=`${n}${s}${i}
${o}
`;globalThis.Deno.stderr.writeSync(new TextEncoder().encode(l))}else{let l=`${s}
${o}`;globalThis.console.log(l)}return e}function Ba(e){let t='"';for(let r=0;r<e.length;r++){let n=e[r];n==`
`?t+="\\n":n=="\r"?t+="\\r":n=="	"?t+="\\t":n=="\f"?t+="\\f":n=="\\"?t+="\\\\":n=='"'?t+='\\"':n<" "||n>"~"&&n<"\xA0"?t+="\\u{"+n.charCodeAt(0).toString(16).toUpperCase().padStart(4,"0")+"}":t+=n}return t+='"',t}function Ta(e){let t="dict.from_list([",r=!0,n=[];return e.forEach((i,s)=>{n.push([s,i])}),n.sort(),n.forEach(([i,s])=>{r||(t=t+", "),t=t+"#("+De(i)+", "+De(s)+")",r=!1}),t+"])"}function Ca(e){let t=globalThis.Object.keys(e).map(r=>{let n=De(e[r]);return isNaN(parseInt(r))?`${r}: ${n}`:n}).join(", ");return t?`${e.constructor.name}(${t})`:e.constructor.name}function qa(e){let t=Object.getPrototypeOf(e)?.constructor?.name||"Object",r=[];for(let s of Object.keys(e))r.push(`${De(s)}: ${De(e[s])}`);let n=r.length?" "+r.join(", ")+" ":"";return`//js(${t==="Object"?"":t+" "}{${n}})`}function De(e){let t=typeof e;if(e===!0)return"True";if(e===!1)return"False";if(e===null)return"//js(null)";if(e===void 0)return"Nil";if(t==="string")return Ba(e);if(t==="bigint"||t==="number")return e.toString();if(globalThis.Array.isArray(e))return`#(${e.map(De).join(", ")})`;if(e instanceof q)return`[${e.toArray().map(De).join(", ")}]`;if(e instanceof Xe)return`//utfcodepoint(${String.fromCodePoint(e.value)})`;if(e instanceof re)return Ia(e);if(e instanceof d)return Ca(e);if(Na(e))return Ta(e);if(e instanceof Set)return`//js(Set(${[...e].map(De).join(", ")}))`;if(e instanceof RegExp)return`//js(${e})`;if(e instanceof Date)return`//js(Date("${e.toISOString()}"))`;if(e instanceof Function){let r=[];for(let n of Array(e.length).keys())r.push(String.fromCharCode(n+97));return`//fn(${r.join(", ")}) { ... }`}return qa(e)}function Ia(e){let t=e.bitOffset+8*Math.trunc(e.bitSize/8),r=Ze(e,e.bitOffset,t),n=e.bitSize%8;if(n>0){let i=$r(e,t,e.bitSize,!1,!1),s=Array.from(r.rawBuffer),o=`${i}:size(${n})`;return s.length===0?`<<${o}>>`:`<<${Array.from(r.rawBuffer).join(", ")}, ${o}>>`}else return`<<${Array.from(r.rawBuffer).join(", ")}>>`}function Na(e){try{return e instanceof le}catch{return!1}}function Ma(e){{let t=e.expected,r=e.found,n=e.path;return"expected: "+t+", found: "+r+", path: "+ke(n,"/")}}function Ro(e){if(e.hasLength(0))return"no errors";{let t=e.head,r=e.tail;return Ma(t)+`
`+Ro(r)}}function Wa(e){{let t=e.expected,r=e.found,n=e.path;return"expected: "+t+", found: "+r+", path: "+ke(n,"/")}}function Go(e){if(e.hasLength(0))return"";{let t=e.head,r=e.tail;return Wa(t)+`
`+Go(r)}}function Ua(e){if(e instanceof _t)return"unexpected end of input";if(e instanceof ue)return"unexpected byte: "+e[0];if(e instanceof zr)return"unexpected sequence: "+e[0];if(e instanceof Er){let t=e[0];return`unexpected format
`+Ro(t)}else{let t=e[0];return`unable to decode
`+Go(t)}}function Zi(e){if(e instanceof ar)return"bad url: "+e[0];if(e instanceof cr)return"internal server error: "+e[0];if(e instanceof st){let t=e[0];return`json error
`+Ua(t)}else return"unhandled error"}function sn(e,t){localStorage.setItem(e,t)}function Ho(e){let t=localStorage.getItem(e);return t?new $(t):new w(void 0)}function Jo(e){return JSON.parse(e)}var lt=class extends d{constructor(t){super(),this.version=t}},vt=class extends d{constructor(t,r){super(),this.version=t,this.articles=r}};function Qi(e){let t;if(e instanceof lt)t=ce(a([["version",ae(0)]]));else{let n=e.articles;t=ce(a([["version",ae(1)],["articles",wt(n,Wo)]]))}return Yn(t)}function Vo(){return K("version",$t,e=>e===0?ve(new lt(0)):e===1?K("articles",Lr(Hi()),t=>ve(new vt(1,t))):Ms(new lt(0),"Unsupported model version"))}function Yo(e,t,r){return qe(n=>{let i=Ho(e);if(i.isOk()){let s=i[0],o=Wt(Jo(s),t);if(o.isOk()){let l=o[0];return n(r(new h(l)))}else return n(r(new g))}else return n(r(new g))})}var on="jst_lustre_state";var V=class extends d{constructor(t,r,n,i,s){super(),this.articles=t,this.route=r,this.user_messages=n,this.chat=i,this.ws=s}},mr=class extends d{constructor(t,r){super(),this.id=t,this.text=r}},ts=class extends d{constructor(t,r){super(),this.id=t,this.text=r}};var Ve=class extends d{},Ye=class extends d{},fe=class extends d{constructor(t){super(),this.id=t}},Lt=class extends d{},un=class extends d{constructor(t){super(),this.uri=t}},an=class extends d{constructor(t){super(),this.route=t}},hr=class extends d{constructor(t){super(),this.article=t}},jt=class extends d{constructor(t){super(),this.msg=t}},cn=class extends d{constructor(t){super(),this.opt=t}},Je=class extends d{constructor(t){super(),this[0]=t}},ct=class extends d{constructor(t,r){super(),this.id=t,this.result=r}},fn=class extends d{constructor(t){super(),this.result=t}},pn=class extends d{constructor(t){super(),this.msg=t}};function Ko(e){let t=Qn(e.path);if(t.hasLength(0))return new Ve;if(t.hasLength(1)&&t.head==="")return new Ve;if(t.hasLength(1)&&t.head==="articles")return new Ye;if(t.hasLength(2)&&t.head==="article"){let r=t.tail.head,n=vr(r);if(n.isOk()){let i=n[0];return new fe(i)}else return new un(e)}else return t.hasLength(1)&&t.head==="about"?new Lt:new un(e)}function tl(e){if(e instanceof Ve)return"/";if(e instanceof Lt)return"/about";if(e instanceof Ye)return"/articles";if(e instanceof fe){let t=e.id;return"/article/"+A(t)}else return"/404"}function St(e){return eo(tl(e))}function ns(e,t){if(t instanceof fe){let r=t.id,n=et(e.articles,r);if(n.isOk()){let i=n[0];if(i instanceof Ee){let s=i.id;return tn(o=>new ct(s,o),s)}else return i instanceof Be?M():tn(s=>new ct(r,s),r)}else return ft("no article found for id: "+A(r),"src\\jst_lustre.gleam",288),M()}else return M()}function Ra(e){ft("init","src\\jst_lustre.gleam",96);let t,r=Li();if(r.isOk()){let m=r[0];t=Ko(m)}else t=new Ve;let n=t,i,s=a([]);i=Qe(s);let o=i,l=Fo(),u=l[0],c=l[1],p=new V(o,n,a([]),u,new g),f=ko(m=>{let k=Ko(m);return new an(k)});return[p,Ys(a([f,ns(p,n),ri(c,m=>new pn(m)),go("ws://127.0.0.1:1234/ws",m=>new Je(m)),Yo(on,Vo(),m=>new cn(m))]))]}function rl(e){let t=ms(e);return t.isOk()?t[0].id+1:0}function Ga(e,t){if(t.isOk()){let r=t[0],n=Ji(r),i;e.route instanceof fe?(ft("loading article content","src\\jst_lustre.gleam",337),i=ns((()=>{let l=e;return new V(n,l.route,l.user_messages,l.chat,l.ws)})(),e.route)):(ft("no effect for route: "+tl(e.route),"src\\jst_lustre.gleam",341),i=M());let o=i;return[(()=>{let l=e;return new V(n,l.route,l.user_messages,l.chat,l.ws)})(),o]}else{let r=t[0],n=Zi(r),i=Q(e.user_messages,a([new mr(rl(e.user_messages),n)]));return[(()=>{let s=e;return new V(s.articles,s.route,i,s.chat,s.ws)})(),M()]}}function Ha(e,t,r){let n="failed to load article (id: "+A(r)+"): "+Zi(t);if(t instanceof st&&t[0]instanceof ue){let i=fs(e.articles,(s,o)=>o instanceof Be?o.id===r?new ot(r,o.revision,o.title,o.leading,o.subtitle,n):o:o instanceof Ee&&o.id===r?new ot(r,o.revision,o.title,o.leading,o.subtitle,n):o);return[(()=>{let s=e;return new V(i,s.route,s.user_messages,s.chat,s.ws)})(),M()]}else{ft(t,"src\\jst_lustre.gleam",399);let i=Q(e.user_messages,a([new mr(rl(e.user_messages),"UNHANDLED ERROR while loading article (id:"+A(r)+"): "+n)]));return[(()=>{let s=e;return new V(s.articles,s.route,i,s.chat,s.ws)})(),M()]}}function Ja(e,t){if(t instanceof an){let r=t.route;return[(()=>{let n=e;return new V(n.articles,r,n.user_messages,n.chat,n.ws)})(),ns(e,r)]}else if(t instanceof cn){let r=t.opt;if(ft(t,"src\\jst_lustre.gleam",205),r instanceof h&&r[0]instanceof vt){let n=r[0].articles;return[(()=>{let i=e;return new V(Ji(n),i.route,i.user_messages,i.chat,i.ws)})(),M()]}else return r instanceof h&&r[0]instanceof lt?[e,M()]:[e,M()]}else{if(t instanceof Je&&t[0]instanceof rr)throw $e("panic","jst_lustre",222,"update","`panic` expression evaluated.",{});if(t instanceof Je&&t[0]instanceof nr){let r=t[0][0];return[(()=>{let n=e;return new V(n.articles,n.route,n.user_messages,n.chat,new h(r))})(),xo(r,"client-init")]}else if(t instanceof Je&&t[0]instanceof ir){let r=t[0][0];throw $e("todo","jst_lustre",227,"update","`todo` expression evaluated. This code has not yet been implemented.",{})}else if(t instanceof Je&&t[0]instanceof sr){let r=t[0][0];throw $e("todo","jst_lustre",228,"update","either-or",{})}else if(t instanceof Je&&t[0]instanceof or){let r=t[0][0];return[(()=>{let n=e;return new V(n.articles,n.route,n.user_messages,n.chat,new g)})(),M()]}else if(t instanceof fn){let r=t.result;return Ga(e,r)}else if(t instanceof ct){let r=t.id,n=t.result;if(n.isOk()){let i=n[0],s=_e(e.articles,i.id,i);return[(()=>{let o=e;return new V(s,o.route,o.user_messages,o.chat,o.ws)})(),M()]}else{let i=n[0];return Ha(e,i,r)}}else if(t instanceof hr){let r=t.article;if(r instanceof Ee){let n=r.id;return[e,tn(i=>new ct(n,i),n)]}else return r instanceof Be?[e,M()]:[e,M()]}else if(t instanceof jt){let r=t.msg,n=xn(e.user_messages,i=>!S(i,r));return[(()=>{let i=e;return new V(i.articles,i.route,n,i.chat,i.ws)})(),M()]}else{let r=t.msg,n=Po(r,e.chat),i=n[0],s=n[1];return[(()=>{let o=e;return new V(o.articles,o.route,o.user_messages,i,o.ws)})(),ri(s,o=>new pn(o))]}}}function Va(e,t){let r=Ja(e,t),n=r[0],i=r[1],s=o=>new vt(1,(()=>{let l=o.articles,u=Fe(l);return U(u,c=>c[1])})());return t instanceof fn?sn(on,Qi(s(n))):t instanceof ct&&sn(on,Qi(s(n))),[n,i]}function Xo(e,t,r){let n;return t instanceof fe&&e instanceof Ye?n=!0:n=S(t,e),fi(a([ni(a([["border-transparent border-b-2 hover:border-pink-700",!0],["text-pink-700",n]]))]),a([He(a([St(e)]),a([B(r)]))]))}function Ya(e){return ci(a([x("py-2 border-b bg-zinc-800 border-pink-700 font-mono ")]),a([E(a([x("flex justify-between px-10 items-center max-w-screen-md mx-auto")]),a([E(a([]),a([He(a([x("font-light"),St(new Ve)]),a([B("jst.dev")]))])),E(a([]),a([B((()=>{if(e.user_messages.hasLength(0))return"";{let r=gr(e.user_messages);return"got "+A(r)+" messages"}})())])),pi(a([x("flex space-x-8 pr-2")]),a([Xo(new Ye,e.route,"Articles"),Xo(new Lt,e.route,"About")]))]))]))}function Ka(e){if(e instanceof mr){let t=e.id,r=e.text;return E(a([x("rounded-md bg-red-50 p-4 absolute top-0 left-0 right-0"),he("user-message-"+A(t))]),a([E(a([x("flex")]),a([E(a([x("shrink-0")]),a([B("ERROR")])),E(a([x("ml-3")]),a([ze(a([x("text-sm font-medium text-red-800")]),a([B(r)]))])),E(a([x("ml-auto pl-3")]),a([E(a([x("-mx-1.5 -my-1.5")]),a([er(a([x("inline-flex rounded-md bg-red-50 p-1.5 text-red-500 hover:bg-red-100 focus:outline-none focus:ring-2 focus:ring-red-600 focus:ring-offset-2 focus:ring-offset-orange-50"),tr(new jt(e))]),a([B("Dismiss")]))]))]))]))]))}else if(e instanceof ts){let t=e.id,r=e.text;return E(a([x("rounded-md bg-green-50 p-4 relative top-0 left-0 right-0"),he("user-message-"+A(t))]),a([E(a([x("flex")]),a([E(a([x("shrink-0")]),a([B("WARNING")])),E(a([x("ml-3")]),a([ze(a([x("text-sm font-medium text-green-800")]),a([B(r)]))])),E(a([x("ml-auto pl-3")]),a([E(a([x("-mx-1.5 -my-1.5")]),a([er(a([x("inline-flex rounded-md bg-green-50 p-1.5 text-green-500 hover:bg-green-100 focus:outline-none focus:ring-2 focus:ring-green-600 focus:ring-offset-2 focus:ring-offset-green-50"),tr(new jt(e))]),a([B("Dismiss")]))]))]))]))]))}else{let t=e.id,r=e.text;return E(a([x("border-l-4 border-yellow-400 bg-yellow-50 p-4"),he("user-message-"+A(t))]),a([E(a([x("flex")]),a([E(a([x("shrink-0")]),a([B("INFO")])),E(a([x("ml-3")]),a([ze(a([x("font-medium text-yellow-800")]),a([B(r)]))])),E(a([x("ml-auto pl-3")]),a([E(a([x("-mx-1.5 -my-1.5")]),a([er(a([x("inline-flex rounded-md bg-yellow-50 p-1.5 text-yellow-500 hover:bg-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50"),tr(new jt(e))]),a([B("Dismiss")]))]))]))]))]))}}function nl(e){if(e.hasLength(0))return a([]);{let t=e.head,r=e.tail;return _(Ka(t),nl(r))}}function ut(e,t){return co(a([he("article-title-"+A(t)),x("text-3xl pt-8 text-pink-700 font-light"),x("article-title")]),a([B(e)]))}function at(e,t){return E(a([he("article-subtitle-"+A(t)),x("text-md text-zinc-500 font-light"),x("article-subtitle")]),a([B(e)]))}function ln(e,t){return ze(a([he("article-lead-"+A(t)),x("font-bold pt-8"),x("article-leading")]),a([B(e)]))}function es(e){return ai(a([x("text-2xl text-pink-600 font-light pt-16"),x("article-h2")]),a([B(e)]))}function We(e){return ze(a([x("pt-8")]),a([B(e)]))}function Xa(){return a([ut("About",0),We(`I'm a software developer and a writer. I'm also a father and a husband. 
      I'm also a software developer and a writer. I'm also a father and a 
      husband. I'm also a software developer and a writer. I'm also a father 
      and a husband. I'm also a software developer and a writer. I'm also a 
      father and a husband.`),We(`If you enjoy these glimpses into my mind, feel free to come back
       semi-regularly. But not too regularly, you creep.`)])}function Zo(){return a([ut("Not found",0),We(`You glimpse into the void and see -- nothing?
       Well that was somewhat expected.`)])}function rs(e){return ze(a([x("pt-8 text-orange-500")]),a([B(e)]))}function Qo(e){let t,n=_n(e),i=yn(n,(o,l)=>br(o.id,l.id));t=gn(i,(o,l)=>{if(o instanceof Be){let u=o.id,c=o.title,p=o.leading,f=o.subtitle;return Qt(a([x("mt-14")]),a([He(a([x("group block  border-l border-zinc-700  pl-4  hover:border-pink-700 transition-colors duration-25"),St(new fe(u)),di(new hr(o))]),a([Jr(a([he("article-title-"+A(u)),x("article-title"),x("text-xl text-pink-700 font-light")]),a([B(c)])),at(f,u),We(p)]))]))}else if(o instanceof Ee){let u=o.id,c=o.title,p=o.leading,f=o.subtitle;return Qt(a([x("mt-14")]),a([He(a([x("group block  border-l border-zinc-700  pl-4  hover:border-pink-700 transition-colors duration-25"),St(new fe(u)),di(new hr(o))]),a([Jr(a([he("article-title-"+A(u)),x("article-title"),x("text-xl text-pink-700 font-light")]),a([B(c)])),at(f,u),We(p)]))]))}else{let u=o.id,c=o.title,p=o.error;return Qt(a([x("mt-14 group group-hover"),x("animate-break")]),a([He(a([St(new fe(u)),x("group block  border-l border-zinc-700 pl-4 hover:border-zinc-500 transition-colors duration-25")]),a([Jr(a([he("article-title-"+A(u)),x("article-title"),x("text-xl font-light w-max-content"),x("animate-break--mirror hover:animate-break")]),a([B(c)])),at(p,u),rs("there was an error loading this article. Click to try again.")]))]))}});let s=t;return _(ut("Articles",0),s)}function il(e,t){return He(a([St(e),x("text-pink-700 hover:underline cursor-pointer")]),a([B(t)]))}function Za(){return a([ut("Welcome to jst.dev!",0),at(`...or, A lession on overengineering for fun and.. 
      well just for fun.`,0),ln(`This site and it's underlying IT-infrastructure is the primary 
      place for me to experiment with technologies and topologies. I 
      also share some of my thoughts and learnings here.`,0),ze(a([x("mt-14")]),a([B(`This site and it's underlying IT-infrastructure is the primary 
        place for me to experiment with technologies and topologies. I 
        also share some of my thoughts and learnings here. Feel free to 
        check out my overview, `),il(new fe(1),"NATS all the way down ->")])),We("It to is a work in progress and I mostly keep it here for my own reference."),We(`I'm also a software developer and a writer. I'm also a father and a 
      husband. I'm also a software developer and a writer. I'm also a father 
      and a husband. I'm also a software developer and a writer. I'm also a 
      father and a husband. I'm also a software developer and a writer.`)])}function el(e){let t;if(e instanceof Ee){let n=e.id,i=e.revision,s=e.title,o=e.leading,l=e.subtitle;t=a([ut(s,n),at(l,n),ln(o,n),We("loading content..")])}else if(e instanceof Be){let n=e.id,i=e.revision,s=e.title,o=e.leading,l=e.subtitle,u=e.content;t=_(ut(s,n),_(at(l,n),_(ln(o,n),Do(es,es,es,We,rs,u))))}else{let n=e.id,i=e.revision,s=e.title,o=e.leading,l=e.subtitle,u=e.error;t=a([ut(s,n),at(l,n),ln(o,n),rs(u)])}let r=t;return a([Qt(a([x("with-transition")]),r),ze(a([x("mt-14")]),a([il(new Ye,"<- Go back?")]))])}function Qa(e){return E(a([x("text-zinc-400 h-full w-full text-lg font-thin mx-auto"),x("focus:outline-none focus:ring-2 focus:ring-red-600 focus:ring-offset-2 focus:ring-offset-orange-50")]),a([Ya(e),E(a([x("fixed top-18 left-0 right-0")]),nl(e.user_messages)),fo(a([x("px-10 py-4 max-w-screen-md mx-auto")]),(()=>{let t=e.route;if(t instanceof Ve)return Za();if(t instanceof Ye)return hn(e.articles)?Qo(Qe(a([[0,Vi()]]))):Qo(e.articles);if(t instanceof fe){let r=t.id;if(hn(e.articles))return ft("no articles loaded","src\\jst_lustre.gleam",466),el(Vi());{let i=et(e.articles,r);if(i.isOk()){let s=i[0];return el(s)}else return Zo()}}else return t instanceof Lt?Xa():Zo()})())]))}function sl(){let e=lo(Ra,Va,Qa),t=uo(e,"#app",void 0);if(!t.isOk())throw $e("let_assert","jst_lustre",34,"main","Pattern match failed, no pattern matched the value.",{value:t})}function ft(e,t,r){let n="\x1B[90m",i="\x1B[39m",s=`${t}:${r}`,o=Me(e);if(globalThis.process?.stderr?.write){let l=`${n}${s}${i}
${o}
`;process.stderr.write(l)}else if(globalThis.Deno){let l=`${n}${s}${i}
${o}
`;globalThis.Deno.stderr.writeSync(new TextEncoder().encode(l))}else{let l=`${s}
${o}`;globalThis.console.log(l)}return e}function ec(e){let t='"';for(let r=0;r<e.length;r++){let n=e[r];n==`
`?t+="\\n":n=="\r"?t+="\\r":n=="	"?t+="\\t":n=="\f"?t+="\\f":n=="\\"?t+="\\\\":n=='"'?t+='\\"':n<" "||n>"~"&&n<"\xA0"?t+="\\u{"+n.charCodeAt(0).toString(16).toUpperCase().padStart(4,"0")+"}":t+=n}return t+='"',t}function tc(e){let t="dict.from_list([",r=!0,n=[];return e.forEach((i,s)=>{n.push([s,i])}),n.sort(),n.forEach(([i,s])=>{r||(t=t+", "),t=t+"#("+Me(i)+", "+Me(s)+")",r=!1}),t+"])"}function rc(e){let t=globalThis.Object.keys(e).map(r=>{let n=Me(e[r]);return isNaN(parseInt(r))?`${r}: ${n}`:n}).join(", ");return t?`${e.constructor.name}(${t})`:e.constructor.name}function nc(e){let t=Object.getPrototypeOf(e)?.constructor?.name||"Object",r=[];for(let s of Object.keys(e))r.push(`${Me(s)}: ${Me(e[s])}`);let n=r.length?" "+r.join(", ")+" ":"";return`//js(${t==="Object"?"":t+" "}{${n}})`}function Me(e){let t=typeof e;if(e===!0)return"True";if(e===!1)return"False";if(e===null)return"//js(null)";if(e===void 0)return"Nil";if(t==="string")return ec(e);if(t==="bigint"||t==="number")return e.toString();if(globalThis.Array.isArray(e))return`#(${e.map(Me).join(", ")})`;if(e instanceof q)return`[${e.toArray().map(Me).join(", ")}]`;if(e instanceof Xe)return`//utfcodepoint(${String.fromCodePoint(e.value)})`;if(e instanceof re)return ic(e);if(e instanceof d)return rc(e);if(sc(e))return tc(e);if(e instanceof Set)return`//js(Set(${[...e].map(Me).join(", ")}))`;if(e instanceof RegExp)return`//js(${e})`;if(e instanceof Date)return`//js(Date("${e.toISOString()}"))`;if(e instanceof Function){let r=[];for(let n of Array(e.length).keys())r.push(String.fromCharCode(n+97));return`//fn(${r.join(", ")}) { ... }`}return nc(e)}function ic(e){let t=e.bitOffset+8*Math.trunc(e.bitSize/8),r=Ze(e,e.bitOffset,t),n=e.bitSize%8;if(n>0){let i=$r(e,t,e.bitSize,!1,!1),s=Array.from(r.rawBuffer),o=`${i}:size(${n})`;return s.length===0?`<<${o}>>`:`<<${Array.from(r.rawBuffer).join(", ")}, ${o}>>`}else return`<<${Array.from(r.rawBuffer).join(", ")}>>`}function sc(e){try{return e instanceof le}catch{return!1}}sl();
