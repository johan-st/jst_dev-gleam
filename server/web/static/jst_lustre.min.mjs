var d=class{withFields(t){let n=Object.keys(this).map(r=>r in t?t[r]:this[r]);return new this.constructor(...n)}},G=class{static fromArray(t,n){let r=n||new wr;for(let i=t.length-1;i>=0;--i)r=new Qt(t[i],r);return r}[Symbol.iterator](){return new _l(this)}toArray(){return[...this]}atLeastLength(t){let n=this;for(;t-- >0&&n;)n=n.tail;return n!==void 0}hasLength(t){let n=this;for(;t-- >0&&n;)n=n.tail;return t===-1&&n instanceof wr}countLength(){let t=this,n=0;for(;t;)t=t.tail,n++;return n-1}};function w(e,t){return new Qt(e,t)}function a(e,t){return G.fromArray(e,t)}var _l=class{#e;constructor(t){this.#e=t}next(){if(this.#e instanceof wr)return{done:!0};{let{head:t,tail:n}=this.#e;return this.#e=n,{value:t,done:!1}}}},wr=class extends G{},Qt=class extends G{constructor(t,n){super(),this.head=t,this.tail=n}},be=class{bitSize;byteSize;bitOffset;rawBuffer;constructor(t,n,r){if(!(t instanceof Uint8Array))throw globalThis.Error("BitArray can only be constructed from a Uint8Array");if(this.bitSize=n??t.length*8,this.byteSize=Math.trunc((this.bitSize+7)/8),this.bitOffset=r??0,this.bitSize<0)throw globalThis.Error(`BitArray bit size is invalid: ${this.bitSize}`);if(this.bitOffset<0||this.bitOffset>7)throw globalThis.Error(`BitArray bit offset is invalid: ${this.bitOffset}`);if(t.length!==Math.trunc((this.bitOffset+this.bitSize+7)/8))throw globalThis.Error("BitArray buffer length is invalid");this.rawBuffer=t}byteAt(t){if(!(t<0||t>=this.byteSize))return mr(this.rawBuffer,this.bitOffset,t)}equals(t){if(this.bitSize!==t.bitSize)return!1;let n=Math.trunc(this.bitSize/8);if(this.bitOffset===0&&t.bitOffset===0){for(let i=0;i<n;i++)if(this.rawBuffer[i]!==t.rawBuffer[i])return!1;let r=this.bitSize%8;if(r){let i=8-r;if(this.rawBuffer[n]>>i!==t.rawBuffer[n]>>i)return!1}}else{for(let i=0;i<n;i++){let s=mr(this.rawBuffer,this.bitOffset,i),l=mr(t.rawBuffer,t.bitOffset,i);if(s!==l)return!1}let r=this.bitSize%8;if(r){let i=mr(this.rawBuffer,this.bitOffset,n),s=mr(t.rawBuffer,t.bitOffset,n),l=8-r;if(i>>l!==s>>l)return!1}}return!0}get buffer(){if(Do("buffer","Use BitArray.byteAt() or BitArray.rawBuffer instead"),this.bitOffset!==0||this.bitSize%8!==0)throw new globalThis.Error("BitArray.buffer does not support unaligned bit arrays");return this.rawBuffer}get length(){if(Do("length","Use BitArray.bitSize or BitArray.byteSize instead"),this.bitOffset!==0||this.bitSize%8!==0)throw new globalThis.Error("BitArray.length does not support unaligned bit arrays");return this.rawBuffer.length}};function mr(e,t,n){if(t===0)return e[n]??0;{let r=e[n]<<t&255,i=e[n+1]>>8-t;return r|i}}var jt=class{constructor(t){this.value=t}},Io={};function Do(e,t){Io[e]||(console.warn(`Deprecated BitArray.${e} property used in JavaScript FFI code. ${t}.`),Io[e]=!0)}function Xt(e,t,n){if(n??=e.bitSize,Uo(e,t,n),t===n)return new be(new Uint8Array);if(t===0&&n===e.bitSize)return e;t+=e.bitOffset,n+=e.bitOffset;let r=Math.trunc(t/8),s=Math.trunc((n+7)/8)-r,l;return r===0&&s===e.rawBuffer.byteLength?l=e.rawBuffer:l=new Uint8Array(e.rawBuffer.buffer,e.rawBuffer.byteOffset+r,s),new be(l,n-t,t%8)}function Li(e,t,n,r,i){if(Uo(e,t,n),t===n)return 0;t+=e.bitOffset,n+=e.bitOffset;let s=t%8===0,l=n%8===0;if(s&&l)return Bc(e,t/8,n/8,r,i);let o=n-t,u=Math.trunc(t/8),c=Math.trunc((n-1)/8);if(u==c){let p=255>>t%8,f=(8-n%8)%8,m=(e.rawBuffer[u]&p)>>f;if(i){let g=2**(o-1);m>=g&&(m-=g*2)}return m}return o<=53?Mc(e.rawBuffer,t,n,r,i):Ic(e.rawBuffer,t,n,r,i)}function Bc(e,t,n,r,i){return n-t<=6?Pc(e.rawBuffer,t,n,r,i):Nc(e.rawBuffer,t,n,r,i)}function Pc(e,t,n,r,i){let s=n-t,l=0;if(r)for(let o=t;o<n;o++)l*=256,l+=e[o];else for(let o=n-1;o>=t;o--)l*=256,l+=e[o];if(i){let o=2**(s*8-1);l>=o&&(l-=o*2)}return l}function Nc(e,t,n,r,i){let s=n-t,l=0n;if(r)for(let o=t;o<n;o++)l*=256n,l+=BigInt(e[o]);else for(let o=n-1;o>=t;o--)l*=256n,l+=BigInt(e[o]);if(i){let o=1n<<BigInt(s*8-1);l>=o&&(l-=o*2n)}return Number(l)}function Mc(e,t,n,r,i){let s=t%8===0,l=n-t,o=Math.trunc(t/8),u=0;if(r){if(!s){let c=8-t%8;u=e[o++]&(1<<c)-1,l-=c}for(;l>=8;)u*=256,u+=e[o++],l-=8;l>0&&(u*=2**l,u+=e[o]>>8-l)}else if(s){let c=n-t,p=1;for(;c>=8;)u+=e[o++]*p,p*=256,c-=8;u+=(e[o]>>8-c)*p}else{let c=t%8,p=8-c,f=n-t,m=1;for(;f>=8;){let g=e[o]<<c|e[o+1]>>p;u+=(g&255)*m,m*=256,f-=8,o++}if(f>0){let g=f-Math.max(0,f-p),k=(e[o]&(1<<p)-1)>>p-g;f-=g,f>0&&(k*=2**f,k+=e[o+1]>>8-f),u+=k*m}}if(i){let c=2**(n-t-1);u>=c&&(u-=c*2)}return u}function Ic(e,t,n,r,i){let s=t%8===0,l=n-t,o=Math.trunc(t/8),u=0n;if(r){if(!s){let c=8-t%8;u=BigInt(e[o++]&(1<<c)-1),l-=c}for(;l>=8;)u*=256n,u+=BigInt(e[o++]),l-=8;l>0&&(u<<=BigInt(l),u+=BigInt(e[o]>>8-l))}else if(s){let c=n-t,p=0n;for(;c>=8;)u+=BigInt(e[o++])<<p,p+=8n,c-=8;u+=BigInt(e[o]>>8-c)<<p}else{let c=t%8,p=8-c,f=n-t,m=0n;for(;f>=8;){let g=e[o]<<c|e[o+1]>>p;u+=BigInt(g&255)<<m,m+=8n,f-=8,o++}if(f>0){let g=f-Math.max(0,f-p),k=(e[o]&(1<<p)-1)>>p-g;f-=g,f>0&&(k<<=f,k+=e[o+1]>>8-f),u+=BigInt(k)<<m}}if(i){let c=2n**BigInt(n-t-1);u>=c&&(u-=c*2n)}return Number(u)}function Uo(e,t,n){if(t<0||t>e.bitSize||n<t||n>e.bitSize){let r=`Invalid bit array slice: start = ${t}, end = ${n}, bit size = ${e.bitSize}`;throw new globalThis.Error(r)}}var Mn=class e extends d{static isResult(t){return t instanceof e}},x=class extends Mn{constructor(t){super(),this[0]=t}isOk(){return!0}},y=class extends Mn{constructor(t){super(),this[0]=t}isOk(){return!1}};function q(e,t){let n=[e,t];for(;n.length;){let r=n.pop(),i=n.pop();if(r===i)continue;if(!Fo(r)||!Fo(i)||!Jc(r,i)||Fc(r,i)||Uc(r,i)||Wc(r,i)||Gc(r,i)||Rc(r,i)||Hc(r,i))return!1;let l=Object.getPrototypeOf(r);if(l!==null&&typeof l.equals=="function")try{if(r.equals(i))continue;return!1}catch{}let[o,u]=Dc(r);for(let c of o(r))n.push(u(r,c),u(i,c))}return!0}function Dc(e){if(e instanceof Map)return[t=>t.keys(),(t,n)=>t.get(n)];{let t=e instanceof globalThis.Error?["message"]:[];return[n=>[...t,...Object.keys(n)],(n,r)=>n[r]]}}function Fc(e,t){return e instanceof Date&&(e>t||e<t)}function Uc(e,t){return!(e instanceof be)&&e.buffer instanceof ArrayBuffer&&e.BYTES_PER_ELEMENT&&!(e.byteLength===t.byteLength&&e.every((n,r)=>n===t[r]))}function Wc(e,t){return Array.isArray(e)&&e.length!==t.length}function Gc(e,t){return e instanceof Map&&e.size!==t.size}function Rc(e,t){return e instanceof Set&&(e.size!=t.size||[...e].some(n=>!t.has(n)))}function Hc(e,t){return e instanceof RegExp&&(e.source!==t.source||e.flags!==t.flags)}function Fo(e){return typeof e=="object"&&e!==null}function Jc(e,t){return typeof e!="object"&&typeof t!="object"&&(!e||!t)||[Promise,WeakSet,WeakMap,Function].some(r=>e instanceof r)?!1:e.constructor===t.constructor}function en(e,t){return t===0?0:e%t}function tn(e,t){return Math.trunc($l(e,t))}function $l(e,t){return t===0?0:e/t}function R(e,t,n,r,i,s){let l=new globalThis.Error(i);l.gleam_error=e,l.module=t,l.line=n,l.function=r,l.fn=r;for(let o in s)l[o]=s[o];return l}var $=class extends d{constructor(t){super(),this[0]=t}},h=class extends d{};function Ai(e,t){if(e instanceof $){let n=e[0];return new x(n)}else return new y(t)}function gr(e,t){if(e instanceof $){let n=e[0];return new $(t(n))}else return new h}function Wo(e){return e instanceof $?e[0]:new h}function Go(e,t){if(e instanceof $){let n=e[0];return t(n)}else return new h}function Je(e,t,n){return e?t:n()}var J=class extends d{},re=class extends d{},te=class extends d{};function ze(e,t,n){return Jo(t,n,e)}function Vc(e,t){for(;;){let n=e,r=t;if(n.hasLength(0))return r;{let i=n.head;e=n.tail,t=w(i,r)}}}function Yc(e,t){for(;;){let n=e,r=t;if(n.hasLength(0))return Vc(r,a([]));{let i=n.head[0];e=n.tail,t=w(i,r)}}}function hl(e){return Yc(nn(e),a([]))}function ml(e,t,n){let r=Ye(e,t);if(r.isOk()){let i=r[0];return ze(e,t,n(new $(i)))}else return ze(e,t,n(new h))}function Ko(e,t){let n=e[0],r=e[1];return[n,t(r)]}var Q=class extends d{},Ze=class extends d{};function Dn(e,t){for(;;){let n=e,r=t;if(n.hasLength(0))return r;{let i=n.head;e=n.tail,t=w(i,r)}}}function E(e){return Dn(e,a([]))}function ef(e,t,n){for(;;){let r=e,i=t,s=n;if(r.hasLength(0))return E(s);{let l=r.head,o=r.tail,u;i(l)?u=w(l,s):u=s;let p=u;e=o,t=i,n=p}}}function wt(e,t){return ef(e,t,a([]))}function tf(e,t,n){for(;;){let r=e,i=t,s=n;if(r.hasLength(0))return E(s);{let l=r.head,o=r.tail,u,c=i(l);if(c.isOk()){let f=c[0];u=w(f,s)}else u=s;let p=u;e=o,t=i,n=p}}}function rn(e,t){return tf(e,t,a([]))}function nf(e,t,n){for(;;){let r=e,i=t,s=n;if(r.hasLength(0))return E(s);{let l=r.head;e=r.tail,t=i,n=w(i(l),s)}}}function P(e,t){return nf(e,t,a([]))}function rf(e,t){for(;;){let n=e,r=t;if(n.hasLength(0))return r;{let i=n.head;e=n.tail,t=w(i,r)}}}function K(e,t){return rf(E(e),t)}function ye(e,t,n){for(;;){let r=e,i=t,s=n;if(r.hasLength(0))return i;{let l=r.head;e=r.tail,t=s(i,l),n=s}}}function wl(e,t,n){let r=ye(e,[t,a([])],(i,s)=>{let l=i[0],o=i[1],u=n(l,s),c=u[0],p=u[1];return[c,w(p,o)]});return Ko(r,E)}function sf(e,t,n,r){for(;;){let i=e,s=t,l=n,o=r;if(i.hasLength(0))return s;{let u=i.head;e=i.tail,t=l(s,u,o),n=l,r=o+1}}}function gl(e,t,n){return sf(e,t,n,0)}function gt(e,t){for(;;){let n=e,r=t;if(n.hasLength(0))return new y(void 0);{let i=n.head,s=n.tail;if(r(i))return new x(i);e=s,t=r}}}function xr(e,t){for(;;){let n=e,r=t;if(n.hasLength(0))return!1;{let i=n.head,s=n.tail;if(r(i))return!0;e=s,t=r}}}function lf(e,t,n,r,i,s){for(;;){let l=e,o=t,u=n,c=r,p=i,f=s,m=w(p,u);if(l.hasLength(0))return c instanceof Q?w(E(m),f):w(m,f);{let g=l.head,k=l.tail,C=o(p,g);if(C instanceof te&&c instanceof Ze)e=k,t=o,n=m,r=c,i=g,s=f;else if(C instanceof J&&c instanceof Q)e=k,t=o,n=m,r=c,i=g,s=f;else if(C instanceof re&&c instanceof Q)e=k,t=o,n=m,r=c,i=g,s=f;else if(C instanceof te&&c instanceof Q){let L;c instanceof Q?L=w(E(m),f):L=w(m,f);let D=L;if(k.hasLength(0))return w(a([g]),D);{let M=k.head,S=k.tail,z,O=o(g,M);O instanceof J?z=new Q:O instanceof re?z=new Q:z=new Ze;let V=z;e=S,t=o,n=a([g]),r=V,i=M,s=D}}else if(C instanceof J&&c instanceof Ze){let L;c instanceof Q?L=w(E(m),f):L=w(m,f);let D=L;if(k.hasLength(0))return w(a([g]),D);{let M=k.head,S=k.tail,z,O=o(g,M);O instanceof J?z=new Q:O instanceof re?z=new Q:z=new Ze;let V=z;e=S,t=o,n=a([g]),r=V,i=M,s=D}}else{let L;c instanceof Q?L=w(E(m),f):L=w(m,f);let D=L;if(k.hasLength(0))return w(a([g]),D);{let M=k.head,S=k.tail,z,O=o(g,M);O instanceof J?z=new Q:O instanceof re?z=new Q:z=new Ze;let V=z;e=S,t=o,n=a([g]),r=V,i=M,s=D}}}}}function of(e,t,n,r){for(;;){let i=e,s=t,l=n,o=r;if(i.hasLength(0))return Dn(s,o);if(s.hasLength(0))return Dn(i,o);{let u=i.head,c=i.tail,p=s.head,f=s.tail,m=l(u,p);m instanceof J?(e=c,t=s,n=l,r=w(u,o)):m instanceof te?(e=i,t=f,n=l,r=w(p,o)):(e=i,t=f,n=l,r=w(p,o))}}}function af(e,t,n){for(;;){let r=e,i=t,s=n;if(r.hasLength(0))return E(s);if(r.hasLength(1)){let l=r.head;return E(w(E(l),s))}else{let l=r.head,o=r.tail.head,u=r.tail.tail,c=of(l,o,i,a([]));e=u,t=i,n=w(c,s)}}}function uf(e,t,n,r){for(;;){let i=e,s=t,l=n,o=r;if(i.hasLength(0))return Dn(s,o);if(s.hasLength(0))return Dn(i,o);{let u=i.head,c=i.tail,p=s.head,f=s.tail,m=l(u,p);m instanceof J?(e=i,t=f,n=l,r=w(p,o)):m instanceof te?(e=c,t=s,n=l,r=w(u,o)):(e=c,t=s,n=l,r=w(u,o))}}}function cf(e,t,n){for(;;){let r=e,i=t,s=n;if(r.hasLength(0))return E(s);if(r.hasLength(1)){let l=r.head;return E(w(E(l),s))}else{let l=r.head,o=r.tail.head,u=r.tail.tail,c=uf(l,o,i,a([]));e=u,t=i,n=w(c,s)}}}function ff(e,t,n){for(;;){let r=e,i=t,s=n;if(r.hasLength(0))return a([]);if(r.hasLength(1)&&i instanceof Q)return r.head;if(r.hasLength(1)&&i instanceof Ze){let l=r.head;return E(l)}else i instanceof Q?(e=af(r,s,a([])),t=new Ze,n=s):(e=cf(r,s,a([])),t=new Q,n=s)}}function Fn(e,t){if(e.hasLength(0))return a([]);if(e.hasLength(1)){let n=e.head;return a([n])}else{let n=e.head,r=e.tail.head,i=e.tail.tail,s,l=t(n,r);l instanceof J?s=new Q:l instanceof re?s=new Q:s=new Ze;let o=s,u=lf(i,t,a([n]),o,r,a([]));return ff(u,new Q,t)}}function pf(e,t,n,r){for(;;){let i=e,s=t,l=n,o=r;if(i.atLeastLength(1)&&q(i.head[0],s)){let u=i.head[0],c=i.tail;return Dn(o,w([u,l],c))}else if(i.atLeastLength(1)){let u=i.head;e=i.tail,t=s,n=l,r=w(u,o)}else return E(w([s,l],o))}}function xl(e,t,n){return pf(e,t,n,a([]))}function ji(e,t,n){let i=e,s=yl(i,t,n);return s}function yr(e,t){return e===t?new re:ea(e,t)?new J:new te}function Xo(e,t,n){if(n<0)return"";if(t<0){let s=on(e)+t;return s<0?"":vl(e,s,n)}else return vl(e,t,n)}function wf(e,t){for(;;){let n=e,r=t;if(n.atLeastLength(1)){let i=n.head;e=n.tail,t=r+i}else return r}}function Ot(e){return wf(e,"")}function gf(e,t,n){for(;;){let r=e,i=t,s=n;if(i<=0)return s;e=r,t=i-1,n=s+r}}function kr(e,t){return gf(e,t,"")}function xf(e,t,n){for(;;){let r=e,i=t,s=n;if(r.hasLength(0))return s;{let l=r.head;e=r.tail,t=i,n=s+i+l}}}function Ee(e,t){if(e.hasLength(0))return"";{let n=e.head,r=e.tail;return xf(r,t,n)}}function bf(e,t){let n=on(t),r=tn(e,n),i=en(e,n);return kr(t,r)+Xo(t,0,i)}function St(e,t,n){let r=on(e),i=t-r;return i<=0?e:bf(i,n)+e}function Wn(e){let n=Ei(e);return Ti(n)}function Oi(e,t){for(;;){let n=e,r=t;if(r>0){let s=Si(n);if(s.isOk())e=s[0][1],t=r-1;else return n}else return n}}function ln(e,t){if(t==="")return Un(e);{let r=e,i=kl(r,t);return P(i,ie)}}function Ll(e){let t=Qe(e);return t}function zt(e,t){if(e.isOk()){let n=e[0];return new x(t(n))}else{let n=e[0];return new y(n)}}function qi(e,t){if(e.isOk()){let n=e[0];return new x(n)}else{let n=e[0];return new y(t(n))}}function vr(e,t){if(e.isOk()){let n=e[0];return t(n)}else{let n=e[0];return new y(n)}}function Te(e,t){return vr(e,t)}var un=class extends d{constructor(t,n,r){super(),this.expected=t,this.found=n,this.path=r}};function jf(e,t){return qi(e,n=>P(n,t))}function sa(e){return zl(e)}function la(e){return t=>{if(e.hasLength(0))return new y(a([new un("another type",ve(t),a([]))]));{let n=e.head,r=e.tail,i=n(t);if(i.isOk()){let s=i[0];return new x(s)}else return la(r)(t)}}}function Of(e,t){let n=t,r=la(a([zl,u=>zt(oa(u),H)])),i,s=r(n);if(s.isOk())i=s[0];else{let u=a(["<",ve(n),">"]),c=sn(u);i=c}let l=i,o=e;return new un(o.expected,o.found,w(l,e.path))}function Sl(e,t){return n=>{let r=new un("field","nothing",a([]));return vr(aa(n,e),i=>{let l=Ai(i,a([r])),o=vr(l,t);return jf(o,u=>Of(u,e))})}}var ua=new WeakMap,El=new DataView(new ArrayBuffer(8)),Tl=0;function ql(e){let t=ua.get(e);if(t!==void 0)return t;let n=Tl++;return Tl===2147483647&&(Tl=0),ua.set(e,n),n}function Cl(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}function Pl(e){let t=0,n=e.length;for(let r=0;r<n;r++)t=Math.imul(31,t)+e.charCodeAt(r)|0;return t}function fa(e){El.setFloat64(0,e);let t=El.getInt32(0),n=El.getInt32(4);return Math.imul(73244475,t>>16^t)^n}function Sf(e){return Pl(e.toString())}function zf(e){let t=Object.getPrototypeOf(e);if(t!==null&&typeof t.hashCode=="function")try{let r=e.hashCode(e);if(typeof r=="number")return r}catch{}if(e instanceof Promise||e instanceof WeakSet||e instanceof WeakMap)return ql(e);if(e instanceof Date)return fa(e.getTime());let n=0;if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),Array.isArray(e)||e instanceof Uint8Array)for(let r=0;r<e.length;r++)n=Math.imul(31,n)+Ce(e[r])|0;else if(e instanceof Set)e.forEach(r=>{n=n+Ce(r)|0});else if(e instanceof Map)e.forEach((r,i)=>{n=n+Cl(Ce(r),Ce(i))|0});else{let r=Object.keys(e);for(let i=0;i<r.length;i++){let s=r[i],l=e[s];n=n+Cl(Ce(l),Pl(s))|0}}return n}function Ce(e){if(e===null)return 1108378658;if(e===void 0)return 1108378659;if(e===!0)return 1108378657;if(e===!1)return 1108378656;switch(typeof e){case"number":return fa(e);case"string":return Pl(e);case"bigint":return Sf(e);case"object":return zf(e);case"symbol":return ql(e);case"function":return ql(e);default:return 0}}var et=5,Nl=Math.pow(2,et),Ef=Nl-1,Tf=Nl/2,qf=Nl/4,_e=0,Xe=1,Le=2,fn=3,Ml={type:Le,bitmap:0,array:[]};function Lr(e,t){return e>>>t&Ef}function Bi(e,t){return 1<<Lr(e,t)}function Cf(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),e=e+(e>>4)&252645135,e+=e>>8,e+=e>>16,e&127}function Il(e,t){return Cf(e&t-1)}function Be(e,t,n){let r=e.length,i=new Array(r);for(let s=0;s<r;++s)i[s]=e[s];return i[t]=n,i}function Bf(e,t,n){let r=e.length,i=new Array(r+1),s=0,l=0;for(;s<t;)i[l++]=e[s++];for(i[l++]=n;s<r;)i[l++]=e[s++];return i}function Bl(e,t){let n=e.length,r=new Array(n-1),i=0,s=0;for(;i<t;)r[s++]=e[i++];for(++i;i<n;)r[s++]=e[i++];return r}function pa(e,t,n,r,i,s){let l=Ce(t);if(l===r)return{type:fn,hash:l,array:[{type:_e,k:t,v:n},{type:_e,k:i,v:s}]};let o={val:!1};return Ar(Dl(Ml,e,l,t,n,o),e,r,i,s,o)}function Ar(e,t,n,r,i,s){switch(e.type){case Xe:return Pf(e,t,n,r,i,s);case Le:return Dl(e,t,n,r,i,s);case fn:return Nf(e,t,n,r,i,s)}}function Pf(e,t,n,r,i,s){let l=Lr(n,t),o=e.array[l];if(o===void 0)return s.val=!0,{type:Xe,size:e.size+1,array:Be(e.array,l,{type:_e,k:r,v:i})};if(o.type===_e)return q(r,o.k)?i===o.v?e:{type:Xe,size:e.size,array:Be(e.array,l,{type:_e,k:r,v:i})}:(s.val=!0,{type:Xe,size:e.size,array:Be(e.array,l,pa(t+et,o.k,o.v,n,r,i))});let u=Ar(o,t+et,n,r,i,s);return u===o?e:{type:Xe,size:e.size,array:Be(e.array,l,u)}}function Dl(e,t,n,r,i,s){let l=Bi(n,t),o=Il(e.bitmap,l);if((e.bitmap&l)!==0){let u=e.array[o];if(u.type!==_e){let p=Ar(u,t+et,n,r,i,s);return p===u?e:{type:Le,bitmap:e.bitmap,array:Be(e.array,o,p)}}let c=u.k;return q(r,c)?i===u.v?e:{type:Le,bitmap:e.bitmap,array:Be(e.array,o,{type:_e,k:r,v:i})}:(s.val=!0,{type:Le,bitmap:e.bitmap,array:Be(e.array,o,pa(t+et,c,u.v,n,r,i))})}else{let u=e.array.length;if(u>=Tf){let c=new Array(32),p=Lr(n,t);c[p]=Dl(Ml,t+et,n,r,i,s);let f=0,m=e.bitmap;for(let g=0;g<32;g++){if((m&1)!==0){let k=e.array[f++];c[g]=k}m=m>>>1}return{type:Xe,size:u+1,array:c}}else{let c=Bf(e.array,o,{type:_e,k:r,v:i});return s.val=!0,{type:Le,bitmap:e.bitmap|l,array:c}}}}function Nf(e,t,n,r,i,s){if(n===e.hash){let l=Fl(e,r);if(l!==-1)return e.array[l].v===i?e:{type:fn,hash:n,array:Be(e.array,l,{type:_e,k:r,v:i})};let o=e.array.length;return s.val=!0,{type:fn,hash:n,array:Be(e.array,o,{type:_e,k:r,v:i})}}return Ar({type:Le,bitmap:Bi(e.hash,t),array:[e]},t,n,r,i,s)}function Fl(e,t){let n=e.array.length;for(let r=0;r<n;r++)if(q(t,e.array[r].k))return r;return-1}function Ci(e,t,n,r){switch(e.type){case Xe:return Mf(e,t,n,r);case Le:return If(e,t,n,r);case fn:return Df(e,r)}}function Mf(e,t,n,r){let i=Lr(n,t),s=e.array[i];if(s!==void 0){if(s.type!==_e)return Ci(s,t+et,n,r);if(q(r,s.k))return s}}function If(e,t,n,r){let i=Bi(n,t);if((e.bitmap&i)===0)return;let s=Il(e.bitmap,i),l=e.array[s];if(l.type!==_e)return Ci(l,t+et,n,r);if(q(r,l.k))return l}function Df(e,t){let n=Fl(e,t);if(!(n<0))return e.array[n]}function Ul(e,t,n,r){switch(e.type){case Xe:return Ff(e,t,n,r);case Le:return Uf(e,t,n,r);case fn:return Wf(e,r)}}function Ff(e,t,n,r){let i=Lr(n,t),s=e.array[i];if(s===void 0)return e;let l;if(s.type===_e){if(!q(s.k,r))return e}else if(l=Ul(s,t+et,n,r),l===s)return e;if(l===void 0){if(e.size<=qf){let o=e.array,u=new Array(e.size-1),c=0,p=0,f=0;for(;c<i;){let m=o[c];m!==void 0&&(u[p]=m,f|=1<<c,++p),++c}for(++c;c<o.length;){let m=o[c];m!==void 0&&(u[p]=m,f|=1<<c,++p),++c}return{type:Le,bitmap:f,array:u}}return{type:Xe,size:e.size-1,array:Be(e.array,i,l)}}return{type:Xe,size:e.size,array:Be(e.array,i,l)}}function Uf(e,t,n,r){let i=Bi(n,t);if((e.bitmap&i)===0)return e;let s=Il(e.bitmap,i),l=e.array[s];if(l.type!==_e){let o=Ul(l,t+et,n,r);return o===l?e:o!==void 0?{type:Le,bitmap:e.bitmap,array:Be(e.array,s,o)}:e.bitmap===i?void 0:{type:Le,bitmap:e.bitmap^i,array:Bl(e.array,s)}}return q(r,l.k)?e.bitmap===i?void 0:{type:Le,bitmap:e.bitmap^i,array:Bl(e.array,s)}:e}function Wf(e,t){let n=Fl(e,t);if(n<0)return e;if(e.array.length!==1)return{type:fn,hash:e.hash,array:Bl(e.array,n)}}function da(e,t){if(e===void 0)return;let n=e.array,r=n.length;for(let i=0;i<r;i++){let s=n[i];if(s!==void 0){if(s.type===_e){t(s.v,s.k);continue}da(s,t)}}}var ge=class e{static fromObject(t){let n=Object.keys(t),r=e.new();for(let i=0;i<n.length;i++){let s=n[i];r=r.set(s,t[s])}return r}static fromMap(t){let n=e.new();return t.forEach((r,i)=>{n=n.set(i,r)}),n}static new(){return new e(void 0,0)}constructor(t,n){this.root=t,this.size=n}get(t,n){if(this.root===void 0)return n;let r=Ci(this.root,0,Ce(t),t);return r===void 0?n:r.v}set(t,n){let r={val:!1},i=this.root===void 0?Ml:this.root,s=Ar(i,0,Ce(t),t,n,r);return s===this.root?this:new e(s,r.val?this.size+1:this.size)}delete(t){if(this.root===void 0)return this;let n=Ul(this.root,0,Ce(t),t);return n===this.root?this:n===void 0?e.new():new e(n,this.size-1)}has(t){return this.root===void 0?!1:Ci(this.root,0,Ce(t),t)!==void 0}entries(){if(this.root===void 0)return[];let t=[];return this.forEach((n,r)=>t.push([r,n])),t}forEach(t){da(this.root,t)}hashCode(){let t=0;return this.forEach((n,r)=>{t=t+Cl(Ce(n),Ce(r))|0}),t}equals(t){if(!(t instanceof e)||this.size!==t.size)return!1;try{return this.forEach((n,r)=>{if(!q(t.get(r,!n),n))throw ca}),!0}catch(n){if(n===ca)return!1;throw n}}},ca=Symbol();var ga=void 0,$a={};function ie(e){return e}function H(e){return e.toString()}function Wl(e){let t=e.toString().replace("+","");if(t.indexOf(".")>=0)return t;{let n=t.indexOf("e");return n>=0?t.slice(0,n)+".0"+t.slice(n):t+".0"}}function yl(e,t,n){return typeof e.replaceAll<"u"?e.replaceAll(t,n):e.replace(new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"),n)}function on(e){if(e==="")return 0;let t=Pi(e);if(t){let n=0;for(let r of t)n++;return n}else return e.match(/./gsu).length}function Un(e){let t=Pi(e);return t?G.fromArray(Array.from(t).map(n=>n.segment)):G.fromArray(e.match(/./gsu))}var ha;function Pi(e){if(globalThis.Intl&&Intl.Segmenter)return ha||=new Intl.Segmenter,ha.segment(e)[Symbol.iterator]()}function Si(e){let t,n=Pi(e);return n?t=n.next().value?.segment:t=e.match(/./su)?.[0],t?new x([t,e.slice(t.length)]):new y(ga)}function pn(e){return[e.charCodeAt(0)|0,e.slice(1)]}function ke(e){return e.toLowerCase()}function ea(e,t){return e<t}function kl(e,t){return G.fromArray(e.split(t))}function sn(e){let t="";for(let n of e)t=t+n;return t}function vl(e,t,n){if(n<=0||t>=e.length)return"";let r=Pi(e);if(r){for(;t-- >0;)r.next();let i="";for(;n-- >0;){let s=r.next().value;if(s===void 0)break;i+=s.segment}return i}else return e.match(/./gsu).slice(t,t+n).join("")}function ae(e,t,n){return e.slice(t,t+n)}function an(e,t){return e.startsWith(t)}function zi(e,t){return e.endsWith(t)}var xa=[" ","	",`
`,"\v","\f","\r","\x85","\u2028","\u2029"].join(""),Gf=new RegExp(`^[${xa}]*`),Rf=new RegExp(`[${xa}]*$`);function Ei(e){return e.replace(Gf,"")}function Ti(e){return e.replace(Rf,"")}function F(){return ge.new()}function nn(e){return G.fromArray(e.entries())}function Ye(e,t){let n=e.get(t,$a);return n===$a?new y(ga):new x(n)}function Jo(e,t,n){return n.set(e,t)}function ve(e){if(typeof e=="string")return"String";if(typeof e=="boolean")return"Bool";if(e instanceof Mn)return"Result";if(e instanceof G)return"List";if(e instanceof be)return"BitArray";if(e instanceof ge)return"Dict";if(Number.isInteger(e))return"Int";if(Array.isArray(e))return`Tuple of ${e.length} elements`;if(typeof e=="number")return"Float";if(e===null)return"Null";if(e===void 0)return"Nil";{let t=typeof e;return t.charAt(0).toUpperCase()+t.slice(1)}}function Gl(e,t){return Hf(e,ve(t))}function Hf(e,t){return new y(G.fromArray([new un(e,t,G.fromArray([]))]))}function zl(e){return typeof e=="string"?new x(e):Gl("String",e)}function oa(e){return Number.isInteger(e)?new x(e):Gl("Int",e)}function aa(e,t){let n=()=>Gl("Dict",e);if(e instanceof ge||e instanceof WeakMap||e instanceof Map){let r=Ye(e,t);return new x(r.isOk()?new $(r[0]):new h)}else return e===null?n():Object.getPrototypeOf(e)==Object.prototype?ma(e,t,()=>new x(new h)):ma(e,t,n)}function ma(e,t,n){try{return t in e?new x(new $(e[t])):n()}catch{return n()}}function Qe(e){let t=typeof e;if(e===!0)return"True";if(e===!1)return"False";if(e===null)return"//js(null)";if(e===void 0)return"Nil";if(t==="string")return Jf(e);if(t==="bigint"||Number.isInteger(e))return e.toString();if(t==="number")return Wl(e);if(Array.isArray(e))return`#(${e.map(Qe).join(", ")})`;if(e instanceof G)return Zf(e);if(e instanceof jt)return Qf(e);if(e instanceof be)return`<<${ra(e,"")}>>`;if(e instanceof d)return Yf(e);if(e instanceof ge)return Kf(e);if(e instanceof Set)return`//js(Set(${[...e].map(Qe).join(", ")}))`;if(e instanceof RegExp)return`//js(${e})`;if(e instanceof Date)return`//js(Date("${e.toISOString()}"))`;if(e instanceof Function){let n=[];for(let r of Array(e.length).keys())n.push(String.fromCharCode(r+97));return`//fn(${n.join(", ")}) { ... }`}return Vf(e)}function Jf(e){let t='"';for(let n=0;n<e.length;n++){let r=e[n];switch(r){case`
`:t+="\\n";break;case"\r":t+="\\r";break;case"	":t+="\\t";break;case"\f":t+="\\f";break;case"\\":t+="\\\\";break;case'"':t+='\\"';break;default:r<" "||r>"~"&&r<"\xA0"?t+="\\u{"+r.charCodeAt(0).toString(16).toUpperCase().padStart(4,"0")+"}":t+=r}}return t+='"',t}function Kf(e){let t="dict.from_list([",n=!0;return e.forEach((r,i)=>{n||(t=t+", "),t=t+"#("+Qe(i)+", "+Qe(r)+")",n=!1}),t+"])"}function Vf(e){let t=Object.getPrototypeOf(e)?.constructor?.name||"Object",n=[];for(let s of Object.keys(e))n.push(`${Qe(s)}: ${Qe(e[s])}`);let r=n.length?" "+n.join(", ")+" ":"";return`//js(${t==="Object"?"":t+" "}{${r}})`}function Yf(e){let t=Object.keys(e).map(n=>{let r=Qe(e[n]);return isNaN(parseInt(n))?`${n}: ${r}`:r}).join(", ");return t?`${e.constructor.name}(${t})`:e.constructor.name}function Zf(e){return`[${e.toArray().map(Qe).join(", ")}]`}function Qf(e){return`//utfcodepoint(${String.fromCodePoint(e.value)})`}function ra(e,t){if(e.bitSize===0)return t;for(let n=0;n<e.byteSize-1;n++)t+=e.byteAt(n).toString(),t+=", ";if(e.byteSize*8===e.bitSize)t+=e.byteAt(e.byteSize-1).toString();else{let n=e.bitSize%8;t+=e.byteAt(e.byteSize-1)>>8-n,t+=`:size(${n})`}return t}function cn(e){return e>=0?e:e*-1}var Ni=class extends d{constructor(t){super(),this[0]=t}},Rn=class extends d{},jr=class extends d{},Or=class extends d{},Hn=class extends d{},dn=class extends d{},Sr=class extends d{},zr=class extends d{},Er=class extends d{},Mi=class extends d{};function Et(e,t){return[tn(e,t),en(e,t)]}var ba=1e3;var ya=1e6;var ka=6e7;var va=36e8;var La=864e8;var Aa=6048e8;var ja=2592e9;var Oa=31536e9;function Sa(e){let n=ye(e,0,(r,i)=>{if(i[1]instanceof Rn){let s=i[0];return r+s}else if(i[1]instanceof jr){let s=i[0];return r+s*ba}else if(i[1]instanceof Or){let s=i[0];return r+s*ya}else if(i[1]instanceof Hn){let s=i[0];return r+s*ka}else if(i[1]instanceof dn){let s=i[0];return r+s*va}else if(i[1]instanceof Sr){let s=i[0];return r+s*La}else if(i[1]instanceof zr){let s=i[0];return r+s*Aa}else if(i[1]instanceof Er){let s=i[0];return r+s*ja}else{let s=i[0];return r+s*Oa}});return new Ni(n)}function za(e){let t=e[0],n=cn(t),r=Et(n,Oa),i=r[0],s=r[1],l=Et(s,ja),o=l[0],u=l[1],c=Et(u,Aa),p=c[0],f=c[1],m=Et(f,La),g=m[0],k=m[1],C=Et(k,va),L=C[0],D=C[1],M=Et(D,ka),S=M[0],z=M[1],O=Et(z,ya),V=O[0],Zt=O[1],Mo=Et(Zt,ba),Ec=Mo[0],Tc=Mo[1],qc=a([[i,new Mi],[o,new Er],[p,new zr],[g,new Sr],[L,new dn],[S,new Hn],[V,new Or],[Ec,new jr],[Tc,new Rn]]),Cc=wt(qc,hr=>hr[0]>0);return P(Cc,hr=>t<0?[-1*hr[0],hr[1]]:hr)}var Ea=a([["Africa/Abidjan",0],["Africa/Algiers",3600],["Africa/Bissau",0],["Africa/Cairo",7200],["Africa/Casablanca",3600],["Africa/Ceuta",3600],["Africa/El_Aaiun",3600],["Africa/Johannesburg",7200],["Africa/Juba",7200],["Africa/Khartoum",7200],["Africa/Lagos",3600],["Africa/Maputo",7200],["Africa/Monrovia",0],["Africa/Nairobi",10800],["Africa/Ndjamena",3600],["Africa/Sao_Tome",0],["Africa/Tripoli",7200],["Africa/Tunis",3600],["Africa/Windhoek",7200],["America/Adak",-36e3],["America/Anchorage",-32400],["America/Araguaina",-10800],["America/Argentina/Buenos_Aires",-10800],["America/Argentina/Catamarca",-10800],["America/Argentina/Cordoba",-10800],["America/Argentina/Jujuy",-10800],["America/Argentina/La_Rioja",-10800],["America/Argentina/Mendoza",-10800],["America/Argentina/Rio_Gallegos",-10800],["America/Argentina/Salta",-10800],["America/Argentina/San_Juan",-10800],["America/Argentina/San_Luis",-10800],["America/Argentina/Tucuman",-10800],["America/Argentina/Ushuaia",-10800],["America/Asuncion",-14400],["America/Bahia",-10800],["America/Bahia_Banderas",-21600],["America/Barbados",-14400],["America/Belem",-10800],["America/Belize",-21600],["America/Boa_Vista",-14400],["America/Bogota",-18e3],["America/Boise",-25200],["America/Cambridge_Bay",-25200],["America/Campo_Grande",-14400],["America/Cancun",-18e3],["America/Caracas",-14400],["America/Cayenne",-10800],["America/Chicago",-21600],["America/Chihuahua",-21600],["America/Ciudad_Juarez",-25200],["America/Costa_Rica",-21600],["America/Cuiaba",-14400],["America/Danmarkshavn",0],["America/Dawson",-25200],["America/Dawson_Creek",-25200],["America/Denver",-25200],["America/Detroit",-18e3],["America/Edmonton",-25200],["America/Eirunepe",-18e3],["America/El_Salvador",-21600],["America/Fort_Nelson",-25200],["America/Fortaleza",-10800],["America/Glace_Bay",-14400],["America/Goose_Bay",-14400],["America/Grand_Turk",-18e3],["America/Guatemala",-21600],["America/Guayaquil",-18e3],["America/Guyana",-14400],["America/Halifax",-14400],["America/Havana",-18e3],["America/Hermosillo",-25200],["America/Indiana/Indianapolis",-18e3],["America/Indiana/Knox",-21600],["America/Indiana/Marengo",-18e3],["America/Indiana/Petersburg",-18e3],["America/Indiana/Tell_City",-21600],["America/Indiana/Vevay",-18e3],["America/Indiana/Vincennes",-18e3],["America/Indiana/Winamac",-18e3],["America/Inuvik",-25200],["America/Iqaluit",-18e3],["America/Jamaica",-18e3],["America/Juneau",-32400],["America/Kentucky/Louisville",-18e3],["America/Kentucky/Monticello",-18e3],["America/La_Paz",-14400],["America/Lima",-18e3],["America/Los_Angeles",-28800],["America/Maceio",-10800],["America/Managua",-21600],["America/Manaus",-14400],["America/Martinique",-14400],["America/Matamoros",-21600],["America/Mazatlan",-25200],["America/Menominee",-21600],["America/Merida",-21600],["America/Metlakatla",-32400],["America/Mexico_City",-21600],["America/Miquelon",-10800],["America/Moncton",-14400],["America/Monterrey",-21600],["America/Montevideo",-10800],["America/New_York",-18e3],["America/Nome",-32400],["America/Noronha",-7200],["America/North_Dakota/Beulah",-21600],["America/North_Dakota/Center",-21600],["America/North_Dakota/New_Salem",-21600],["America/Nuuk",-7200],["America/Ojinaga",-21600],["America/Panama",-18e3],["America/Paramaribo",-10800],["America/Phoenix",-25200],["America/Port-au-Prince",-18e3],["America/Porto_Velho",-14400],["America/Puerto_Rico",-14400],["America/Punta_Arenas",-10800],["America/Rankin_Inlet",-21600],["America/Recife",-10800],["America/Regina",-21600],["America/Resolute",-21600],["America/Rio_Branco",-18e3],["America/Santarem",-10800],["America/Santiago",-14400],["America/Santo_Domingo",-14400],["America/Sao_Paulo",-10800],["America/Scoresbysund",-7200],["America/Sitka",-32400],["America/St_Johns",-12600],["America/Swift_Current",-21600],["America/Tegucigalpa",-21600],["America/Thule",-14400],["America/Tijuana",-28800],["America/Toronto",-18e3],["America/Vancouver",-28800],["America/Whitehorse",-25200],["America/Winnipeg",-21600],["America/Yakutat",-32400],["Antarctica/Casey",28800],["Antarctica/Davis",25200],["Antarctica/Macquarie",36e3],["Antarctica/Mawson",18e3],["Antarctica/Palmer",-10800],["Antarctica/Rothera",-10800],["Antarctica/Troll",0],["Antarctica/Vostok",18e3],["Asia/Almaty",18e3],["Asia/Amman",10800],["Asia/Anadyr",43200],["Asia/Aqtau",18e3],["Asia/Aqtobe",18e3],["Asia/Ashgabat",18e3],["Asia/Atyrau",18e3],["Asia/Baghdad",10800],["Asia/Baku",14400],["Asia/Bangkok",25200],["Asia/Barnaul",25200],["Asia/Beirut",7200],["Asia/Bishkek",21600],["Asia/Chita",32400],["Asia/Colombo",19800],["Asia/Damascus",10800],["Asia/Dhaka",21600],["Asia/Dili",32400],["Asia/Dubai",14400],["Asia/Dushanbe",18e3],["Asia/Famagusta",7200],["Asia/Gaza",7200],["Asia/Hebron",7200],["Asia/Ho_Chi_Minh",25200],["Asia/Hong_Kong",28800],["Asia/Hovd",25200],["Asia/Irkutsk",28800],["Asia/Jakarta",25200],["Asia/Jayapura",32400],["Asia/Jerusalem",7200],["Asia/Kabul",16200],["Asia/Kamchatka",43200],["Asia/Karachi",18e3],["Asia/Kathmandu",20700],["Asia/Khandyga",32400],["Asia/Kolkata",19800],["Asia/Krasnoyarsk",25200],["Asia/Kuching",28800],["Asia/Macau",28800],["Asia/Magadan",39600],["Asia/Makassar",28800],["Asia/Manila",28800],["Asia/Nicosia",7200],["Asia/Novokuznetsk",25200],["Asia/Novosibirsk",25200],["Asia/Omsk",21600],["Asia/Oral",18e3],["Asia/Pontianak",25200],["Asia/Pyongyang",32400],["Asia/Qatar",10800],["Asia/Qostanay",18e3],["Asia/Qyzylorda",18e3],["Asia/Riyadh",10800],["Asia/Sakhalin",39600],["Asia/Samarkand",18e3],["Asia/Seoul",32400],["Asia/Shanghai",28800],["Asia/Singapore",28800],["Asia/Srednekolymsk",39600],["Asia/Taipei",28800],["Asia/Tashkent",18e3],["Asia/Tbilisi",14400],["Asia/Tehran",12600],["Asia/Thimphu",21600],["Asia/Tokyo",32400],["Asia/Tomsk",25200],["Asia/Ulaanbaatar",28800],["Asia/Urumqi",21600],["Asia/Ust-Nera",36e3],["Asia/Vladivostok",36e3],["Asia/Yakutsk",32400],["Asia/Yangon",23400],["Asia/Yekaterinburg",18e3],["Asia/Yerevan",14400],["Atlantic/Azores",-3600],["Atlantic/Bermuda",-14400],["Atlantic/Canary",0],["Atlantic/Cape_Verde",-3600],["Atlantic/Faroe",0],["Atlantic/Madeira",0],["Atlantic/South_Georgia",-7200],["Atlantic/Stanley",-10800],["Australia/Adelaide",34200],["Australia/Brisbane",36e3],["Australia/Broken_Hill",34200],["Australia/Darwin",34200],["Australia/Eucla",31500],["Australia/Hobart",36e3],["Australia/Lindeman",36e3],["Australia/Lord_Howe",37800],["Australia/Melbourne",36e3],["Australia/Perth",28800],["Australia/Sydney",36e3],["Etc/GMT",0],["Etc/GMT+1",-3600],["Etc/GMT+10",-36e3],["Etc/GMT+11",-39600],["Etc/GMT+12",-43200],["Etc/GMT+2",-7200],["Etc/GMT+3",-10800],["Etc/GMT+4",-14400],["Etc/GMT+5",-18e3],["Etc/GMT+6",-21600],["Etc/GMT+7",-25200],["Etc/GMT+8",-28800],["Etc/GMT+9",-32400],["Etc/GMT-1",3600],["Etc/GMT-10",36e3],["Etc/GMT-11",39600],["Etc/GMT-12",43200],["Etc/GMT-13",46800],["Etc/GMT-14",50400],["Etc/GMT-2",7200],["Etc/GMT-3",10800],["Etc/GMT-4",14400],["Etc/GMT-5",18e3],["Etc/GMT-6",21600],["Etc/GMT-7",25200],["Etc/GMT-8",28800],["Etc/GMT-9",32400],["Etc/UTC",0],["Europe/Andorra",3600],["Europe/Astrakhan",14400],["Europe/Athens",7200],["Europe/Belgrade",3600],["Europe/Berlin",3600],["Europe/Brussels",3600],["Europe/Bucharest",7200],["Europe/Budapest",3600],["Europe/Chisinau",7200],["Europe/Dublin",3600],["Europe/Gibraltar",3600],["Europe/Helsinki",7200],["Europe/Istanbul",10800],["Europe/Kaliningrad",7200],["Europe/Kirov",10800],["Europe/Kyiv",7200],["Europe/Lisbon",0],["Europe/London",0],["Europe/Madrid",3600],["Europe/Malta",3600],["Europe/Minsk",10800],["Europe/Moscow",10800],["Europe/Paris",3600],["Europe/Prague",3600],["Europe/Riga",7200],["Europe/Rome",3600],["Europe/Samara",14400],["Europe/Saratov",14400],["Europe/Simferopol",10800],["Europe/Sofia",7200],["Europe/Tallinn",7200],["Europe/Tirane",3600],["Europe/Ulyanovsk",14400],["Europe/Vienna",3600],["Europe/Vilnius",7200],["Europe/Volgograd",10800],["Europe/Warsaw",3600],["Europe/Zurich",3600],["Indian/Chagos",21600],["Indian/Maldives",18e3],["Indian/Mauritius",14400],["Pacific/Apia",46800],["Pacific/Auckland",43200],["Pacific/Bougainville",39600],["Pacific/Chatham",45900],["Pacific/Easter",-21600],["Pacific/Efate",39600],["Pacific/Fakaofo",46800],["Pacific/Fiji",43200],["Pacific/Galapagos",-21600],["Pacific/Gambier",-32400],["Pacific/Guadalcanal",39600],["Pacific/Guam",36e3],["Pacific/Honolulu",-36e3],["Pacific/Kanton",46800],["Pacific/Kiritimati",50400],["Pacific/Kosrae",39600],["Pacific/Kwajalein",43200],["Pacific/Marquesas",-34200],["Pacific/Nauru",43200],["Pacific/Niue",-39600],["Pacific/Norfolk",39600],["Pacific/Noumea",39600],["Pacific/Pago_Pago",-39600],["Pacific/Palau",32400],["Pacific/Pitcairn",-28800],["Pacific/Port_Moresby",36e3],["Pacific/Rarotonga",-36e3],["Pacific/Tahiti",-36e3],["Pacific/Tarawa",43200],["Pacific/Tongatapu",46800]]);function Ta(){return Date.now()*1e3}function qa(){return-new Date().getTimezoneOffset()}function Ca(){return new $(Intl.DateTimeFormat().resolvedOptions().timeZone)}function Ba(){return Math.floor(globalThis.performance.now()*1e3)}function Pa(e,t){let n=new Date((e+t)/1e3);return[[n.getUTCFullYear(),n.getUTCMonth()+1,n.getUTCDate()],[n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),n.getUTCMilliseconds()]]}var Ii=class extends d{constructor(t,n,r,i){super(),this.wall_time=t,this.offset=n,this.timezone=r,this.monotonic_time=i}};function Ma(e){{let t=e.wall_time;return tn(t,1e3)}}function Ia(e){return new Ii(e*1e3,0,new h,new h)}function Da(e,t){let n=e.wall_time,r=e.monotonic_time,i=t.wall_time,s=t.monotonic_time,l;if(r instanceof $&&s instanceof $){let m=r[0],g=s[0];l=[m,g]}else l=[n,i];let o=l,u=o[0],c=o[1],p=u===c,f=u<c;return p?new re:f?new J:new te}function op(e){return Je(e===0,new x("Z"),()=>{let t=(()=>{let n=a([[e,new Rn]]),r=Sa(n);return za(r)})();if(t.hasLength(2)&&t.head[1]instanceof dn&&t.tail.head[1]instanceof Hn){let n=t.head[0],r=t.tail.head[0],i=a([n>0?Ot(a(["+",(()=>{let u=H(n);return St(u,2,"0")})()])):Ot(a(["-",(()=>{let u=cn(n),c=H(u);return St(c,2,"0")})()])),(()=>{let o=cn(r),u=H(o);return St(u,2,"0")})()]),s=Ee(i,":");return new x(s)}else if(t.hasLength(1)&&t.head[1]instanceof dn){let n=t.head[0],r=a([n>0?Ot(a(["+",(()=>{let o=H(n);return St(o,2,"0")})()])):Ot(a(["-",(()=>{let o=cn(n),u=H(o);return St(u,2,"0")})()])),"00"]),i=Ee(r,":");return new x(i)}else return new y(void 0)})}function ap(e){{let t=e.wall_time,n=e.offset,r=Pa(t,n),i=r[0],s=r[1],l=op(n);if(!l.isOk())throw R("let_assert","birl",1324,"to_parts","Pattern match failed, no pattern matched the value.",{value:l});let o=l[0];return[i,s,o]}}function Fa(e){let t=ap(e),n=t[0][0],r=t[0][1],i=t[0][2];return H(n)+"-"+(()=>{let l=H(r);return St(l,2,"0")})()+"-"+(()=>{let l=H(i);return St(l,2,"0")})()}function Ua(){let e=Ta(),t=qa(),n=Ba(),r=Ca();return new Ii(e,t*6e7,(()=>{let i=gr(r,s=>xr(Ea,o=>o[0]===s)?new $(s):new h);return Wo(i)})(),new $(n))}var B=class extends d{constructor(t,n,r,i,s,l,o){super(),this.scheme=t,this.userinfo=n,this.host=r,this.port=i,this.path=s,this.query=l,this.fragment=o}};function fp(e){return 48>=e&&e<=57||65>=e&&e<=90||97>=e&&e<=122||e===58||e===46}function nt(e,t){return new x((()=>{let n=t;return new B(n.scheme,n.userinfo,n.host,n.port,n.path,n.query,new $(e))})())}function pp(e,t,n,r){for(;;){let i=e,s=t,l=n,o=r;if(s.startsWith("#")&&o===0){let u=s.slice(1);return nt(u,l)}else if(s.startsWith("#")){let u=s.slice(1),c=ae(i,0,o),p,f=l;return p=new B(f.scheme,f.userinfo,f.host,f.port,f.path,new $(c),f.fragment),nt(u,p)}else{if(s==="")return new x((()=>{let u=l;return new B(u.scheme,u.userinfo,u.host,u.port,u.path,new $(i),u.fragment)})());{let c=pn(s)[1];e=i,t=c,n=l,r=o+1}}}}function Tt(e,t){return pp(e,e,t,0)}function dp(e,t,n,r){for(;;){let i=e,s=t,l=n,o=r;if(s.startsWith("?")){let u=s.slice(1),c=ae(i,0,o),p,f=l;return p=new B(f.scheme,f.userinfo,f.host,f.port,c,f.query,f.fragment),Tt(u,p)}else if(s.startsWith("#")){let u=s.slice(1),c=ae(i,0,o),p,f=l;return p=new B(f.scheme,f.userinfo,f.host,f.port,c,f.query,f.fragment),nt(u,p)}else{if(s==="")return new x((()=>{let u=l;return new B(u.scheme,u.userinfo,u.host,u.port,i,u.query,u.fragment)})());{let c=pn(s)[1];e=i,t=c,n=l,r=o+1}}}}function Kn(e,t){return dp(e,e,t,0)}function tt(e,t,n){for(;;){let r=e,i=t,s=n;if(r.startsWith("0"))e=r.slice(1),t=i,n=s*10;else if(r.startsWith("1"))e=r.slice(1),t=i,n=s*10+1;else if(r.startsWith("2"))e=r.slice(1),t=i,n=s*10+2;else if(r.startsWith("3"))e=r.slice(1),t=i,n=s*10+3;else if(r.startsWith("4"))e=r.slice(1),t=i,n=s*10+4;else if(r.startsWith("5"))e=r.slice(1),t=i,n=s*10+5;else if(r.startsWith("6"))e=r.slice(1),t=i,n=s*10+6;else if(r.startsWith("7"))e=r.slice(1),t=i,n=s*10+7;else if(r.startsWith("8"))e=r.slice(1),t=i,n=s*10+8;else if(r.startsWith("9"))e=r.slice(1),t=i,n=s*10+9;else if(r.startsWith("?")){let l=r.slice(1),o,u=i;return o=new B(u.scheme,u.userinfo,u.host,new $(s),u.path,u.query,u.fragment),Tt(l,o)}else if(r.startsWith("#")){let l=r.slice(1),o,u=i;return o=new B(u.scheme,u.userinfo,u.host,new $(s),u.path,u.query,u.fragment),nt(l,o)}else if(r.startsWith("/")){let l,o=i;return l=new B(o.scheme,o.userinfo,o.host,new $(s),o.path,o.query,o.fragment),Kn(r,l)}else return r===""?new x((()=>{let l=i;return new B(l.scheme,l.userinfo,l.host,new $(s),l.path,l.query,l.fragment)})()):new y(void 0)}}function Di(e,t){if(e.startsWith(":0")){let n=e.slice(2);return tt(n,t,0)}else if(e.startsWith(":1")){let n=e.slice(2);return tt(n,t,1)}else if(e.startsWith(":2")){let n=e.slice(2);return tt(n,t,2)}else if(e.startsWith(":3")){let n=e.slice(2);return tt(n,t,3)}else if(e.startsWith(":4")){let n=e.slice(2);return tt(n,t,4)}else if(e.startsWith(":5")){let n=e.slice(2);return tt(n,t,5)}else if(e.startsWith(":6")){let n=e.slice(2);return tt(n,t,6)}else if(e.startsWith(":7")){let n=e.slice(2);return tt(n,t,7)}else if(e.startsWith(":8")){let n=e.slice(2);return tt(n,t,8)}else if(e.startsWith(":9")){let n=e.slice(2);return tt(n,t,9)}else{if(e.startsWith(":"))return new y(void 0);if(e.startsWith("?")){let n=e.slice(1);return Tt(n,t)}else if(e.startsWith("#")){let n=e.slice(1);return nt(n,t)}else return e.startsWith("/")?Kn(e,t):e===""?new x(t):new y(void 0)}}function Ga(e,t,n,r){for(;;){let i=e,s=t,l=n,o=r;if(s==="")return new x((()=>{let u=l;return new B(u.scheme,u.userinfo,new $(i),u.port,u.path,u.query,u.fragment)})());if(s.startsWith(":")){let u=ae(i,0,o),c,p=l;return c=new B(p.scheme,p.userinfo,new $(u),p.port,p.path,p.query,p.fragment),Di(s,c)}else if(s.startsWith("/")){let u=ae(i,0,o),c,p=l;return c=new B(p.scheme,p.userinfo,new $(u),p.port,p.path,p.query,p.fragment),Kn(s,c)}else if(s.startsWith("?")){let u=s.slice(1),c=ae(i,0,o),p,f=l;return p=new B(f.scheme,f.userinfo,new $(c),f.port,f.path,f.query,f.fragment),Tt(u,p)}else if(s.startsWith("#")){let u=s.slice(1),c=ae(i,0,o),p,f=l;return p=new B(f.scheme,f.userinfo,new $(c),f.port,f.path,f.query,f.fragment),nt(u,p)}else{let c=pn(s)[1];e=i,t=c,n=l,r=o+1}}}function _p(e,t,n,r){for(;;){let i=e,s=t,l=n,o=r;if(s==="")return new x((()=>{let u=l;return new B(u.scheme,u.userinfo,new $(s),u.port,u.path,u.query,u.fragment)})());if(s.startsWith("]")&&o===0){let u=s.slice(1);return Di(u,l)}else if(s.startsWith("]")){let u=s.slice(1),c=ae(i,0,o+1),p,f=l;return p=new B(f.scheme,f.userinfo,new $(c),f.port,f.path,f.query,f.fragment),Di(u,p)}else{if(s.startsWith("/")&&o===0)return Kn(s,l);if(s.startsWith("/")){let u=ae(i,0,o),c,p=l;return c=new B(p.scheme,p.userinfo,new $(u),p.port,p.path,p.query,p.fragment),Kn(s,c)}else if(s.startsWith("?")&&o===0){let u=s.slice(1);return Tt(u,l)}else if(s.startsWith("?")){let u=s.slice(1),c=ae(i,0,o),p,f=l;return p=new B(f.scheme,f.userinfo,new $(c),f.port,f.path,f.query,f.fragment),Tt(u,p)}else if(s.startsWith("#")&&o===0){let u=s.slice(1);return nt(u,l)}else if(s.startsWith("#")){let u=s.slice(1),c=ae(i,0,o),p,f=l;return p=new B(f.scheme,f.userinfo,new $(c),f.port,f.path,f.query,f.fragment),nt(u,p)}else{let u=pn(s),c=u[0],p=u[1];if(fp(c))e=i,t=p,n=l,r=o+1;else return Ga(i,i,l,0)}}}}function $p(e,t){return _p(e,e,t,0)}function hp(e,t){return Ga(e,e,t,0)}function Jn(e,t){if(e.startsWith("["))return $p(e,t);if(e.startsWith(":")){let n,r=t;return n=new B(r.scheme,r.userinfo,new $(""),r.port,r.path,r.query,r.fragment),Di(e,n)}else return e===""?new x((()=>{let n=t;return new B(n.scheme,n.userinfo,new $(""),n.port,n.path,n.query,n.fragment)})()):hp(e,t)}function mp(e,t,n,r){for(;;){let i=e,s=t,l=n,o=r;if(s.startsWith("@")&&o===0){let u=s.slice(1);return Jn(u,l)}else if(s.startsWith("@")){let u=s.slice(1),c=ae(i,0,o),p,f=l;return p=new B(f.scheme,new $(c),f.host,f.port,f.path,f.query,f.fragment),Jn(u,p)}else{if(s==="")return Jn(i,l);if(s.startsWith("/"))return Jn(i,l);if(s.startsWith("?"))return Jn(i,l);if(s.startsWith("#"))return Jn(i,l);{let c=pn(s)[1];e=i,t=c,n=l,r=o+1}}}}function wp(e,t){return mp(e,e,t,0)}function Hl(e,t){if(e==="//")return new x((()=>{let n=t;return new B(n.scheme,n.userinfo,new $(""),n.port,n.path,n.query,n.fragment)})());if(e.startsWith("//")){let n=e.slice(2);return wp(n,t)}else return Kn(e,t)}function gp(e,t,n,r){for(;;){let i=e,s=t,l=n,o=r;if(s.startsWith("/")&&o===0)return Hl(s,l);if(s.startsWith("/")){let u=ae(i,0,o),c,p=l;return c=new B(new $(ke(u)),p.userinfo,p.host,p.port,p.path,p.query,p.fragment),Hl(s,c)}else if(s.startsWith("?")&&o===0){let u=s.slice(1);return Tt(u,l)}else if(s.startsWith("?")){let u=s.slice(1),c=ae(i,0,o),p,f=l;return p=new B(new $(ke(c)),f.userinfo,f.host,f.port,f.path,f.query,f.fragment),Tt(u,p)}else if(s.startsWith("#")&&o===0){let u=s.slice(1);return nt(u,l)}else if(s.startsWith("#")){let u=s.slice(1),c=ae(i,0,o),p,f=l;return p=new B(new $(ke(c)),f.userinfo,f.host,f.port,f.path,f.query,f.fragment),nt(u,p)}else{if(s.startsWith(":")&&o===0)return new y(void 0);if(s.startsWith(":")){let u=s.slice(1),c=ae(i,0,o),p,f=l;return p=new B(new $(ke(c)),f.userinfo,f.host,f.port,f.path,f.query,f.fragment),Hl(u,p)}else{if(s==="")return new x((()=>{let u=l;return new B(u.scheme,u.userinfo,u.host,u.port,i,u.query,u.fragment)})());{let c=pn(s)[1];e=i,t=c,n=l,r=o+1}}}}}function xp(e,t){for(;;){let n=e,r=t;if(n.hasLength(0))return E(r);{let i=n.head,s=n.tail,l;i===""||i==="."?l=r:i===".."&&r.hasLength(0)?l=a([]):i===".."&&r.atLeastLength(1)?l=r.tail:l=w(i,r);let o=l;e=s,t=o}}}function bp(e){return xp(e,a([]))}function Tr(e){return bp(ln(e,"/"))}function pe(e){let t,n=e.fragment;if(n instanceof $){let O=n[0];t=a(["#",O])}else t=a([]);let r=t,i,s=e.query;if(s instanceof $){let O=s[0];i=w("?",w(O,r))}else i=r;let l=i,o=w(e.path,l),u,c=e.host,p=an(e.path,"/");if(c instanceof $&&!p&&c[0]!==""){let O=c[0];u=w("/",o)}else u=o;let f=u,m,g=e.host,k=e.port;if(g instanceof $&&k instanceof $){let O=k[0];m=w(":",w(H(O),f))}else m=f;let C=m,L,D=e.scheme,M=e.userinfo,S=e.host;if(D instanceof $&&M instanceof $&&S instanceof $){let O=D[0],V=M[0],Zt=S[0];L=w(O,w("://",w(V,w("@",w(Zt,C)))))}else if(D instanceof $&&M instanceof h&&S instanceof $){let O=D[0],V=S[0];L=w(O,w("://",w(V,C)))}else if(D instanceof $&&M instanceof $&&S instanceof h){let O=D[0];L=w(O,w(":",C))}else if(D instanceof $&&M instanceof h&&S instanceof h){let O=D[0];L=w(O,w(":",C))}else if(D instanceof h&&M instanceof h&&S instanceof $){let O=S[0];L=w("//",w(O,C))}else L=C;return Ot(L)}var yp=new B(new h,new h,new h,new h,"",new h,new h);function se(e){return gp(e,e,yp,0)}function Jl(e,t){if(e instanceof ge||e instanceof WeakMap||e instanceof Map){let r={},i=e.get(t,r);return i===r?new x(new h):new x(new $(i))}let n=Number.isInteger(t);if(n&&t>=0&&t<8&&e instanceof G){let r=0;for(let i of e){if(r===t)return new x(new $(i));r++}return new y("Indexable")}return n&&Array.isArray(e)||e&&typeof e=="object"||e&&Object.getPrototypeOf(e)===Object.prototype?t in e?new x(new $(e[t])):new x(new h):new y(n?"Indexable":"Dict")}function Ra(e,t,n,r,i){if(!(e instanceof G||Array.isArray(e))){let l=new rt("List",ve(e),i);return[i,G.fromArray([l])]}let s=[];for(let l of e){let o=t(l),[u,c]=o;if(c instanceof Qt){let[p,f]=n(o,r.toString());return[i,f]}s.push(u),r++}return[G.fromArray(s),i]}function Ha(e){return Number.isInteger(e)?new x(e):new y(0)}function Ja(e){return typeof e=="string"?new x(e):new y("")}var rt=class extends d{constructor(t,n,r){super(),this.expected=t,this.found=n,this.path=r}},Pe=class extends d{constructor(t){super(),this.function=t}};function Cr(e,t){let n=t.function(e),r=n[0],i=n[1];return i.hasLength(0)?new x(r):new y(i)}function Me(e){return new Pe(t=>[e,a([])])}function Vl(e,t){return new Pe(n=>{let r=e.function(n),i=r[0],s=r[1];return[t(i),s]})}function Ka(e,t){return new Pe(n=>{let r=e.function(n),i=r[0],s=r[1],o=t(i).function(n),u=o,c=o[0];return s.hasLength(0)?u:[c,s]})}function kp(e,t,n){for(;;){let r=e,i=t,s=n;if(s.hasLength(0))return i;{let l=s.head,o=s.tail,u=l.function(r),c=u;if(u[1].hasLength(0))return c;e=r,t=i,n=o}}}function Ui(e,t){return new Pe(n=>{let r=e.function(n),i=r;return r[1].hasLength(0)?i:kp(n,i,t)})}function vp(e,t){return a([new rt(e,ve(t),a([]))])}function Va(e,t,n){let r=n(e);return r.isOk()?[r[0],a([])]:[r[0],a([new rt(t,ve(e),a([]))])]}function Lp(e){return Va(e,"Int",Ha)}function Ya(e,t){return new Pe(n=>[e,vp(t,n)])}var xt=new Pe(Lp);function Ap(e){return Va(e,"String",Ja)}var Ae=new Pe(Ap);function _n(e){return new Pe(t=>Ra(t,e.function,(n,r)=>qr(n,a([r])),0,a([])))}function qr(e,t){let n=Ui(Ae,a([Vl(xt,H)])),r=P(t,s=>{let l=s,o=Cr(l,n);return o.isOk()?o[0]:"<"+ve(l)+">"}),i=P(e[1],s=>{let l=s;return new rt(l.expected,l.found,K(r,s.path))});return[e[0],i]}function jp(e,t,n,r,i){for(;;){let s=e,l=t,o=n,u=r,c=i;if(s.hasLength(0)){let p=o(u);return qr(p,E(l))}else{let p=s.head,f=s.tail,m=Jl(u,p);if(m.isOk()&&m[0]instanceof $){let g=m[0][0];e=f,t=w(p,l),n=o,r=g,i=c}else{if(m.isOk()&&m[0]instanceof h)return c(u,w(p,l));{let g=m[0],L=[o(u)[0],a([new rt(g,ve(u),a([]))])];return qr(L,E(l))}}}}}function Op(e,t,n){return new Pe(r=>{let i=jp(e,a([]),t.function,r,(p,f)=>{let k=[t.function(p)[0],a([new rt("Field","Nothing",a([]))])];return qr(k,E(f))}),s=i[0],l=i[1],o=n(s).function(r),u=o[0],c=o[1];return[u,K(l,c)]})}function le(e,t,n){return Op(a([e]),t,n)}function Yl(e,t,n,r){return new Pe(i=>{let s,l=Jl(i,e);if(l.isOk()&&l[0]instanceof $){let C=l[0][0];s=n.function(C)}else if(l.isOk()&&l[0]instanceof h)s=[t,a([])];else{let C=l[0];s=[t,a([new rt(C,ve(i),a([]))])]}let o;o=qr(s,a([e]));let c=o,p=c[0],f=c[1],m=r(p).function(i),g=m[0],k=m[1];return[g,K(f,k)]})}function Zl(e){return JSON.stringify(e)}function Za(e){return Object.fromEntries(e)}function Qa(e){return e.toArray()}function Xa(e){try{let t=JSON.parse(e);return new x(t)}catch(t){return new y(zp(t,e))}}function zp(e,t){return Ep(e)?new Vn:Tp(e,t)}function Ep(e){return/((unexpected (end|eof))|(end of data)|(unterminated string)|(json( parse error|\.parse)\: expected '(\:|\}|\])'))/i.test(e.message)}function Tp(e,t){let n=[qp,Cp,Pp,Bp];for(let r of n){let i=r(e,t);if(i)return i}return new it("",0)}function qp(e){let n=/unexpected token '(.)', ".+" is not valid JSON/i.exec(e.message);if(!n)return null;let r=Gi(n[1]);return new it(r,-1)}function Cp(e){let n=/unexpected token (.) in JSON at position (\d+)/i.exec(e.message);if(!n)return null;let r=Gi(n[1]),i=Number(n[2]);return new it(r,i)}function Bp(e,t){let r=/(unexpected character|expected .*) at line (\d+) column (\d+)/i.exec(e.message);if(!r)return null;let i=Number(r[2]),s=Number(r[3]),l=Np(i,s,t),o=Gi(t[l]);return new it(o,l)}function Pp(e){let n=/unexpected (identifier|token) "(.)"/i.exec(e.message);if(!n)return null;let r=Gi(n[2]);return new it(r,0)}function Gi(e){return"0x"+e.charCodeAt(0).toString(16).toUpperCase()}function Np(e,t,n){if(e===1)return t-1;let r=1,i=0;return n.split("").find((s,l)=>(s===`
`&&(r+=1),r===e?(i=l+t,!0):!1)),i}var Vn=class extends d{},it=class extends d{constructor(t){super(),this[0]=t}},Ri=class extends d{constructor(t){super(),this[0]=t}},Hi=class extends d{constructor(t){super(),this[0]=t}},Ql=class extends d{constructor(t){super(),this[0]=t}};function Mp(e,t){return Te(Xa(e),n=>{let r=Cr(n,t);return qi(r,i=>new Ql(i))})}function eu(e,t){return Mp(e,t)}function qt(e){return Zl(e)}function $e(e){return e}function st(e){return e}function Ct(e){return Za(e)}function eo(e){return Qa(e)}function Br(e,t){let r=P(e,t);return eo(r)}var Pr=class extends d{constructor(t){super(),this.all=t}};function tu(e){return new Pr(a([t=>e(t.dispatch,t.emit,t.select,t.root)]))}function hn(e){return tu((t,n,r,i)=>e(t))}function T(){return new Pr(a([]))}function mn(e){return new Pr(ye(e,a([]),(t,n)=>{let r=n.all;return K(t,r)}))}var gn=class extends d{constructor(t){super(),this.content=t}},ne=class extends d{constructor(t,n,r,i,s,l,o){super(),this.key=t,this.namespace=n,this.tag=r,this.attrs=i,this.children=s,this.self_closing=l,this.void=o}},Nr=class extends d{constructor(t){super(),this.subtree=t}},xn=class extends d{constructor(t,n,r){super(),this[0]=t,this[1]=n,this.as_property=r}},Mr=class extends d{constructor(t,n){super(),this[0]=t,this[1]=n}};function Fp(e){if(e instanceof xn)return new y(void 0);{let t=e[0],n=e[1],r=Oi(t,2);return new x([r,n])}}function Up(e,t,n){return gl(e,t,(r,i,s)=>{let l=n+"-"+H(s);return nu(i,r,l)})}function nu(e,t,n){for(;;){let r=e,i=t,s=n;if(r instanceof gn)return i;if(r instanceof Nr){let l=r.subtree;e=l(),t=i,n=s}else{let l=r.attrs,o=r.children,u=ye(l,i,(c,p)=>{let f=Fp(p);if(f.isOk()){let m=f[0][0],g=f[0][1];return ze(c,s+"-"+m,g)}else return c});return Up(o,u,s)}}}function ru(e){return nu(e,F(),"0")}function A(e,t){return new xn(e,t,!1)}function Wp(e,t){return new xn(e,t,!0)}function su(e,t){return new Mr("on"+e,t)}function _(e){return A("class",e)}function Ir(e){return A("class",(()=>{let n=rn(e,r=>r[1]?new x(r[0]):new y(void 0));return Ee(n," ")})())}function Bt(e){return A("id",e)}function Yn(e){return A("value",e)}function Ji(e){return A("placeholder",e)}function to(e){return Wp("disabled",e)}function Pt(e){return A("href",e)}function lu(e){return A("src",e)}function ou(e){return A("alt",e)}function I(e,t,n){return e==="area"?new ne("","",e,t,a([]),!1,!0):e==="base"?new ne("","",e,t,a([]),!1,!0):e==="br"?new ne("","",e,t,a([]),!1,!0):e==="col"?new ne("","",e,t,a([]),!1,!0):e==="embed"?new ne("","",e,t,a([]),!1,!0):e==="hr"?new ne("","",e,t,a([]),!1,!0):e==="img"?new ne("","",e,t,a([]),!1,!0):e==="input"?new ne("","",e,t,a([]),!1,!0):e==="link"?new ne("","",e,t,a([]),!1,!0):e==="meta"?new ne("","",e,t,a([]),!1,!0):e==="param"?new ne("","",e,t,a([]),!1,!0):e==="source"?new ne("","",e,t,a([]),!1,!0):e==="track"?new ne("","",e,t,a([]),!1,!0):e==="wbr"?new ne("","",e,t,a([]),!1,!0):new ne("","",e,t,n,!1,!1)}function Fr(e,t,n,r){return new ne("",e,t,n,r,!1,!1)}function Ur(e){return new gn(e)}function lt(){return new gn("")}var no=class extends d{constructor(t){super(),this.dict=t}};function au(){return new no(F())}var Vi=class extends d{constructor(t){super(),this[0]=t}},Yi=class extends d{constructor(t,n){super(),this[0]=t,this[1]=n}},Zi=class extends d{constructor(t,n){super(),this[0]=t,this[1]=n}};function uu(e){return q(e.created,F())&&q(e.removed,au())&&q(e.updated,F())}var Qi=class extends d{constructor(t){super(),this[0]=t}},Xi=class extends d{constructor(t,n){super(),this[0]=t,this[1]=n}},Wr=class extends d{constructor(t){super(),this[0]=t}},ot=class extends d{constructor(t){super(),this[0]=t}},Gr=class extends d{constructor(t,n){super(),this[0]=t,this[1]=n}},es=class extends d{constructor(t,n){super(),this[0]=t,this[1]=n}};var Rr=class extends d{},ts=class extends d{constructor(t,n){super(),this[0]=t,this[1]=n}},ns=class extends d{constructor(t){super(),this[0]=t}},rs=class extends d{constructor(t){super(),this[0]=t}};globalThis.customElements&&!globalThis.customElements.get("lustre-fragment")&&globalThis.customElements.define("lustre-fragment",class extends HTMLElement{constructor(){super()}});function ro(e,t,n){let r,i=[{prev:e,next:t,parent:e.parentNode}];for(;i.length;){let{prev:s,next:l,parent:o}=i.pop();for(;l.subtree!==void 0;)l=l.subtree();if(l.content!==void 0)if(s)if(s.nodeType===Node.TEXT_NODE)s.textContent!==l.content&&(s.textContent=l.content),r??=s;else{let u=document.createTextNode(l.content);o.replaceChild(u,s),r??=u}else{let u=document.createTextNode(l.content);o.appendChild(u),r??=u}else if(l.tag!==void 0){let u=Kp({prev:s,next:l,dispatch:n,stack:i});s?s!==u&&o.replaceChild(u,s):o.appendChild(u),r??=u}}return r}function Kp({prev:e,next:t,dispatch:n,stack:r}){let i=t.namespace||"http://www.w3.org/1999/xhtml",s=e&&e.nodeType===Node.ELEMENT_NODE&&e.localName===t.tag&&e.namespaceURI===(t.namespace||"http://www.w3.org/1999/xhtml"),l=s?e:i?document.createElementNS(i,t.tag):document.createElement(t.tag),o;if(Hr.has(l))o=Hr.get(l);else{let S=new Map;Hr.set(l,S),o=S}let u=s?new Set(o.keys()):null,c=s?new Set(Array.from(e.attributes,S=>S.name)):null,p=null,f=null,m=null;if(s&&t.tag==="textarea"){let S=t.children[Symbol.iterator]().next().value?.content;S!==void 0&&(l.value=S)}let g=[];for(let S of t.attrs){let z=S[0],O=S[1];if(S.as_property)l[z]!==O&&(l[z]=O),s&&c.delete(z);else if(z.startsWith("on")){let V=z.slice(2),Zt=n(O,V==="input");o.has(V)||l.addEventListener(V,Jr),o.set(V,Zt),s&&u.delete(V)}else if(z.startsWith("data-lustre-on-")){let V=z.slice(15),Zt=n(Vp);o.has(V)||l.addEventListener(V,Jr),o.set(V,Zt),l.setAttribute(z,O),s&&(u.delete(V),c.delete(z))}else z.startsWith("delegate:data-")||z.startsWith("delegate:aria-")?(l.setAttribute(z,O),g.push([z.slice(10),O])):z==="class"?p=p===null?O:p+" "+O:z==="style"?f=f===null?O:f+O:z==="dangerous-unescaped-html"?m=O:(l.getAttribute(z)!==O&&l.setAttribute(z,O),(z==="value"||z==="selected")&&(l[z]=O),s&&c.delete(z))}if(p!==null&&(l.setAttribute("class",p),s&&c.delete("class")),f!==null&&(l.setAttribute("style",f),s&&c.delete("style")),s){for(let S of c)l.removeAttribute(S);for(let S of u)o.delete(S),l.removeEventListener(S,Jr)}if(t.tag==="slot"&&window.queueMicrotask(()=>{for(let S of l.assignedElements())for(let[z,O]of g)S.hasAttribute(z)||S.setAttribute(z,O)}),t.key!==void 0&&t.key!=="")l.setAttribute("data-lustre-key",t.key);else if(m!==null)return l.innerHTML=m,l;let k=l.firstChild,C=null,L=null,D=null,M=is(t).next().value;if(s&&M!==void 0&&M.key!==void 0&&M.key!==""){C=new Set,L=cu(e),D=cu(t);for(let S of is(t))k=Yp(k,S,l,r,D,L,C)}else for(let S of is(t))r.unshift({prev:k,next:S,parent:l}),k=k?.nextSibling;for(;k;){let S=k.nextSibling;l.removeChild(k),k=S}return l}var Hr=new WeakMap;function Jr(e){let t=e.currentTarget;if(!Hr.has(t)){t.removeEventListener(e.type,Jr);return}let n=Hr.get(t);if(!n.has(e.type)){t.removeEventListener(e.type,Jr);return}n.get(e.type)(e)}function Vp(e){let t=e.currentTarget,n=t.getAttribute(`data-lustre-on-${e.type}`),r=JSON.parse(t.getAttribute("data-lustre-data")||"{}"),i=JSON.parse(t.getAttribute("data-lustre-include")||"[]");switch(e.type){case"input":case"change":i.push("target.value");break}return{tag:n,data:i.reduce((s,l)=>{let o=l.split(".");for(let u=0,c=s,p=e;u<o.length;u++)u===o.length-1?c[o[u]]=p[o[u]]:(c[o[u]]??={},p=p[o[u]],c=c[o[u]]);return s},{data:r})}}function cu(e){let t=new Map;if(e)for(let n of is(e)){let r=n?.key||n?.getAttribute?.("data-lustre-key");r&&t.set(r,n)}return t}function Yp(e,t,n,r,i,s,l){for(;e&&!i.has(e.getAttribute("data-lustre-key"));){let u=e.nextSibling;n.removeChild(e),e=u}if(s.size===0)return r.unshift({prev:e,next:t,parent:n}),e=e?.nextSibling,e;if(l.has(t.key))return console.warn(`Duplicate key found in Lustre vnode: ${t.key}`),r.unshift({prev:null,next:t,parent:n}),e;l.add(t.key);let o=s.get(t.key);if(!o&&!e)return r.unshift({prev:null,next:t,parent:n}),e;if(!o&&e!==null){let u=document.createTextNode("");return n.insertBefore(u,e),r.unshift({prev:u,next:t,parent:n}),e}return!o||o===e?(r.unshift({prev:e,next:t,parent:n}),e=e?.nextSibling,e):(n.insertBefore(o,e),r.unshift({prev:o,next:t,parent:n}),e)}function*is(e){for(let t of e.children)yield*fu(t)}function*fu(e){e.subtree!==void 0?yield*fu(e.subtree()):yield e}var io=class e{static start({init:t,update:n,view:r},i,s){if(!Zn())return new y(new Kr);let l=i instanceof HTMLElement?i:document.querySelector(i);if(!l)return new y(new ss(i));let o=new e(l,t(s),n,r);return new x(u=>o.send(u))}constructor(t,[n,r],i,s){this.root=t,this.#e=n,this.#s=i,this.#n=s,this.#t=window.setTimeout(()=>this.#r(r.all.toArray(),!0),0)}root;send(t){if(t instanceof Wr){if(t[0]instanceof rs){this.#t=window.clearTimeout(this.#t),this.#i=[],this.#e=t[0][0];let n=this.#n(this.#e),r=(s,l=!1)=>o=>{let u=s(o);u instanceof x&&this.send(new ot(u[0],l))},i=this.root.firstChild??this.root.appendChild(document.createTextNode(""));ro(i,n,r)}}else if(t instanceof ot){let n=t[0],r=t[1]??!1;this.#i.push(n),r?(this.#t=window.clearTimeout(this.#t),this.#r()):this.#t||(this.#t=window.setTimeout(()=>this.#r()))}else if(t instanceof Gr){let n=t[0],r=t[1];this.root.dispatchEvent(new CustomEvent(n,{detail:r,bubbles:!0,composed:!0}))}else if(t instanceof Rr)for(this.#t=window.clearTimeout(this.#t),this.#e=null,this.#s=null,this.#n=null,this.#i=null;this.root.firstChild;)this.root.firstChild.remove()}#e;#s;#n;#i=[];#t;#r(t=[]){this.#t=void 0,this.#l(t);let n=this.#n(this.#e),r=(s,l=!1)=>o=>{let u=s(o);u instanceof x&&this.send(new ot(u[0],l))},i=this.root.firstChild??this.root.appendChild(document.createTextNode(""));ro(i,n,r)}#l(t=[]){for(;this.#i.length>0;){let n=this.#i.shift(),[r,i]=this.#s(this.#e,n);t=t.concat(i.all.toArray()),this.#e=r}for(;t.length>0;){let n=t.shift(),r=o=>this.send(new ot(o)),i=(o,u)=>this.root.dispatchEvent(new CustomEvent(o,{detail:u,bubbles:!0,composed:!0})),s=()=>{},l=this.root;n({dispatch:r,emit:i,select:s,root:l})}this.#i.length>0&&this.#l(t)}},pu=io.start;var so=class e{static start({init:t,update:n,view:r,on_attribute_change:i},s){let l=new e(t(s),n,r,i);return new x(o=>l.send(o))}constructor([t,n],r,i,s){this.#e=t,this.#s=r,this.#i=i,this.#t=i(t),this.#a=s,this.#r=new Map,this.#l=ru(this.#t),this.#o(n.all.toArray())}send(t){if(t instanceof Qi){for(let n of t[0]){let r=this.#a.get(n[0]);if(!r)continue;let i=r(n[1]);i instanceof y||this.#n.push(i)}this.#o()}else if(t instanceof Xi)this.#n=this.#n.concat(t[0].toArray()),this.#o(t[1].all.toArray());else if(!(t instanceof Wr))if(t instanceof ot)this.#n.push(t[0]),this.#o();else if(t instanceof Gr){let n=new Yi(t[0],t[1]);for(let[r,i]of this.#r)i(n)}else if(t instanceof es){let n=this.#l.get(t[0]);if(!n)return;let r=n(t[1]);if(r instanceof y)return;this.#n.push(r[0]),this.#o()}else if(t instanceof ts){let n=hl(this.#a),r=new Zi(n,this.#t);this.#r=this.#r.set(t[0],t[1]),t[1](r)}else t instanceof ns&&(this.#r=this.#r.delete(t[0]))}#e;#s;#n;#i;#t;#r;#l;#a;#o(t=[]){this.#u(t);let n=this.#i(this.#e),r=elements(this.#t,n);if(!uu(r)){let i=new Vi(r);for(let[s,l]of this.#r)l(i)}this.#t=n,this.#l=r.handlers}#u(t=[]){for(;this.#n.length>0;){let n=this.#n.shift(),[r,i]=this.#s(this.#e,n);t=t.concat(i.all.toArray()),this.#e=r}for(;t.length>0;)t.shift()({dispatch:o=>this.send(new ot(o)),emit:(o,u)=>this.root.dispatchEvent(new CustomEvent(o,{detail:u,bubbles:!0,composed:!0})),select:()=>{},root:null});this.#n.length>0&&this.#u(t)}},Zp=so.start,Zn=()=>globalThis.window&&window.document;var lo=class extends d{constructor(t,n,r,i){super(),this.init=t,this.update=n,this.view=r,this.on_attribute_change=i}};var ss=class extends d{constructor(t){super(),this.selector=t}},Kr=class extends d{};function du(e,t,n){return new lo(e,t,n,new h)}function _u(e,t,n){return Je(!Zn(),new y(new Kr),()=>pu(e,t,n))}function b(e){return Ur(e)}function oo(e,t){return I("article",e,t)}function ls(e,t){return I("h1",e,t)}function Vr(e,t){return I("h2",e,t)}function bn(e,t){return I("h3",e,t)}function he(e,t){return I("h4",e,t)}function hu(e,t){return I("h5",e,t)}function mu(e,t){return I("h6",e,t)}function os(e,t){return I("main",e,t)}function wu(e,t){return I("nav",e,t)}function ao(e,t){return I("section",e,t)}function v(e,t){return I("div",e,t)}function gu(e){return I("hr",e,a([]))}function xu(e,t){return I("li",e,t)}function at(e,t){return I("p",e,t)}function me(e,t){return I("pre",e,t)}function uo(e,t){return I("ul",e,t)}function Nt(e,t){return I("a",e,t)}function bu(e){return I("br",e,a([]))}function de(e,t){return I("code",e,t)}function yu(e,t){return I("em",e,t)}function yn(e,t){return I("span",e,t)}function Yr(e,t){return I("strong",e,t)}function ku(e){return I("img",e,a([]))}function as(e,t){return Fr("http://www.w3.org/2000/svg","svg",e,t)}function ue(e,t){return I("button",e,t)}function co(e){return I("input",e,a([]))}function Zr(e,t){return I("label",e,t)}function us(e,t){return I("textarea",e,a([Ur(t)]))}var vu="http://www.w3.org/2000/svg";function Qn(e){return Fr(vu,"line",e,a([]))}function Lu(e){return Fr(vu,"polyline",e,a([]))}function cs(e,t){return su(e,t)}function Au(e){return cs("click",t=>new x(e))}function X(e){return cs("mousedown",t=>new x(e))}function ju(e){return cs("mouseenter",t=>new x(e))}function Xp(e){let t=e;return Sl("target",Sl("value",sa))(t)}function Xn(e){return cs("input",t=>{let n=Xp(t);return zt(n,e)})}var td={handle_external_links:!1,handle_internal_links:!0},Ou=window?.location?.href,_o=()=>Ou?new x(po(new URL(Ou))):new y(void 0),$o=(e,t=td)=>{document.addEventListener("click",n=>{let r=zu(n.target);if(r)try{let i=new URL(r.href),s=po(i),l=i.host!==window.location.host;return!t.handle_external_links&&l||!t.handle_internal_links&&!l?void 0:(n.preventDefault(),l||(window.history.pushState({},"",r.href),window.requestAnimationFrame(()=>{i.hash&&document.getElementById(i.hash.slice(1))?.scrollIntoView()})),e(s))}catch{return}}),window.addEventListener("popstate",n=>{n.preventDefault();let r=new URL(window.location.href),i=po(r);window.requestAnimationFrame(()=>{r.hash&&document.getElementById(r.hash.slice(1))?.scrollIntoView()}),e(i)}),window.addEventListener("modem-push",({detail:n})=>{e(n)}),window.addEventListener("modem-replace",({detail:n})=>{e(n)})},Su=e=>{window.history.pushState({},"",pe(e)),window.requestAnimationFrame(()=>{e.fragment[0]&&document.getElementById(e.fragment[0])?.scrollIntoView()}),window.dispatchEvent(new CustomEvent("modem-push",{detail:e}))};var zu=e=>!e||e.tagName==="BODY"?null:e.tagName==="A"?e:zu(e.parentElement),po=e=>new B(e.protocol?new $(e.protocol.slice(0,-1)):new h,new h,e.hostname?new $(e.hostname):new h,e.port?new $(Number(e.port)):new h,e.pathname,e.search?new $(e.search.slice(1)):new h,e.hash?new $(e.hash.slice(1)):new h);function Eu(e){return hn(t=>Je(!Zn(),void 0,()=>$o(n=>{let i=e(n);return t(i)})))}var nd=new B(new h,new h,new h,new h,"",new h,new h);function kn(e,t,n){return hn(r=>Je(!Zn(),void 0,()=>Su((()=>{let i=nd;return new B(i.scheme,i.userinfo,i.host,i.port,e,t,n)})())))}var Ie=class extends d{},Mt=class extends d{},ho=class extends d{},Qr=class extends d{},Xr=class extends d{},mo=class extends d{},wo=class extends d{},go=class extends d{},xo=class extends d{};var vn=class extends d{},De=class extends d{};function Tu(e){return e instanceof wo?"CONNECT":e instanceof Xr?"DELETE":e instanceof Ie?"GET":e instanceof ho?"HEAD":e instanceof go?"OPTIONS":e instanceof xo?"PATCH":e instanceof Mt?"POST":e instanceof Qr?"PUT":e instanceof mo?"TRACE":e[0]}function qu(e){return e instanceof vn?"http":"https"}var ut=class extends d{constructor(t,n,r,i,s,l,o,u){super(),this.method=t,this.headers=n,this.body=r,this.scheme=i,this.host=s,this.port=l,this.path=o,this.query=u}};function Bu(e){return new B(new $(qu(e.scheme)),new h,new $(e.host),e.port,e.path,e.query,new h)}function fs(e,t,n){let r=xl(e.headers,ke(t),n),i=e;return new ut(i.method,r,i.body,i.scheme,i.host,i.port,i.path,i.query)}function er(e,t){let n=e.method,r=e.headers,i=e.scheme,s=e.host,l=e.port,o=e.path,u=e.query;return new ut(n,r,t,i,s,l,o,u)}function Fe(e,t){let n=e;return new ut(t,n.headers,n.body,n.scheme,n.host,n.port,n.path,n.query)}function ct(){return new ut(new Ie,a([]),"",new De,"localhost",new h,"",new h)}function It(e,t){let n=e;return new ut(n.method,n.headers,n.body,t,n.host,n.port,n.path,n.query)}function ps(e,t){let n=e;return new ut(n.method,n.headers,n.body,n.scheme,t,n.port,n.path,n.query)}function ds(e,t){let n=e;return new ut(n.method,n.headers,n.body,n.scheme,n.host,new $(t),n.path,n.query)}function ft(e,t){let n=e;return new ut(n.method,n.headers,n.body,n.scheme,n.host,n.port,t,n.query)}var Dt=class extends d{constructor(t,n,r,i,s,l){super(),this.saving=t,this.slug=n,this.title=r,this.subtitle=i,this.leading=s,this.content=l}};function Pu(e,t,n,r,i){return new Dt(!1,e,t,n,r,i)}function _s(e){return e.saving}function $s(e){return e.slug}function hs(e){return e.title}function ms(e){return e.subtitle}function ti(e){return e.leading}function ni(e){return e.content}function Nu(e,t){{let n=e.saving,r=e.title,i=e.subtitle,s=e.leading,l=e.content;return new Dt(n,t,r,i,s,l)}}function Mu(e,t){{let n=e.saving,r=e.slug,i=e.subtitle,s=e.leading,l=e.content;return new Dt(n,r,t,i,s,l)}}function Iu(e,t){{let n=e.saving,r=e.slug,i=e.title,s=e.leading,l=e.content;return new Dt(n,r,i,t,s,l)}}function Du(e,t){{let n=e.saving,r=e.slug,i=e.title,s=e.subtitle,l=e.content;return new Dt(n,r,i,s,t,l)}}function Fu(e,t){{let n=e.saving,r=e.slug,i=e.title,s=e.subtitle,l=e.leading;return new Dt(n,r,i,s,l,t)}}var bt=class extends d{constructor(t,n,r){super(),this.status=t,this.headers=n,this.body=r}};var tr=class e{constructor(t){this.promise=t}static wrap(t){return t instanceof Promise?new e(t):t}static unwrap(t){return t instanceof e?t.promise:t}};function ws(e){return Promise.resolve(tr.wrap(e))}function Wu(e,t){return e.then(n=>t(tr.unwrap(n)))}function gs(e,t){return e.then(n=>tr.wrap(t(tr.unwrap(n))))}function yo(e,t){return e.catch(n=>t(n))}function Gu(e,t){return gs(e,r=>(t(r),r))}function xs(e,t){return Wu(e,r=>{if(r.isOk()){let i=r[0];return t(i)}else{let i=r[0];return ws(new y(i))}})}async function Hu(e){try{return new x(await fetch(e))}catch(t){return new y(new bs(t.toString()))}}function Ju(e){return new bt(e.status,G.fromArray([...e.headers]),e)}function ad(e){let t=pe(Bu(e)),n=Tu(e.method).toUpperCase(),r={headers:ud(e.headers),method:n};return[t,r]}function Ku(e){let[t,n]=ad(e);return n.method!=="GET"&&n.method!=="HEAD"&&(n.body=e.body),new globalThis.Request(t,n)}function ud(e){let t=new globalThis.Headers;for(let[n,r]of e)t.append(n.toLowerCase(),r);return t}async function ko(e){let t;try{t=await e.body.text()}catch{return new y(new ys)}return new x(e.withFields({body:t}))}var bs=class extends d{constructor(t){super(),this[0]=t}},ys=class extends d{};function Vu(e){let n=Ku(e),r=Hu(n);return xs(r,i=>ws(new x(Ju(i))))}var ks=class extends d{constructor(t){super(),this[0]=t}},ri=class extends d{constructor(t){super(),this[0]=t}},ii=class extends d{constructor(t){super(),this[0]=t}},vs=class extends d{},si=class extends d{},li=class extends d{constructor(t,n){super(),this[0]=t,this[1]=n}},oi=class extends d{},Ls=class extends d{constructor(t){super(),this.run=t}};function fd(e,t,n){let r=Vu(e),i=xs(r,ko),s=gs(i,o=>{if(o.isOk()){let u=o[0];return t.run(new x(u))}else return t.run(new y(new vs))}),l=yo(s,o=>t.run(new y(new vs)));Gu(l,n)}function pt(e,t){return hn(n=>fd(e,t,n))}function Yu(e){if(e instanceof bt&&200<=e.status&&e.status<=299){let t=e.status,n=e.body;return new x(n)}else{if(e instanceof bt&&e.status===401)return new y(new oi);if(e instanceof bt&&e.status===404)return new y(new si);if(e instanceof bt&&e.status===500){let t=e.body;return new y(new ri(t))}else{let t=e.status,n=e.body;return new y(new li(t,n))}}}function As(e){return new Ls(t=>{let r=Te(t,Yu);return e(r)})}function Ft(e,t){return new Ls(n=>{let i=Te(n,Yu),s=Te(i,l=>{let o=eu(l,e);if(o.isOk()){let u=o[0];return new x(u)}else{let u=o[0];return new y(new ii(u))}});return t(s)})}var ee=class extends d{},Y=class extends d{},N=class extends d{constructor(t){super(),this[0]=t}},yt=class extends d{constructor(t){super(),this[0]=t}},Ue=class extends d{constructor(t){super(),this[0]=t}};function je(e,t){if(e instanceof N){let n=e[0];return new N(t(n))}else if(e instanceof yt){let n=e[0];return new yt(t(n))}else return e}var nr=class extends d{},Oe=class extends d{},Ln=class extends d{constructor(t){super(),this.session=t}},Ao=class extends d{constructor(t,n,r){super(),this.subject=t,this.expiry=n,this.permissions=r}};function pd(e){return e instanceof nr?a([]):e instanceof Oe?a([]):e.session.permissions}function js(e,t){return xr(pd(e),n=>xr(t,r=>r===n))}function jo(e,t){let n,r=t.scheme;r instanceof $&&r[0]==="http"?n=It(e,new vn):r instanceof $&&r[0]==="https"?n=It(e,new De):n=It(e,new De);let i=n,s,l=t.host;if(l instanceof $){let f=l[0];s=ps(i,f)}else s=i;let o=s,u,c=t.port;if(c instanceof $){let f=c[0];u=ds(o,f)}else u=o;return u}function Zu(e,t){let n=ct(),r=Fe(n,new Ie),i=ft(r,"/api/auth/logout"),s=fs(i,"credentials","include"),l=jo(s,t);return pt(l,As(e))}function dd(){return le("subject",Ae,e=>le("expiresAt",xt,t=>le("permissions",_n(Ae),n=>Me(new Ao(e,t,n)))))}function Qu(){let e=dd();return Ka(e,t=>Me(new Ln(t)))}function Xu(e,t,n,r){let i,s=Ct(a([["username",$e(t)],["password",$e(n)]]));i=qt(s);let l=i,o=ct(),u=Fe(o,new Mt),c=ft(u,"/api/auth"),p=er(c,l),f=jo(p,r);return pt(f,Ft(Qu(),e))}function Oo(e,t){let n=ct(),r=Fe(n,new Ie),i=ft(r,"/api/auth"),s=fs(i,"credentials","include"),l=jo(s,t);return pt(l,Ft(Qu(),e))}var W=class extends d{constructor(t,n,r,i,s,l,o,u,c,p,f){super(),this.id=t,this.slug=n,this.revision=r,this.author=i,this.tags=s,this.published_at=l,this.title=o,this.subtitle=u,this.leading=c,this.content=p,this.draft=f}};function rr(e){if(e instanceof W&&e.content instanceof N){let t=e.slug,n=e.title,r=e.subtitle,i=e.leading,s=e.content[0],l=Pu(t,n,r,i,s);return new $(l)}else return new h}function ai(e,t){return js(t,a(["post_edit_any"]))}function tc(e,t){return js(t,a(["post_edit_any"]))}function nc(e,t){return js(t,a(["post_edit_any"]))}function ui(e,t){let n,r=t.scheme;r instanceof $&&r[0]==="http"?n=It(e,new vn):r instanceof $&&r[0]==="https"?n=It(e,new De):n=It(e,new De);let i=n,s,l=t.host;if(l instanceof $){let f=l[0];s=ps(i,f)}else s=i;let o=s,u,c=t.port;if(c instanceof $){let f=c[0];u=ds(o,f)}else u=o;return u}function rc(e,t,n){let r,i=ct(),s=Fe(i,new Xr),l=ft(s,"/api/articles/"+t);return r=ui(l,n),pt(r,As(e))}function ir(){return Yl("version",0,xt,e=>le("id",Ae,t=>le("author",Ae,n=>le("tags",Ui(_n(Ae),a([Me(a([]))])),r=>le("published_at",Vl(xt,s=>s===0?new h:new $(Ia(s))),i=>le("slug",Ae,s=>le("revision",xt,l=>le("title",Ae,o=>le("leading",Ae,u=>le("subtitle",Ae,c=>Yl("content","",Ae,p=>{let f;p===""?f=new ee:f=new N(p);let m=f;return Me(new W(t,s,l,n,r,i,o,c,u,m,new h))})))))))))))}function Ut(e,t,n){let r,i=ct(),s=Fe(i,new Ie),l=ft(s,"/api/articles/"+t);return r=ui(l,n),pt(r,Ft(ir(),e))}function _d(){return le("articles",Ui(_n(ir()),a([Me(a([]))])),e=>Me(e))}function ci(e,t){let n,r=ct(),i=Fe(r,new Ie),s=ft(i,"/api/articles");return n=ui(s,t),pt(n,Ft(_d(),e))}function Os(e){{let t=e.id,n=e.slug,r=e.revision,i=e.author,s=e.tags,l=e.published_at,o=e.title,u=e.subtitle,c=e.leading,p=e.content,f;if(p instanceof N){let C=p[0];f=$e(C)}else f=$e("");let m=f,g;if(l instanceof $){let C=l[0];g=st(Ma(C))}else g=st(0);let k=g;return Ct(a([["struct_version",st(1)],["id",$e(t)],["revision",st(r)],["slug",$e(n)],["title",$e(o)],["leading",$e(c)],["subtitle",$e(u)],["author",$e(i)],["published_at",k],["tags",Br(s,$e)],["content",m]]))}}function Ss(e,t,n){let r,i=ct(),s=Fe(i,new Qr),l=ft(s,"/api/articles/"+t.id),o=er(l,(()=>{let c=Os(t);return qt(c)})());return r=ui(o,n),pt(r,Ft(ir(),e))}function ic(e,t,n){let r,i=ct(),s=Fe(i,new Mt),l=ft(s,"/api/articles"),o=er(l,(()=>{let c=Os(t);return qt(c)})());return r=ui(o,n),pt(r,Ft(ir(),e))}function sr(e,t){if(e instanceof W&&e.draft instanceof $){let n=e.draft[0],r=e;return new W(r.id,r.slug,r.revision,r.author,r.tags,r.published_at,r.title,r.subtitle,r.leading,r.content,new $(t(n)))}else return $d("draft_update: not an article with draft","src\\article\\article.gleam",316),e}function $d(e,t,n){let r="\x1B[90m",i="\x1B[39m",s=`${t}:${n}`,l=kt(e);if(globalThis.process?.stderr?.write){let o=`${r}${s}${i}
${l}
`;process.stderr.write(o)}else if(globalThis.Deno){let o=`${r}${s}${i}
${l}
`;globalThis.Deno.stderr.writeSync(new TextEncoder().encode(o))}else{let o=`${s}
${l}`;globalThis.console.log(o)}return e}function hd(e){let t='"';for(let n=0;n<e.length;n++){let r=e[n];r==`
`?t+="\\n":r=="\r"?t+="\\r":r=="	"?t+="\\t":r=="\f"?t+="\\f":r=="\\"?t+="\\\\":r=='"'?t+='\\"':r<" "||r>"~"&&r<"\xA0"?t+="\\u{"+r.charCodeAt(0).toString(16).toUpperCase().padStart(4,"0")+"}":t+=r}return t+='"',t}function md(e){let t="dict.from_list([",n=!0,r=[];return e.forEach((i,s)=>{r.push([s,i])}),r.sort(),r.forEach(([i,s])=>{n||(t=t+", "),t=t+"#("+kt(i)+", "+kt(s)+")",n=!1}),t+"])"}function wd(e){let t=globalThis.Object.keys(e).map(n=>{let r=kt(e[n]);return isNaN(parseInt(n))?`${n}: ${r}`:r}).join(", ");return t?`${e.constructor.name}(${t})`:e.constructor.name}function gd(e){let t=Object.getPrototypeOf(e)?.constructor?.name||"Object",n=[];for(let s of Object.keys(e))n.push(`${kt(s)}: ${kt(e[s])}`);let r=n.length?" "+n.join(", ")+" ":"";return`//js(${t==="Object"?"":t+" "}{${r}})`}function kt(e){let t=typeof e;if(e===!0)return"True";if(e===!1)return"False";if(e===null)return"//js(null)";if(e===void 0)return"Nil";if(t==="string")return hd(e);if(t==="bigint"||t==="number")return e.toString();if(globalThis.Array.isArray(e))return`#(${e.map(kt).join(", ")})`;if(e instanceof G)return`[${e.toArray().map(kt).join(", ")}]`;if(e instanceof jt)return`//utfcodepoint(${String.fromCodePoint(e.value)})`;if(e instanceof be)return xd(e);if(e instanceof d)return wd(e);if(bd(e))return md(e);if(e instanceof Set)return`//js(Set(${[...e].map(kt).join(", ")}))`;if(e instanceof RegExp)return`//js(${e})`;if(e instanceof Date)return`//js(Date("${e.toISOString()}"))`;if(e instanceof Function){let n=[];for(let r of Array(e.length).keys())n.push(String.fromCharCode(r+97));return`//fn(${n.join(", ")}) { ... }`}return gd(e)}function xd(e){let t=e.bitOffset+8*Math.trunc(e.bitSize/8),n=Xt(e,e.bitOffset,t),r=e.bitSize%8;if(r>0){let i=Li(e,t,e.bitSize,!1,!1),s=Array.from(n.rawBuffer),l=`${i}:size(${r})`;return s.length===0?`<<${l}>>`:`<<${Array.from(n.rawBuffer).join(", ")}, ${l}>>`}else return`<<${Array.from(n.rawBuffer).join(", ")}>>`}function bd(e){try{return e instanceof ge}catch{return!1}}var vt=class extends d{},We=class extends d{},dt=class extends d{constructor(t){super(),this.slug=t}},Ge=class extends d{constructor(t){super(),this.id=t}},_t=class extends d{},$t=class extends d{},fi=class extends d{constructor(t){super(),this.uri=t}};function zo(e){let t=Tr(e.path);if(t.hasLength(0))return new vt;if(t.hasLength(1)&&t.head==="")return new vt;if(t.hasLength(1)&&t.head==="articles")return new We;if(t.hasLength(2)&&t.head==="article"){let n=t.tail.head;return new dt(n)}else if(t.hasLength(3)&&t.head==="article"&&t.tail.tail.head==="edit"){let n=t.tail.head;return new Ge(n)}else return t.hasLength(1)&&t.head==="about"?new _t:t.hasLength(1)&&t.head==="djot-demo"?new $t:new fi(e)}function lr(e){if(e instanceof vt)return"/";if(e instanceof _t)return"/about";if(e instanceof We)return"/articles";if(e instanceof dt)return"/article/"+e.slug;if(e instanceof Ge)return"/article/"+e.id+"/edit";if(e instanceof $t)return"/djot-demo/";{let t=e.uri;return"/404?uri="+pe(t)}}function Re(e){let t,r=lr(e);t=se(r);let i=t;if(!i.isOk())throw R("let_assert","routes/routes",45,"to_uri","Pattern match failed, no pattern matched the value.",{value:i});return i[0]}function yd(e,t){for(;;){let n=e,r=t;if(n.hasLength(0)&&r.hasLength(0))return!0;if(n.hasLength(0))return!1;if(r.hasLength(0))return!1;{let i=n.head,s=n.tail,l=r.head,o=r.tail;if(q(i,l))e=s,t=o;else return!1}}}function sc(e,t){let n,i=lr(e);n=Tr(i);let s=n,l,u=lr(t);return l=Tr(u),yd(s,l)}var pi=class extends d{constructor(t){super(),this[0]=t}},An=class extends d{},Lt=class extends d{constructor(t,n){super(),this.article=t,this.session=n}},ht=class extends d{constructor(t){super(),this.article=t}},jn=class extends d{constructor(t,n){super(),this.articles=t,this.session=n}},Wt=class extends d{},ce=class extends d{constructor(t){super(),this.error=t}},or=class extends d{},zs=class extends d{constructor(t){super(),this.requested_uri=t}},On=class extends d{constructor(t){super(),this.content=t}},Sn=class extends d{constructor(t,n){super(),this.slug=t,this.available_slugs=n}},zn=class extends d{constructor(t){super(),this.id=t}},Gt=class extends d{constructor(t,n){super(),this.error=t,this.context=n}},En=class extends d{constructor(t){super(),this.attempted_action=t}},ar=class extends d{constructor(t){super(),this.msg=t}};function Es(e){if(e instanceof pi){let t=e[0];return Re(t)}else if(e instanceof An){let t=se("/");if(!t.isOk())throw R("let_assert","pages/pages",47,"to_uri","Pattern match failed, no pattern matched the value.",{value:t});return t[0]}else if(e instanceof jn){let t=se("/articles");if(!t.isOk())throw R("let_assert","pages/pages",51,"to_uri","Pattern match failed, no pattern matched the value.",{value:t});return t[0]}else if(e instanceof Wt){let t=se("/articles");if(!t.isOk())throw R("let_assert","pages/pages",55,"to_uri","Pattern match failed, no pattern matched the value.",{value:t});return t[0]}else if(e instanceof Lt){let t=e.article,n=se("/article/"+t.slug);if(!n.isOk())throw R("let_assert","pages/pages",59,"to_uri","Pattern match failed, no pattern matched the value.",{value:n});return n[0]}else if(e instanceof ht){let t=e.article,n=se("/article/"+t.id+"/edit");if(!n.isOk())throw R("let_assert","pages/pages",63,"to_uri","Pattern match failed, no pattern matched the value.",{value:n});return n[0]}else if(e instanceof ce){let t=e.error;if(t instanceof Sn){let n=t.slug,r=se("/article/"+n);if(!r.isOk())throw R("let_assert","pages/pages",69,"to_uri","Pattern match failed, no pattern matched the value.",{value:r});return r[0]}else if(t instanceof zn){let n=t.id,r=se("/article/"+n+"/edit");if(!r.isOk())throw R("let_assert","pages/pages",73,"to_uri","Pattern match failed, no pattern matched the value.",{value:r});return r[0]}else if(t instanceof Gt){let n=se("/");if(!n.isOk())throw R("let_assert","pages/pages",77,"to_uri","Pattern match failed, no pattern matched the value.",{value:n});return n[0]}else if(t instanceof En){let n=se("/");if(!n.isOk())throw R("let_assert","pages/pages",81,"to_uri","Pattern match failed, no pattern matched the value.",{value:n});return n[0]}else{let n=se("/");if(!n.isOk())throw R("let_assert","pages/pages",85,"to_uri","Pattern match failed, no pattern matched the value.",{value:n});return n[0]}}else if(e instanceof or){let t=se("/about");if(!t.isOk())throw R("let_assert","pages/pages",91,"to_uri","Pattern match failed, no pattern matched the value.",{value:t});return t[0]}else if(e instanceof On){let t=e.content,n=se("/djot-demo/"+t);if(!n.isOk())throw R("let_assert","pages/pages",95,"to_uri","Pattern match failed, no pattern matched the value.",{value:n});return n[0]}else return e.requested_uri}function Eo(e){return P(e,t=>t.slug)}function vd(e){{let t=e.expected,n=e.found,r=e.path;return"expected: "+t+", found: "+n+", path: "+Ee(r,"/")}}function oc(e){if(e.hasLength(0))return"no errors";{let t=e.head,n=e.tail;return vd(t)+`
`+oc(n)}}function Ld(e){{let t=e.expected,n=e.found,r=e.path;return"expected: "+t+", found: "+n+", path: "+Ee(r,"/")}}function ac(e){if(e.hasLength(0))return"";{let t=e.head,n=e.tail;return Ld(t)+`
`+ac(n)}}function Ad(e){if(e instanceof Vn)return"unexpected end of input";if(e instanceof it)return"unexpected byte: "+e[0];if(e instanceof Ri)return"unexpected sequence: "+e[0];if(e instanceof Hi){let t=e[0];return`unexpected format
`+oc(t)}else{let t=e[0];return`unable to decode
`+ac(t)}}function Ts(e){if(e instanceof ks)return"bad url: "+e[0];if(e instanceof ri)return"internal server error: "+e[0];if(e instanceof ii){let t=e[0];return`json error
`+Ad(t)}else{if(e instanceof si)return"not found";if(e instanceof oi)return"unauthorized";if(e instanceof li){let t=e[0],n=e[1];return"other error: "+H(t)+" "+n}else return"network error"}}var ur=class extends d{},di=class extends d{},qs=class extends d{};function _i(e,t){return t instanceof ur?as(K(e,a([A("viewBox","0 0 24 24"),A("fill","none"),A("stroke","currentColor"),A("stroke-width","2"),A("stroke-linecap","round"),A("stroke-linejoin","round")])),a([Qn(a([A("x1","18"),A("y1","6"),A("x2","6"),A("y2","18")])),Qn(a([A("x1","6"),A("y1","6"),A("x2","18"),A("y2","18")]))])):t instanceof di?as(K(e,a([A("viewBox","0 0 24 24"),A("fill","none"),A("stroke","currentColor"),A("stroke-width","2"),A("stroke-linecap","round"),A("stroke-linejoin","round")])),a([Qn(a([A("x1","3"),A("y1","6"),A("x2","21"),A("y2","6")])),Qn(a([A("x1","3"),A("y1","12"),A("x2","21"),A("y2","12")])),Qn(a([A("x1","3"),A("y1","18"),A("x2","21"),A("y2","18")]))])):as(K(e,a([A("viewBox","0 0 24 24"),A("fill","none"),A("stroke","currentColor"),A("stroke-width","2"),A("stroke-linecap","round"),A("stroke-linejoin","round")])),a([Lu(a([A("points","20,6 9,17 4,12")]))]))}var To=class extends d{constructor(t,n){super(),this.content=t,this.references=n}},Bs=class extends d{},$i=class extends d{constructor(t,n){super(),this.attributes=t,this.content=n}},hi=class extends d{constructor(t,n,r){super(),this.attributes=t,this.level=n,this.content=r}},mi=class extends d{constructor(t,n,r){super(),this.attributes=t,this.language=n,this.content=r}},wi=class extends d{},Se=class extends d{constructor(t){super(),this[0]=t}},Tn=class extends d{constructor(t,n){super(),this.content=t,this.destination=n}},qn=class extends d{constructor(t,n){super(),this.content=t,this.destination=n}},Cn=class extends d{constructor(t){super(),this.content=t}},Bn=class extends d{constructor(t){super(),this.content=t}},cr=class extends d{constructor(t){super(),this.content=t}},gi=class extends d{constructor(t){super(),this[0]=t}},xi=class extends d{constructor(t){super(),this[0]=t}};function Cs(e,t,n){return t==="class"?ml(e,t,r=>r instanceof h?n:r[0]+" "+n):ze(e,t,n)}function Sd(e){for(;;){let t=e;if(t.hasLength(0))return a([]);if(t.atLeastLength(1)&&t.head===`
`)e=t.tail;else{let n=t.head,r=t.tail;return w(n,r)}}}function fr(e){for(;;){let t=e;if(t.hasLength(0))return a([]);if(t.atLeastLength(1)&&t.head===" ")e=t.tail;else{let n=t.head,r=t.tail;return w(n,r)}}}function uc(e,t){for(;;){let n=e,r=t;if(r.hasLength(0))return n>=3?new $([new Bs,r]):new h;if(r.atLeastLength(1)&&r.head===`
`)return n>=3?new $([new Bs,r]):new h;if(r.atLeastLength(1)&&r.head===" "){let i=r.tail;e=n,t=i}else if(r.atLeastLength(1)&&r.head==="	"){let i=r.tail;e=n,t=i}else if(r.atLeastLength(1)&&r.head==="-"){let i=r.tail;e=n+1,t=i}else if(r.atLeastLength(1)&&r.head==="*"){let i=r.tail;e=n+1,t=i}else return new h}}function zd(e,t){for(;;){let n=e,r=t;if(n.hasLength(0))return[r,a([])];if(n.atLeastLength(1)&&n.head===`
`){let i=n.tail;return[r+`
`,i]}else{let i=n.head;e=n.tail,t=r+i}}}function Ed(e,t,n){for(;;){let r=e,i=t,s=n;if(r.atLeastLength(1)&&r.head===`
`&&s===0){let l=r.tail;return new $([l])}else{if(s===0)return new $([r]);if(r.atLeastLength(1)&&r.head===i){let l=r.head;e=r.tail,t=i,n=s-1}else return r.hasLength(0)?new $([r]):new h}}}function Td(e,t,n,r){for(;;){let i=e,s=t,l=n,o=r,u=Ed(i,s,l);if(u instanceof h){let c=zd(i,o),p=c[0];e=c[1],t=s,n=l,r=p}else{let c=u[0][0];return[o,c]}}}function qd(e,t){for(;;){let n=e,r=t;if(n.atLeastLength(1)&&n.head==="`")return new h;if(n.hasLength(0))return new $([new h,n]);if(n.atLeastLength(1)&&n.head===`
`&&r===""){let i=n.tail;return new $([new h,i])}else if(n.atLeastLength(1)&&n.head===`
`){let i=n.tail;return new $([new $(r),i])}else{let i=n.head;e=n.tail,t=r+i}}}function Cd(e,t,n){for(;;){let r=e,i=t,s=n;if(r.atLeastLength(1)&&r.head===i){let l=r.head;e=r.tail,t=i,n=s+1}else if(r.atLeastLength(1)&&r.head===`
`&&s>=3){let l=r.tail;return new $([new h,s,l])}else if(r.atLeastLength(1)&&s>=3){let l=fr(r);return gr(qd(l,""),o=>{let u=o[0],c=o[1];return[u,s,c]})}else return new h}}function cc(e,t,n){return Go(Cd(e,n,1),r=>{let i=r[0],s=r[1],l=r[2],o=Td(l,n,s,""),u=o[0],c=o[1];return new $([new mi(t,i,u),c])})}function Bd(e,t,n){for(;;){let r=e,i=t,s=n;if(r.hasLength(0))return new $([i,Wn(s),a([])]);if(r.atLeastLength(2)&&r.head===`
`&&r.tail.head===" "){let l=r.tail.tail;e=fr(l),t=i,n=s}else if(r.atLeastLength(1)&&r.head===`
`){let l=r.tail;return new $([i,Wn(s),l])}else{let l=r.head;e=r.tail,t=i,n=s+l}}}function Pd(e,t){for(;;){let n=e,r=t;if(n.atLeastLength(2)&&n.head==="]"&&n.tail.head===":"){let i=n.tail.tail;return Bd(i,r,"")}else{if(n.hasLength(0))return new h;if(n.atLeastLength(1)&&n.head==="]")return new h;if(n.atLeastLength(1)&&n.head===`
`)return new h;{let i=n.head;e=n.tail,t=r+i}}}}function Nd(e,t,n){for(;;){let r=e,i=t,s=n;if(r.hasLength(0))return new h;if(r.atLeastLength(1)&&r.head===" "){let l=r.tail;return new $([i,s,l])}else{if(r.atLeastLength(1)&&r.head==="}")return new $([i,s,r]);{let l=r.head;e=r.tail,t=i,n=s+l}}}}function Md(e,t,n){for(;;){let r=e,i=t,s=n;if(r.hasLength(0))return new h;if(r.atLeastLength(1)&&r.head==='"'){let l=r.tail;return new $([i,s,l])}else{let l=r.head;e=r.tail,t=i,n=s+l}}}function Id(e,t){for(;;){let n=e,r=t;if(n.hasLength(0))return new h;if(n.atLeastLength(1)&&n.head===" ")return new h;if(n.atLeastLength(2)&&n.head==="="&&n.tail.head==='"'){let i=n.tail.tail;return Md(i,r,"")}else if(n.atLeastLength(1)&&n.head==="="){let i=n.tail;return Nd(i,r,"")}else{let i=n.head;e=n.tail,t=r+i}}}function fc(e,t){for(;;){let n=e,r=t;if(n.hasLength(0))return new $([r,n]);if(n.atLeastLength(1)&&n.head==="}")return new $([r,n]);if(n.atLeastLength(1)&&n.head===" ")return new $([r,n]);if(n.atLeastLength(1)&&n.head==="#")return new h;if(n.atLeastLength(1)&&n.head===".")return new h;if(n.atLeastLength(1)&&n.head==="=")return new h;if(n.atLeastLength(1)&&n.head===`
`)return new h;{let i=n.head;e=n.tail,t=r+i}}}function Dd(e,t){for(;;){let n=e,r=t;if(n.hasLength(0))return new $([r,a([])]);if(n.atLeastLength(1)&&n.head===`
`){let i=n.tail;return new $([r,i])}else if(n.atLeastLength(1)&&n.head===" ")e=n.tail,t=r;else return new h}}function Fd(e,t){for(;;){let n=e,r=t,i=fr(n);if(i.hasLength(0))return new h;if(i.atLeastLength(1)&&i.head==="}"){let s=i.tail;return Dd(s,r)}else if(i.atLeastLength(1)&&i.head==="#"){let s=i.tail,l=fc(s,"");if(l instanceof $){let o=l[0][0];e=l[0][1],t=Cs(r,"id",o)}else return new h}else if(i.atLeastLength(1)&&i.head==="."){let s=i.tail,l=fc(s,"");if(l instanceof $){let o=l[0][0];e=l[0][1],t=Cs(r,"class",o)}else return new h}else{let s=Id(i,"");if(s instanceof $){let l=s[0][0],o=s[0][1];e=s[0][2],t=Cs(r,l,o)}else return new h}}}function Ud(e){return e==="#"||e==="?"||e==="!"?!1:e!==","}function Wd(e,t){for(;;){let n=e,r=t;if(n.hasLength(0))return r;if(n.atLeastLength(1)&&n.head===" "&&q(n.tail,a([]))){let i=n.tail;return r}else if(n.atLeastLength(1)&&n.head===`
`&&q(n.tail,a([]))){let i=n.tail;return r}else if(n.atLeastLength(1)&&n.head===" "&&r==="")e=n.tail,t=r;else if(n.atLeastLength(1)&&n.head===`
`&&r==="")e=n.tail,t=r;else if(n.atLeastLength(1)&&n.head===" ")e=n.tail,t=r+"-";else if(n.atLeastLength(1)&&n.head===`
`)e=n.tail,t=r+"-";else{let i=n.head;e=n.tail,t=r+i}}}function Gd(e){let n=Un(e),r=wt(n,Ud);return Wd(r,"")}function Rd(e,t,n){for(;;){let r=e,i=t,s=n;if(i<0)return new h;if(r.hasLength(0)&&i>0)return new h;if(r.hasLength(0)&&i===0)return new $([s,a([])]);if(r.atLeastLength(1)&&r.head===" "&&i===0){let l=r.tail;return new $([s,l])}else if(r.atLeastLength(1)&&r.head==="#")e=r.tail,t=i-1,n=s;else return new h}}function Hd(e,t,n){for(;;){let r=e,i=t,s=n;if(r.hasLength(0))return[E(s),a([])];if(r.hasLength(1)&&r.head===`
`)return[E(s),a([])];if(r.atLeastLength(2)&&r.head===`
`&&r.tail.head===`
`){let l=r.tail.tail;return[E(s),l]}else if(r.atLeastLength(2)&&r.head===`
`&&r.tail.head==="#"){let l=r.tail.tail,o=Rd(l,i-1,w(`
`,s));if(o instanceof $){let u=o[0][0];e=o[0][1],t=i,n=u}else return[E(s),r]}else{let l=r.head;e=r.tail,t=i,n=w(l,s)}}}function Jd(e,t,n,r){for(;;){let i=e,s=t,l=n,o=r;if(i.hasLength(0))return[!0,o,i];if(i.atLeastLength(1)&&i.head==="`")e=i.tail,t=s,n=l+1,r=o;else return i.atLeastLength(1)&&s===l?[!0,o,i]:[!1,o+kr("`",l),i]}}function Kd(e,t,n){for(;;){let r=e,i=t,s=n;if(r.hasLength(0))return[s,r];if(r.atLeastLength(1)&&r.head==="`"){let l=r.tail,o=Jd(l,i,1,s),u=o[0],c=o[1],p=o[2];if(u)return[c,p];e=p,t=i,n=c}else{let l=r.head;e=r.tail,t=i,n=s+l}}}function Vd(e,t){for(;;){let n=e,r=t;if(n.atLeastLength(1)&&n.head==="`")e=n.tail,t=r+1;else{let i=Kd(n,r,""),s=i[0],l=i[1],o;an(s," `")?o=Ei(s):o=s;let c=o,p;zi(c,"` ")?p=Ti(c):p=c;let m=p;return[new cr(m),l]}}}function Yd(e,t,n){for(;;){let r=e,i=t,s=n;if(r.hasLength(0))return new h;if(r.atLeastLength(1)&&r.head==="`")return new h;if(r.atLeastLength(2)&&r.head==="	"&&r.tail.head===i){let l=r.tail.head;e=r.tail.tail,t=i,n=w(" ",w(l,s))}else if(r.atLeastLength(2)&&r.head===`
`&&r.tail.head===i){let l=r.tail.head;e=r.tail.tail,t=i,n=w(" ",w(l,s))}else if(r.atLeastLength(2)&&r.head===" "&&r.tail.head===i){let l=r.tail.head;e=r.tail.tail,t=i,n=w(" ",w(l,s))}else if(r.atLeastLength(1)&&r.head===i){let l=r.head,o=r.tail,u=E(s);if(u.hasLength(0))return new h;{let c=u;return new $([c,o])}}else{let l=r.head;e=r.tail,t=i,n=w(l,s)}}}function pc(e,t,n,r){for(;;){let i=e,s=t,l=n,o=r;if(i.hasLength(0))return new h;if(i.atLeastLength(1)&&i.head===")"&&s){let u=i.tail;return new $([l,new xi(o),u])}else if(i.atLeastLength(1)&&i.head==="]"&&!s){let u=i.tail;return new $([l,new gi(o),u])}else if(i.atLeastLength(1)&&i.head===`
`&&s)e=i.tail,t=s,n=l,r=o;else if(i.atLeastLength(1)&&i.head===`
`&&!s)e=i.tail,t=s,n=l,r=o+" ";else{let u=i.head;e=i.tail,t=s,n=l,r=o+u}}}function Zd(e,t){for(;;){let n=e,r=t;if(n.hasLength(0))return new h;if(n.atLeastLength(2)&&n.head==="]"&&n.tail.head==="["){let i=n.tail.tail,s=E(r);return pc(i,!1,s,"")}else if(n.atLeastLength(2)&&n.head==="]"&&n.tail.head==="("){let i=n.tail.tail,s=E(r);return pc(i,!0,s,"")}else{let i=n.head;e=n.tail,t=w(i,r)}}}function Qd(e,t){for(;;){let n=e,r=t;if(n.atLeastLength(1)&&n.head==="#")e=n.tail,t=r+1;else{if(n.hasLength(0)&&r>0)return new $([r,a([])]);if(n.atLeastLength(1)&&n.head===" "&&r!==0){let i=n.tail;return new $([r,i])}else if(n.atLeastLength(1)&&n.head===`
`&&r!==0){let i=n.tail;return new $([r,i])}else return new h}}}function Ps(e,t){for(;;){let n=e,r=t;if(n.hasLength(0))return r;{let i=n.head,s=n.tail;if(i instanceof Se){let l=i[0];e=s,t=r+l}else if(i instanceof cr){let l=i.content;e=s,t=r+l}else if(i instanceof Bn){let l=i.content;e=K(l,s),t=r}else if(i instanceof Cn){let l=i.content;e=K(l,s),t=r}else if(i instanceof Tn){let l=i.content,o=Ps(l,r);e=s,t=o}else if(i instanceof qn){let l=i.content,o=Ps(l,r);e=s,t=o}else e=s,t=r}}}function Xd(e,t){for(;;){let n=e,r=t;if(n.hasLength(0))return[E(r),a([])];if(n.hasLength(1)&&n.head===`
`)return[E(r),a([])];if(n.atLeastLength(2)&&n.head===`
`&&n.tail.head===`
`){let i=n.tail.tail;return[E(r),i]}else{let i=n.head;e=n.tail,t=w(i,r)}}}function dc(e,t){let n=Yd(e,t,a([]));if(n instanceof h)return new h;{let r=n[0][0],i=n[0][1],s=Ns(r,"",a([]));return new $([s,i])}}function Ns(e,t,n){for(;;){let r=e,i=t,s=n;if(r.hasLength(0)&&i==="")return E(s);if(r.hasLength(0))return E(w(new Se(i),s));if(r.atLeastLength(2)&&r.head==="\\"){let l=r.tail.head,o=r.tail.tail;l===`
`?(e=o,t="",n=w(new wi,w(new Se(i),s))):l===" "?(e=o,t=i+"&nbsp;",n=s):l==="!"||l==='"'||l==="#"||l==="$"||l==="%"||l==="&"||l==="'"||l==="("||l===")"||l==="*"||l==="+"||l===","||l==="-"||l==="."||l==="/"||l===":"||l===";"||l==="<"||l==="="||l===">"||l==="?"||l==="@"||l==="["||l==="\\"||l==="]"||l==="^"||l==="_"||l==="`"||l==="{"||l==="|"||l==="}"||l==="~"?(e=o,t=i+l,n=s):(e=K(a([l]),o),t=i+"\\",n=s)}else if(r.atLeastLength(2)&&r.head==="_"&&r.tail.head!==" "&&r.tail.head!=="	"&&r.tail.head!==`
`){let l=r.tail.head,o=r.tail.tail,u=w(l,o),c=dc(u,"_");if(c instanceof h)e=u,t=i+"_",n=s;else{let p=c[0][0];e=c[0][1],t="",n=w(new Cn(p),w(new Se(i),s))}}else if(r.atLeastLength(2)&&r.head==="*"&&r.tail.head!==" "&&r.tail.head!=="	"&&r.tail.head!==`
`){let l=r.tail.head,o=r.tail.tail,u=w(l,o),c=dc(u,"*");if(c instanceof h)e=u,t=i+"*",n=s;else{let p=c[0][0];e=c[0][1],t="",n=w(new Bn(p),w(new Se(i),s))}}else if(r.atLeastLength(1)&&r.head==="["){let l=r.tail,o=_c(l,(u,c)=>new Tn(u,c));if(o instanceof h)e=l,t=i+"[",n=s;else{let u=o[0][0];e=o[0][1],t="",n=w(u,w(new Se(i),s))}}else if(r.atLeastLength(2)&&r.head==="!"&&r.tail.head==="["){let l=r.tail.tail,o=_c(l,(u,c)=>new qn(u,c));if(o instanceof h)e=l,t=i+"![",n=s;else{let u=o[0][0];e=o[0][1],t="",n=w(u,w(new Se(i),s))}}else if(r.atLeastLength(1)&&r.head==="`"){let l=r.tail,o=Vd(l,1),u=o[0];e=o[1],t="",n=w(u,w(new Se(i),s))}else if(r.atLeastLength(1)&&r.head===`
`){let l=r.tail;e=fr(l),t=i+`
`,n=s}else{let l=r.head;e=r.tail,t=i+l,n=s}}}function _c(e,t){let n=Zd(e,a([]));if(n instanceof h)return new h;{let r=n[0][0],i=n[0][1],s=n[0][2],l=Ns(r,"",a([])),o;i instanceof gi&&i[0]===""?o=new gi(Ps(l,"")):o=i;let u=o;return new $([t(l,u),s])}}function Rt(e,t){let n=Xd(e,a([])),r=n[0],i=n[1],s=Ns(r,"",a([]));return[new $i(t,s),i]}function e_(e,t,n){let r=Qd(e,1);if(r instanceof $){let i=r[0][0],s=r[0][1],l=fr(s),o=Hd(l,i,a([])),u=o[0],c=o[1],p=Ns(u,"",a([])),f=Ps(p,""),m,g=Gd(f);if(g==="")m=[t,n];else{let M=g;if(Ye(t,M).isOk())m=[t,n];else{let z=ze(t,M,"#"+M),O=Cs(n,"id",M);m=[z,O]}}let k=m,C=k[0],L=k[1];return[new hi(L,i,p),C,c]}else{let i=Rt(w("#",e),n),s=i[0],l=i[1];return[s,t,l]}}function t_(e,t,n,r){for(;;){let i=e,s=t,l=n,o=r,u=Sd(i),c=fr(u);if(c.hasLength(0))return new To(E(l),s);if(c.atLeastLength(1)&&c.head==="{"){let p=c.tail,f=Fd(p,o);if(f instanceof h){let m=Rt(c,o),g=m[0];e=m[1],t=s,n=w(g,l),r=F()}else{let m=f[0][0];e=f[0][1],t=s,n=l,r=m}}else if(c.atLeastLength(1)&&c.head==="#"){let p=c.tail,f=e_(p,s,o),m=f[0],g=f[1];e=f[2],t=g,n=w(m,l),r=F()}else if(c.atLeastLength(1)&&c.head==="~"){let p=c.head,f=c.tail,m=cc(f,o,p);if(m instanceof h){let g=Rt(c,o),k=g[0];e=g[1],t=s,n=w(k,l),r=F()}else{let g=m[0][0];e=m[0][1],t=s,n=w(g,l),r=F()}}else if(c.atLeastLength(1)&&c.head==="`"){let p=c.head,f=c.tail,m=cc(f,o,p);if(m instanceof h){let g=Rt(c,o),k=g[0];e=g[1],t=s,n=w(k,l),r=F()}else{let g=m[0][0];e=m[0][1],t=s,n=w(g,l),r=F()}}else if(c.atLeastLength(1)&&c.head==="["){let p=c.tail,f=Pd(p,"");if(f instanceof h){let m=Rt(c,o),g=m[0];e=m[1],t=s,n=w(g,l),r=F()}else{let m=f[0][0],g=f[0][1],k=f[0][2],C=ze(s,m,g);e=k,t=C,n=l,r=F()}}else if(c.atLeastLength(1)&&c.head==="-"){let p=c.tail,f=uc(1,p);if(f instanceof h){let m=Rt(c,o),g=m[0];e=m[1],t=s,n=w(g,l),r=F()}else{let m=f[0][0];e=f[0][1],t=s,n=w(m,l),r=F()}}else if(c.atLeastLength(1)&&c.head==="*"){let p=c.tail,f=uc(1,p);if(f instanceof h){let m=Rt(c,o),g=m[0];e=m[1],t=s,n=w(g,l),r=F()}else{let m=f[0][0];e=f[0][1],t=s,n=w(m,l),r=F()}}else{let p=Rt(c,o),f=p[0];e=p[1],t=s,n=w(f,l),r=F()}}}function $c(e){let n=ji(e,`\r
`,`
`),r=Un(n);return t_(r,F(),a([]),F())}function hc(e,t){if(e instanceof xi)return e[0];{let n=e[0],r=Ye(t,n);return r.isOk()?r[0]:""}}function qo(e,t){for(;;){let n=e,r=t;if(n.hasLength(0))return r;{let i=n.head,s=n.tail;if(i instanceof Se){let l=i[0];e=s,t=r+l}else if(i instanceof cr){let l=i.content;e=s,t=r+l}else if(i instanceof Bn){let l=i.content;e=K(l,s),t=r}else if(i instanceof Cn){let l=i.content;e=K(l,s),t=r}else if(i instanceof Tn){let l=i.content,o=qo(l,r);e=s,t=o}else if(i instanceof qn){let l=i.content,o=qo(l,r);e=s,t=o}else e=s,t=r}}}function Ht(e,t){let r=nn(e),i=Fn(r,(s,l)=>yr(s[0],l[0]));return ye(i,t,(s,l)=>w(A(l[0],l[1]),s))}function n_(e,t,n){if(t instanceof wi)return a([bu(a([]))]);if(t instanceof Se){let r=t[0];return a([b(r)])}else if(t instanceof Bn){let r=t.content;return a([Yr(a([_("font-bold")]),mt(e,r,n))])}else if(t instanceof Cn){let r=t.content;return a([yu(a([_("italic")]),mt(e,r,n))])}else if(t instanceof Tn){let r=t.content,i=t.destination;return a([Nt(a([Pt(hc(i,n)),_("text-pink-700 hover:underline cursor-pointer")]),mt(e,r,n))])}else if(t instanceof qn){let r=t.content,i=t.destination;return a([ku(a([lu(hc(i,n)),ou(qo(r,"")),_("max-w-full h-auto rounded-lg shadow-lg mt-8")]))])}else{let r=t.content;return a([de(a([_("bg-zinc-800 px-1 py-0.5 rounded text-sm font-mono")]),a([b(r)]))])}}function mt(e,t,n){for(;;){let r=e,i=t,s=n;if(i.hasLength(0))return r;{let l=i.head,o=i.tail;e=n_(r,l,s),t=o,n=s}}}function r_(e,t,n){let r;if(t instanceof $i){let s=t.attributes,l=t.content;r=at(Ht(s,a([_("pt-8")])),mt(a([]),l,n))}else if(t instanceof hi){let s=t.attributes,l=t.level,o=t.content;l===1?r=ls(Ht(s,a([_("text-3xl text-pink-700 font-light")])),mt(a([]),o,n)):l===2?r=Vr(Ht(s,a([_("text-2xl text-pink-600 font-light pt-16")])),mt(a([]),o,n)):l===3?r=bn(Ht(s,a([_("text-xl text-pink-600 font-light pt-12")])),mt(a([]),o,n)):l===4?r=he(Ht(s,a([_("text-lg text-pink-600 font-light pt-8")])),mt(a([]),o,n)):l===5?r=hu(Ht(s,a([_("text-base text-pink-600 font-light pt-6")])),mt(a([]),o,n)):r=mu(Ht(s,a([_("text-sm text-pink-600 font-light pt-4")])),mt(a([]),o,n))}else if(t instanceof mi){let s=t.attributes,l=t.language,o=t.content;r=me(Ht(s,a([_("pt-8")])),a([de((()=>{if(l instanceof $){let u=l[0];return a([_("language-"+u+" bg-zinc-800 p-4 rounded-md block overflow-x-auto")])}else return a([_("bg-zinc-800 p-4 rounded-md block overflow-x-auto")])})(),a([b(o)]))]))}else r=gu(a([_("border-zinc-700 my-8")]));return w(r,e)}function i_(e,t,n){for(;;){let r=e,i=t,s=n;if(r.hasLength(0))return s;{let l=r.head,o=r.tail,u=r_(s,l,i);e=o,t=i,n=u}}}function s_(e){return E(i_(e.content,e.references,a([lt()])))}function Ms(e){let n=$c(e);return s_(n)}function pr(e,t){localStorage.setItem(e,t)}function mc(e){let t=localStorage.getItem(e);return t?new x(t):new y(void 0)}function wc(e){return JSON.parse(e)}var Jt=class extends d{},Pn=class extends d{constructor(t){super(),this.articles=t}};function Is(e){let t;if(e instanceof Jt)t=Ct(a([["version",st(0)]]));else{let r=e.articles;t=Ct(a([["version",st(1)],["articles",Br(r,Os)]]))}return qt(t)}function gc(){return le("version",xt,e=>e===0?Me(new Jt):e===1?le("articles",_n(ir()),t=>Me(new Pn(t))):Ya(new Jt,"Unsupported model version"))}function xc(e,t,n){return hn(r=>{let i=mc(e);if(i.isOk()){let s=i[0],l=Cr(wc(s),t);if(l.isOk()){let o=l[0];return r(n(new $(o)))}else return r(n(new h))}else return r(n(new h))})}var dr="jst_lustre_state";var j=class extends d{constructor(t,n,r,i,s,l,o,u,c){super(),this.base_uri=t,this.route=n,this.session=r,this.articles=i,this.djot_demo_content=s,this.edit_view_mode=l,this.profile_menu_open=o,this.notice=u,this.debug_use_local_storage=c}},Kt=class extends d{},bi=class extends d{},Fs=class extends d{constructor(t){super(),this.uri=t}},Yt=class extends d{constructor(t){super(),this.uri=t}},Us=class extends d{},Ws=class extends d{},Po=class extends d{constructor(t){super(),this.opt=t}},Gs=class extends d{constructor(t){super(),this.article=t}},He=class extends d{constructor(t,n){super(),this.id=t,this.result=n}},Vt=class extends d{constructor(t){super(),this.result=t}},Rs=class extends d{constructor(t,n){super(),this.article=t,this.text=n}},Hs=class extends d{constructor(t,n){super(),this.article=t,this.text=n}},Js=class extends d{constructor(t,n){super(),this.article=t,this.text=n}},Ks=class extends d{constructor(t,n){super(),this.article=t,this.text=n}},Vs=class extends d{constructor(t,n){super(),this.article=t,this.content=n}},$r=class extends d{constructor(t,n){super(),this.id=t,this.result=n}},Ys=class extends d{constructor(t){super(),this.article=t}},Zs=class extends d{constructor(t){super(),this.article=t}},yi=class extends d{},Qs=class extends d{constructor(t){super(),this.result=t}},Xs=class extends d{constructor(t){super(),this.article=t}},el=class extends d{constructor(t,n){super(),this.id=t,this.result=n}},tl=class extends d{constructor(t){super(),this.article=t}},nl=class extends d{constructor(t){super(),this.article=t}},rl=class extends d{constructor(t,n){super(),this.username=t,this.password=n}},il=class extends d{constructor(t){super(),this.result=t}},ki=class extends d{},sl=class extends d{constructor(t){super(),this.result=t}},ll=class extends d{},vi=class extends d{constructor(t){super(),this.result=t}},ol=class extends d{constructor(t){super(),this.content=t}},al=class extends d{},ul=class extends d{},cl=class extends d{constructor(t){super(),this.res=t}},No=class extends d{},fl=class extends d{},pl=class extends d{};function a_(e){Z("fetch_articles_model called","src\\jst_lustre.gleam",822);let t=e[0],n=e[1],r,i=t;r=new j(i.base_uri,i.route,i.session,new Y,i.djot_demo_content,i.edit_view_mode,i.profile_menu_open,i.notice,i.debug_use_local_storage);let s=r,l=mn(a([n,ci(o=>new Vt(o),s.base_uri)]));return[s,l]}function Ds(e,t){let n=zo(t);if(n instanceof _t)return[(()=>{let r=e;return new j(r.base_uri,n,r.session,r.articles,r.djot_demo_content,r.edit_view_mode,r.profile_menu_open,r.notice,r.debug_use_local_storage)})(),T()];if(n instanceof dt){let r=n.slug,i=e.articles;if(i instanceof ee)return[(()=>{let s=e;return new j(s.base_uri,n,s.session,new Y,s.djot_demo_content,s.edit_view_mode,s.profile_menu_open,s.notice,s.debug_use_local_storage)})(),ci(s=>new Vt(s),e.base_uri)];if(i instanceof N){let s=i[0],l=wl(s,T(),(c,p)=>{let f=p.slug===r,m=p.content;return f&&m instanceof ee?[mn(a([c,Ut(g=>new He(p.id,g),p.id,e.base_uri)])),(()=>{let g=p;return new W(g.id,g.slug,g.revision,g.author,g.tags,g.published_at,g.title,g.subtitle,g.leading,new Y,g.draft)})()]:[c,p]}),o=l[0],u=l[1];return[(()=>{let c=e;return new j(c.base_uri,n,c.session,new N(u),c.djot_demo_content,c.edit_view_mode,c.profile_menu_open,c.notice,c.debug_use_local_storage)})(),o]}else return[(()=>{let s=e;return new j(s.base_uri,n,s.session,s.articles,s.djot_demo_content,s.edit_view_mode,s.profile_menu_open,s.notice,s.debug_use_local_storage)})(),T()]}else if(n instanceof Ge){let r=n.id,i=e.articles;if(i instanceof ee)return[(()=>{let s=e;return new j(s.base_uri,n,s.session,new Y,s.djot_demo_content,s.edit_view_mode,s.profile_menu_open,s.notice,s.debug_use_local_storage)})(),ci(s=>new Vt(s),e.base_uri)];if(i instanceof N){let s=i[0],l=wl(s,T(),(c,p)=>{let f;if(p.draft instanceof $)f=p;else{let L=p;f=new W(L.id,L.slug,L.revision,L.author,L.tags,L.published_at,L.title,L.subtitle,L.leading,L.content,rr(p))}let g=f,k=g.id===r,C=g.content;return k&&C instanceof ee?[mn(a([c,Ut(L=>new He(g.id,L),g.id,e.base_uri)])),(()=>{let L=g;return new W(L.id,L.slug,L.revision,L.author,L.tags,L.published_at,L.title,L.subtitle,L.leading,new Y,rr(g))})()]:[c,g]}),o=l[0],u=l[1];return Z(lr(n),"src\\jst_lustre.gleam",908),[(()=>{let c=e;return new j(c.base_uri,n,c.session,new N(u),c.djot_demo_content,c.edit_view_mode,c.profile_menu_open,c.notice,c.debug_use_local_storage)})(),o]}else return[(()=>{let s=e;return new j(s.base_uri,n,s.session,s.articles,s.djot_demo_content,s.edit_view_mode,s.profile_menu_open,s.notice,s.debug_use_local_storage)})(),T()]}else return n instanceof We?e.articles instanceof ee?[(()=>{let i=e;return new j(i.base_uri,n,i.session,new Y,i.djot_demo_content,i.edit_view_mode,i.profile_menu_open,i.notice,i.debug_use_local_storage)})(),ci(i=>new Vt(i),e.base_uri)]:[(()=>{let i=e;return new j(i.base_uri,n,i.session,i.articles,i.djot_demo_content,i.edit_view_mode,i.profile_menu_open,i.notice,i.debug_use_local_storage)})(),T()]:n instanceof vt?[(()=>{let r=e;return new j(r.base_uri,n,r.session,r.articles,r.djot_demo_content,r.edit_view_mode,r.profile_menu_open,r.notice,r.debug_use_local_storage)})(),T()]:n instanceof $t?[(()=>{let r=e;return new j(r.base_uri,n,r.session,r.articles,r.djot_demo_content,r.edit_view_mode,r.profile_menu_open,r.notice,r.debug_use_local_storage)})(),T()]:[(()=>{let r=e;return new j(r.base_uri,n,r.session,r.articles,r.djot_demo_content,r.edit_view_mode,r.profile_menu_open,r.notice,r.debug_use_local_storage)})(),T()]}function bc(e,t){if(t instanceof cl){let n=t.res;Z("GotLocalModelResult called","src\\jst_lustre.gleam",198),Z(n,"src\\jst_lustre.gleam",199);let r=Re(e.route);if(n instanceof $){let i=n[0];if(i instanceof Jt)return Ds(e,r);{let s=i.articles;return Ds((()=>{let l=e;return new j(l.base_uri,l.route,l.session,new N(s),l.djot_demo_content,l.edit_view_mode,l.profile_menu_open,l.notice,!0)})(),r)}}else{let i,s=e;i=new j(s.base_uri,s.route,s.session,s.articles,s.djot_demo_content,s.edit_view_mode,s.profile_menu_open,s.notice,!1);let o=Ds(i,r);return a_(o)}}else if(t instanceof Fs){let n=t.uri;return Ds(e,n)}else if(t instanceof Yt){let n=t.uri;return Z("user mouse down navigation","src\\jst_lustre.gleam",229),Z(n,"src\\jst_lustre.gleam",230),[e,kn(pe(n),new h,new h)]}else{if(t instanceof Us)return[(()=>{let n=e;return new j(n.base_uri,n.route,n.session,n.articles,n.djot_demo_content,n.edit_view_mode,!e.profile_menu_open,n.notice,n.debug_use_local_storage)})(),T()];if(t instanceof Ws)return[(()=>{let n=e;return new j(n.base_uri,n.route,n.session,n.articles,n.djot_demo_content,n.edit_view_mode,n.profile_menu_open,"",n.debug_use_local_storage)})(),T()];if(t instanceof Po){let n=t.opt;if(n instanceof $&&n[0]instanceof Pn){let r=n[0].articles;return[(()=>{let i=e;return new j(i.base_uri,i.route,i.session,new N(r),i.djot_demo_content,i.edit_view_mode,i.profile_menu_open,i.notice,i.debug_use_local_storage)})(),T()]}else return n instanceof $&&n[0]instanceof Jt?[e,T()]:[e,T()]}else if(t instanceof Vt){let n=t.result,r=e.route;if(n.isOk()&&r instanceof dt){let i=n[0],s=r.slug,l=gt(i,o=>o.slug===s);if(l.isOk()&&l[0]instanceof W&&l[0].content instanceof ee){let o=l[0].id,u=P(i,c=>{if(c.slug===s){let f=c;return new W(f.id,f.slug,f.revision,f.author,f.tags,f.published_at,f.title,f.subtitle,f.leading,new Y,f.draft)}else return c});return[(()=>{let c=e;return new j(c.base_uri,c.route,c.session,new N(u),c.djot_demo_content,c.edit_view_mode,c.profile_menu_open,c.notice,c.debug_use_local_storage)})(),Ut(c=>new He(o,c),o,e.base_uri)]}else if(l.isOk()&&l[0]instanceof W&&l[0].content instanceof ee){let o=l[0].id,u=P(i,c=>{if(c.slug===s){let f=c;return new W(f.id,f.slug,f.revision,f.author,f.tags,f.published_at,f.title,f.subtitle,f.leading,new Y,f.draft)}else return c});return[(()=>{let c=e;return new j(c.base_uri,c.route,c.session,new N(u),c.djot_demo_content,c.edit_view_mode,c.profile_menu_open,c.notice,c.debug_use_local_storage)})(),Ut(c=>new He(o,c),o,e.base_uri)]}else return l.isOk()?(Z("article exists. content is pending or loading.","src\\jst_lustre.gleam",302),[e,T()]):[e,kn((()=>{let o=e.route,u=Re(o),c=new fi(u);return lr(c)})(),new h,new h)]}else if(n.isOk()&&r instanceof Ge){let i=n[0],s=r.id;return[(()=>{let l=e;return new j(l.base_uri,l.route,l.session,new N(i),l.djot_demo_content,l.edit_view_mode,l.profile_menu_open,l.notice,l.debug_use_local_storage)})(),Ut(l=>new He(s,l),s,e.base_uri)]}else if(n.isOk()){let i=n[0];return[(()=>{let s=e;return new j(s.base_uri,s.route,s.session,new N(i),s.djot_demo_content,s.edit_view_mode,s.profile_menu_open,s.notice,s.debug_use_local_storage)})(),T()]}else{let i=n[0];return[(()=>{let s=e;return new j(s.base_uri,s.route,s.session,new Ue(i),s.djot_demo_content,s.edit_view_mode,s.profile_menu_open,s.notice,s.debug_use_local_storage)})(),T()]}}else if(t instanceof He){let n=t.id,r=t.result;if(r.isOk()){let i=r[0],s=n===i.id;if(!s)throw R("let_assert","jst_lustre",336,"update","Pattern match failed, no pattern matched the value.",{value:s});let l,o=e.articles;l=je(o,c=>P(c,p=>n===p.id?i:p));let u=l;return[(()=>{let c=e;return new j(c.base_uri,c.route,c.session,u,c.djot_demo_content,c.edit_view_mode,c.profile_menu_open,c.notice,c.debug_use_local_storage)})(),T()]}else{let i=r[0],s,l=e.articles;s=je(l,u=>P(u,c=>{if(n===c.id){let f=c;return new W(f.id,f.slug,f.revision,f.author,f.tags,f.published_at,f.title,f.subtitle,f.leading,new Ue(i),f.draft)}else return c}));let o=s;return[(()=>{let u=e;return new j(u.base_uri,u.route,u.session,o,u.djot_demo_content,u.edit_view_mode,u.profile_menu_open,u.notice,u.debug_use_local_storage)})(),T()]}}else if(t instanceof Gs){let n=t.article,r=n.content;if(r instanceof ee){let i,s=e.articles;i=je(s,o=>P(o,u=>{if(n.id===u.id){let p=u;return new W(p.id,p.slug,p.revision,p.author,p.tags,p.published_at,p.title,p.subtitle,p.leading,new Y,p.draft)}else return u}));let l=i;return[(()=>{let o=e;return new j(o.base_uri,o.route,o.session,l,o.djot_demo_content,o.edit_view_mode,o.profile_menu_open,o.notice,o.debug_use_local_storage)})(),Ut(o=>new He(n.id,o),n.id,e.base_uri)]}else return r instanceof Ue?[e,Ut(i=>new He(n.id,i),n.id,e.base_uri)]:r instanceof Y?[e,T()]:r instanceof N?[e,T()]:[e,T()]}else if(t instanceof Rs){let n=t.article,r=t.text;if(n instanceof W&&n.draft instanceof $){let i=sr(n,s=>Nu(s,r));return[(()=>{let s=e;return new j(s.base_uri,s.route,s.session,je(e.articles,l=>P(l,o=>n.id===o.id?i:o)),s.djot_demo_content,s.edit_view_mode,s.profile_menu_open,s.notice,s.debug_use_local_storage)})(),T()]}else return[e,T()]}else if(t instanceof Hs){let n=t.article,r=t.text,i=sr(n,l=>Mu(l,r)),s=je(e.articles,l=>P(l,o=>n.id===o.id?i:o));return[(()=>{let l=e;return new j(l.base_uri,l.route,l.session,s,l.djot_demo_content,l.edit_view_mode,l.profile_menu_open,l.notice,l.debug_use_local_storage)})(),T()]}else if(t instanceof Js){let n=t.article,r=t.text,i=sr(n,l=>Du(l,r)),s=je(e.articles,l=>P(l,o=>n.id===o.id?i:o));return[(()=>{let l=e;return new j(l.base_uri,l.route,l.session,s,l.djot_demo_content,l.edit_view_mode,l.profile_menu_open,l.notice,l.debug_use_local_storage)})(),T()]}else if(t instanceof Ks){let n=t.article,r=t.text,i=sr(n,l=>Iu(l,r)),s=je(e.articles,l=>P(l,o=>n.id===o.id?i:o));return[(()=>{let l=e;return new j(l.base_uri,l.route,l.session,s,l.djot_demo_content,l.edit_view_mode,l.profile_menu_open,l.notice,l.debug_use_local_storage)})(),T()]}else if(t instanceof Vs){let n=t.article,r=t.content,i=sr(n,s=>Fu(s,r));return[(()=>{let s=e;return new j(s.base_uri,s.route,s.session,je(e.articles,l=>P(l,o=>n.id===o.id?i:o)),s.djot_demo_content,s.edit_view_mode,s.profile_menu_open,s.notice,s.debug_use_local_storage)})(),T()]}else if(t instanceof Zs){let n=t.article;Z("article draft discard clicked","src\\jst_lustre.gleam",510);let r=je(e.articles,i=>P(i,s=>{if(n.id===s.id){let o=n;return new W(o.id,o.slug,o.revision,o.author,o.tags,o.published_at,o.title,o.subtitle,o.leading,o.content,new h)}else return s}));return[(()=>{let i=e;return new j(i.base_uri,i.route,i.session,r,i.djot_demo_content,i.edit_view_mode,i.profile_menu_open,i.notice,i.debug_use_local_storage)})(),kn((()=>{let i=Es(new Lt(n,e.session));return pe(i)})(),new h,new h)]}else if(t instanceof Ys){let n=t.article,r=n.draft;if(r instanceof $){let i=r[0],s,l=n;s=new W(l.id,$s(i),l.revision,l.author,l.tags,l.published_at,hs(i),ms(i),ti(i),new N(ni(i)),new $(i));let o=s,u=je(e.articles,c=>P(c,p=>n.id===p.id?o:p));return[(()=>{let c=e;return new j(c.base_uri,c.route,c.session,u,c.djot_demo_content,c.edit_view_mode,c.profile_menu_open,c.notice,c.debug_use_local_storage)})(),mn(a([Ss(c=>new $r(o.id,c),o,e.base_uri),kn((()=>{let c=Es(new Lt(o,e.session));return pe(c)})(),new h,new h)]))]}else return[e,T()]}else if(t instanceof $r){let n=t.id,r=t.result;if(r.isOk()){let i=r[0],s=je(e.articles,l=>P(l,o=>n===o.id?i:o));return[(()=>{let l=e;return new j(l.base_uri,l.route,l.session,s,l.djot_demo_content,l.edit_view_mode,l.profile_menu_open,l.notice,l.debug_use_local_storage)})(),T()]}else{let i=r[0];return Z("article update response error","src\\jst_lustre.gleam",591),Z(i,"src\\jst_lustre.gleam",592),[e,T()]}}else if(t instanceof rl){let n=t.username,r=t.password;return[(()=>{let i=e;return new j(i.base_uri,i.route,new nr,i.articles,i.djot_demo_content,i.edit_view_mode,i.profile_menu_open,"login, CLICK",i.debug_use_local_storage)})(),Xu(i=>new il(i),n,r,e.base_uri)]}else if(t instanceof il){let n=t.result;if(n.isOk()){let r=n[0];return[(()=>{let i=e;return new j(i.base_uri,i.route,r,i.articles,i.djot_demo_content,i.edit_view_mode,i.profile_menu_open,"login, OK",i.debug_use_local_storage)})(),T()]}else{let r=n[0];return Z(r,"src\\jst_lustre.gleam",611),[(()=>{let i=e;return new j(i.base_uri,i.route,new Oe,i.articles,i.djot_demo_content,i.edit_view_mode,i.profile_menu_open,"login, ERROR",i.debug_use_local_storage)})(),T()]}}else{if(t instanceof ki)return[(()=>{let n=e;return new j(n.base_uri,n.route,new Oe,n.articles,n.djot_demo_content,n.edit_view_mode,n.profile_menu_open,n.notice,n.debug_use_local_storage)})(),Zu(n=>new sl(n),e.base_uri)];if(t instanceof sl)return[(()=>{let n=e;return new j(n.base_uri,n.route,new Oe,n.articles,n.djot_demo_content,n.edit_view_mode,n.profile_menu_open,n.notice,n.debug_use_local_storage)})(),T()];if(t instanceof ll)return[(()=>{let n=e;return new j(n.base_uri,n.route,n.session,n.articles,n.djot_demo_content,n.edit_view_mode,n.profile_menu_open,"auth check, CLICK",n.debug_use_local_storage)})(),Oo(n=>new vi(n),e.base_uri)];if(t instanceof vi){let n=t.result;if(n.isOk()){let r=n[0];return[(()=>{let i=e;return new j(i.base_uri,i.route,r,i.articles,i.djot_demo_content,i.edit_view_mode,i.profile_menu_open,"auth check, OK",i.debug_use_local_storage)})(),T()]}else{let r=n[0];return Z("session check response error","src\\jst_lustre.gleam",644),Z(r,"src\\jst_lustre.gleam",645),[(()=>{let i=e;return new j(i.base_uri,i.route,new Oe,i.articles,i.djot_demo_content,i.edit_view_mode,i.profile_menu_open,"auth check, ERROR",i.debug_use_local_storage)})(),T()]}}else if(t instanceof ol){let n=t.content;return[(()=>{let r=e;return new j(r.base_uri,r.route,r.session,r.articles,n,r.edit_view_mode,r.profile_menu_open,r.notice,r.debug_use_local_storage)})(),T()]}else if(t instanceof al){let n;e.edit_view_mode instanceof Kt?n=new bi:n=new Kt;let i=n;return[(()=>{let s=e;return new j(s.base_uri,s.route,s.session,s.articles,s.djot_demo_content,i,s.profile_menu_open,s.notice,s.debug_use_local_storage)})(),T()]}else if(t instanceof yi){Z("article create clicked","src\\jst_lustre.gleam",676);let n=new W("","new-article",1,"current-user",a([]),new h,"New Article","A new article subtitle","This is a new article. Start editing to customize it.",new N(`# New Article

Start writing your article content here...`),new h);return[e,ic(r=>new Qs(r),n,e.base_uri)]}else if(t instanceof Qs){let n=t.result;if(n.isOk()){let r=n[0];Z("article created successfully with id: "+r.id,"src\\jst_lustre.gleam",708);let i,s=e.articles;if(s instanceof N){let o=s[0];i=new N(w(r,o))}else i=s;let l=i;return[(()=>{let o=e;return new j(o.base_uri,o.route,o.session,l,o.djot_demo_content,o.edit_view_mode,o.profile_menu_open,o.notice,o.debug_use_local_storage)})(),kn((()=>{let o=new Ge(r.id),u=Re(o);return pe(u)})(),new h,new h)]}else{let r=n[0];return Z("article creation error","src\\jst_lustre.gleam",728),Z(r,"src\\jst_lustre.gleam",729),[e,T()]}}else if(t instanceof Xs){let n=t.article;return Z("article delete clicked","src\\jst_lustre.gleam",736),[e,mn(a([rc(r=>new el(n.id,r),n.id,e.base_uri),kn((()=>{let r=new We,i=Re(r);return pe(i)})(),new h,new h)]))]}else if(t instanceof el){let n=t.id,r=t.result;if(r.isOk()){let i=je(e.articles,s=>wt(s,l=>l.id!==n));return[(()=>{let s=e;return new j(s.base_uri,s.route,s.session,i,s.djot_demo_content,s.edit_view_mode,s.profile_menu_open,s.notice,s.debug_use_local_storage)})(),T()]}else{let i=r[0];return Z("article delete response error","src\\jst_lustre.gleam",764),Z(i,"src\\jst_lustre.gleam",765),[e,T()]}}else if(t instanceof tl){let n=t.article;Z("article publish clicked","src\\jst_lustre.gleam",771);let r,i=n;return r=new W(i.id,i.slug,i.revision,i.author,i.tags,new $(Ua()),i.title,i.subtitle,i.leading,i.content,i.draft),[e,Ss(l=>new $r(n.id,l),r,e.base_uri)]}else if(t instanceof nl){let n=t.article;return Z("article unpublish clicked","src\\jst_lustre.gleam",783),[e,Ss(r=>new $r(n.id,r),(()=>{let r=n;return new W(r.id,r.slug,r.revision,r.author,r.tags,new h,r.title,r.subtitle,r.leading,r.content,r.draft)})(),e.base_uri)]}else{if(e.debug_use_local_storage)pr(dr,"");else{let r=new Pn((()=>{let i=e.articles;return i instanceof ee?a([]):i instanceof Y?a([]):i instanceof N?i[0]:i instanceof yt?a([]):a([])})());pr(dr,Is(r))}return[(()=>{let r=e;return new j(r.base_uri,r.route,r.session,r.articles,r.djot_demo_content,r.edit_view_mode,r.profile_menu_open,r.notice,!e.debug_use_local_storage)})(),T()]}}}}function u_(e,t){if(e.debug_use_local_storage){let r=bc(e,t),i=r[0],s=r[1],l=o=>new Pn((()=>{let u=o.articles;return u instanceof ee?a([]):u instanceof Y?a([]):u instanceof N?u[0]:u instanceof yt?a([]):a([])})());return t instanceof Vt?pr(dr,Is(l(i))):t instanceof He&&pr(dr,Is(l(i))),[i,s]}else return bc(e,t)}function c_(e){let t=e.route;if(t instanceof vt)return new An;if(t instanceof We){let n=e.articles;if(n instanceof Y)return new Wt;if(n instanceof ee)return new ce(new ar("articles not initialized"));if(n instanceof Ue){let r=n[0];return new ce(new Gt(r,"Failed to load article list"))}else if(n instanceof N){let r=n[0];return new jn(r,e.session)}else{let r=n[0];return new jn(r,e.session)}}else if(t instanceof dt){let n=t.slug,r=e.articles;if(r instanceof Y)return new Wt;if(r instanceof ee)return new ce(new ar("articles not initialized"));if(r instanceof Ue){let i=r[0];return new ce(new Gt(i,"Failed to load articles"))}else if(r instanceof N){let i=r[0],s=gt(i,l=>l.slug===n);if(s.isOk()){let l=s[0];return new Lt(l,e.session)}else return new ce(new Sn(n,Eo(i)))}else{let i=r[0],s=gt(i,l=>l.slug===n);if(s.isOk()){let l=s[0];return new Lt(l,e.session)}else return new ce(new Sn(n,Eo(i)))}}else if(t instanceof Ge){let n=t.id,r=e.articles;if(r instanceof Y)return new Wt;if(r instanceof ee)return new ce(new ar("articles not initialized"));if(r instanceof Ue){let i=r[0];return new ce(new Gt(i,"Failed to load articles for editing"))}else if(r instanceof N){let i=r[0],s=gt(i,l=>l.id===n);if(s.isOk()){let l=s[0],o=ai(l,e.session),u=l.draft;return o&&u instanceof $?new ht(l):o&&u instanceof h?new ht((()=>{let c=l;return new W(c.id,c.slug,c.revision,c.author,c.tags,c.published_at,c.title,c.subtitle,c.leading,c.content,rr(l))})()):new ce(new En("edit article"))}else return new ce(new zn(n))}else{let i=r[0],s=gt(i,l=>l.id===n);if(s.isOk()){let l=s[0],o=ai(l,e.session),u=l.draft;return o&&u instanceof $?new ht(l):o&&u instanceof h?new ht((()=>{let c=l;return new W(c.id,c.slug,c.revision,c.author,c.tags,c.published_at,c.title,c.subtitle,c.leading,c.content,rr(l))})()):new ce(new En("edit article"))}else return new ce(new zn(n))}}else{if(t instanceof $t)return new On(e.djot_demo_content);if(t instanceof _t)return new or;{let n=t.uri;return new zs(n)}}}function Co(e){if(e==="")return lt();{let t=e;return v(a([Au(new Ws),_("h-5 w-full cursor-pointer bg-zinc-700 text-mono text-zinc-200 text-xs px-8")]),a([b(t)]))}}function f_(){return v(a([_("mt-8 p-4 bg-zinc-800 rounded-lg border border-zinc-700")]),a([bn(a([_("text-lg text-pink-700 font-light")]),a([b("Djot Quick Reference")])),at(a([_("text-zinc-300 mb-6")]),a([Yr(a([]),a([b("Note: ")])),b("This editor uses Djot format. See the "),Nt(a([Pt("https://htmlpreview.github.io/?https://github.com/jgm/djot/blob/master/doc/syntax.html"),_("text-zinc-300 underline")]),a([b("djot syntax documentation")])),b(" for complete details.")])),v(a([_("grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 text-sm")]),a([v(a([]),a([he(a([_("text-pink-700 font-medium mb-2")]),a([b("Headings")])),de(a([_("text-zinc-300")]),a([me(a([_("text-zinc-300")]),a([b(`# H1
## H2
### H3`)]))]))])),v(a([]),a([he(a([_("text-pink-700 font-medium mb-2")]),a([b("Text")])),de(a([_("text-zinc-300")]),a([me(a([_("text-zinc-300")]),a([b("_italic_\n*bold*\n`code`")]))]))])),v(a([]),a([he(a([_("text-pink-700 font-medium mb-2")]),a([b("Lists")])),de(a([_("text-zinc-300")]),a([me(a([_("text-zinc-300")]),a([b(`- item 1
- item 2

  - nested`)]))]))])),v(a([]),a([he(a([_("text-pink-700 font-medium mb-2")]),a([b("Links")])),de(a([_("text-zinc-300")]),a([me(a([_("text-zinc-300")]),a([b(`[text](url)
[text](url){title="tooltip"}`)]))]))])),v(a([]),a([he(a([_("text-pink-700 font-medium mb-2")]),a([b("Code Blocks")])),de(a([_("text-zinc-300")]),a([me(a([_("text-zinc-300")]),a([b("```\ncode here\n```")]))]))])),v(a([]),a([he(a([_("text-pink-700 font-medium mb-2")]),a([b("Blockquotes")])),de(a([_("text-zinc-300")]),a([me(a([_("text-zinc-300")]),a([b("> quoted text")]))]))]))]))]))}function yc(e,t,n,r,i){let s=_("block text-sm font-medium text-zinc-400 mb-1"),l;t instanceof No?l=_("w-full bg-zinc-800 border border-zinc-600 rounded-md p-2 font-light text-zinc-100 focus:border-pink-700 focus:ring-1 focus:ring-pink-700 focus:outline-none transition-colors duration-200"):t instanceof fl?l=_("w-full bg-zinc-800 border border-zinc-600 rounded-md p-2 text-3xl text-pink-700 font-light focus:border-pink-700 focus:ring-1 focus:ring-pink-700 focus:outline-none transition-colors duration-200"):t instanceof pl?l=_("w-full bg-zinc-800 border border-zinc-600 rounded-md p-2 text-md text-zinc-500 font-light focus:border-pink-700 focus:ring-1 focus:ring-pink-700 focus:outline-none transition-colors duration-200"):l=_("w-full bg-zinc-800 border border-zinc-600 rounded-md p-2 font-bold text-zinc-100 focus:border-pink-700 focus:ring-1 focus:ring-pink-700 focus:outline-none transition-colors duration-200");let o=l;return v(a([_("mb-4")]),a([Zr(a([s]),a([b(e)])),co(a([o,Yn(n),Bt("edit-"+i+"-"+e),Xn(r)]))]))}function kc(e){let t=e.published_at;if(t instanceof $){let n=t[0],r=Fa(n);return yn(a([_("text-xs text-zinc-500 px-2 pt-2 w-max border-t border-r border-zinc-700 group-hover:border-pink-700 transition-colors duration-25")]),a([b(r)]))}else return yn(a([_("text-xs text-zinc-500 px-2 pt-2 w-max italic border-t border-r border-zinc-700 group-hover:border-pink-700 transition-colors duration-25")]),a([b("not published")]))}function vc(e){return v(a([_("text-xs text-zinc-400 pt-0 border-r border-zinc-700 pr-2 group-hover:border-pink-700 transition-colors duration-25")]),a([yn(a([_("text-zinc-500 font-light")]),a([b("by ")])),yn(a([_("text-zinc-300")]),a([b(e)]))]))}function Lc(e){return e.hasLength(0)?lt():v(a([_("flex justify-end align-end gap-0 ml-auto flex-wrap border-b border-r border-zinc-700 pb-1 pr-2 hover:border-pink-700 group-hover:border-pink-700 transition-colors duration-25 mt-2")]),P(e,n=>yn(a([_("text-xs cursor-pointer text-zinc-500 px-2 hover:border-pink-700 hover:text-pink-700 transition-colors duration-25")]),a([b(n)]))))}function Ac(e,t){let n=ai(e,t),r=nc(e,t),i=tc(e,t);return v(a([_("flex justify-start h-10")]),a([n?ue(a([_("text-gray-500 pe-4 text-underline pb-2 hover:text-teal-300 hover:border-teal-300 border-b border-zinc-700"),X(new Yt(Re(new Ge(e.id))))]),a([b("Edit")])):lt(),r&&q(e.published_at,new h)?ue(a([_("text-gray-500 pe-4 text-underline pb-2 hover:text-green-300 hover:border-green-300 border-b border-zinc-700"),X(new tl(e))]),a([b("Publish")])):lt(),r&&!q(e.published_at,new h)?ue(a([_("text-gray-500 pe-4 text-underline pb-2 hover:text-yellow-300 hover:border-yellow-300 border-b border-zinc-700"),X(new nl(e))]),a([b("Unpublish")])):lt(),i?ue(a([_("text-gray-500 pe-4 text-underline pb-2 hover:text-red-400 hover:border-red-400 border-b border-zinc-700"),X(new Xs(e))]),a([b("Delete")])):lt()]))}function p_(e,t){return a([v(a([_("mb-4")]),a([v(a([_("flex items-center justify-between mb-1")]),a([Zr(a([_("block text-sm font-medium text-zinc-400")]),a([b("Slug")])),yn(a([_("text-xs text-zinc-500")]),a([b("rev "+H(t.revision))]))])),co(a([_("w-full bg-zinc-800 border border-zinc-600 rounded-md p-2 font-light text-zinc-100 focus:border-pink-700 focus:ring-1 focus:ring-pink-700 focus:outline-none transition-colors duration-200"),Yn($s(e)),Bt("edit-"+t.slug+"-Slug"),Xn(n=>new Rs(t,n))]))])),yc("Title",new fl,hs(e),n=>new Hs(t,n),t.slug),yc("Subtitle",new pl,ms(e),n=>new Ks(t,n),t.slug),v(a([_("mb-4")]),a([Zr(a([_("block text-sm font-medium text-zinc-400 mb-1")]),a([b("Leading")])),us(a([_("w-full h-24 bg-zinc-800 border border-zinc-600 rounded-md p-2 font-bold text-zinc-100 resize-none focus:border-pink-700 focus:ring-1 focus:ring-pink-700 focus:outline-none transition-colors duration-200"),Yn(ti(e)),Bt("edit-"+t.slug+"-Leading"),Xn(n=>new Js(t,n)),Ji("Write a compelling leading paragraph...")]),ti(e))])),v(a([_("mb-4")]),a([Zr(a([_("block text-sm font-medium text-zinc-400 mb-1")]),a([b("Content")])),us(a([_("w-full h-96 bg-zinc-800 border border-zinc-600 rounded-md p-4 font-mono text-sm text-zinc-100 resize-none focus:border-pink-700 focus:ring-1 focus:ring-pink-700 focus:outline-none transition-colors duration-200"),Yn(ni(e)),Xn(n=>new Vs(t,n)),Ji("Write your article content in Djot format...")]),ni(e))])),v(a([_("flex justify-between gap-4")]),a([Ac(t,new Oe),v(a([_("flex gap-4")]),a([ue(a([_("px-4 py-2 bg-zinc-700 text-zinc-300 rounded-md hover:bg-zinc-600 transition-colors duration-200"),X(new Zs(t)),to(_s(e))]),a([b("Discard Changes")])),ue(a([_("px-4 py-2 bg-teal-700 text-white rounded-md hover:bg-teal-600 transition-colors duration-200"),X(new Ys(t)),to(_s(e))]),a([_s(e)?b("Saving..."):b("Save Article")]))]))]))])}function xe(e,t){return ls(a([Bt("article-title-"+t),_("text-3xl text-pink-700 font-light"),_("article-title")]),a([b(e)]))}function dl(e,t){return v(a([Bt("article-subtitle-"+t),_("text-md text-zinc-500 font-light italic"),_("article-subtitle")]),a([b(e)]))}function jc(e,t){return at(a([Bt("article-lead-"+t),_("font-bold pt-8"),_("article-leading")]),a([b(e)]))}function fe(e){return at(a([_("pt-8")]),a([b(e)]))}function d_(){return a([xe("Loading","loading"),fe("Loading...")])}function __(e,t){let n;t instanceof Oe?n=wt(e,m=>m.published_at instanceof $):n=e;let r=n,i,l=Fn(r,(f,m)=>{let g=f.published_at,k=m.published_at;if(g instanceof h&&k instanceof h)return yr(f.slug,m.slug);if(g instanceof h&&k instanceof $)return new J;if(g instanceof $&&k instanceof h)return new te;{let C=g[0],L=k[0];return Da(L,C)}});i=P(l,f=>{{let m=f.slug,g=f.tags,k=f.title,C=f.subtitle,L=f.leading,D,M=new dt(m);D=Re(M);let S=D;return oo(a([_("mt-14")]),a([Nt(a([_("group block border-l border-zinc-700 pl-4 hover:border-pink-700 transition-colors duration-25"),Pt(pe(S)),ju(new Gs(f)),X(new Yt(S))]),a([v(a([_("flex justify-between gap-4")]),a([v(a([_("flex flex-col")]),a([bn(a([Bt("article-title-"+m),_("article-title"),_("text-xl text-pink-700 font-light")]),a([b(k)])),dl(C,m)])),v(a([_("flex flex-col items-end")]),a([kc(f),vc(f.author)]))])),fe(L),v(a([_("flex justify-end mt-2")]),a([Lc(g)]))]))]))}});let o=i,u=a([v(a([_("flex justify-between items-center mb-4")]),a([xe("Articles","articles"),t instanceof Ln?ue(a([_("text-gray-500 pe-4 text-underline pt-2 hover:text-teal-300 hover:border-teal-300 border-t border-zinc-700 border-e"),X(new yi)]),a([b("New")])):lt()]))]),c;return o.hasLength(0)?c=a([v(a([_("mt-14 text-center")]),a([v(a([_("border-l border-zinc-700 pl-4 py-8")]),a([bn(a([_("text-xl text-zinc-500 font-light mb-4")]),a([b("No articles yet")])),t instanceof Ln?v(a([_("space-y-4")]),a([fe("Ready to share your thoughts? Create your first article to get started."),ue(a([_("inline-block px-6 py-2 bg-pink-700 text-white rounded-md hover:bg-pink-600 transition-colors duration-200 font-medium"),X(new yi)]),a([b("Create Your First Article")]))])):v(a([_("space-y-4")]),a([fe("No published articles are available yet."),fe("Check back later for new content!")]))]))]))]):c=o,K(u,c)}function $_(e,t){return a([xe("Article not found",t),fe("The article you are looking for does not exist.")])}function h_(e,t){if(e instanceof N)return a([xe("Article not found",t),fe("The article you are looking for does not exist.")]);if(e instanceof yt)return a([xe("Article not found",t),fe("The article you are looking for might not exist yet. Please check back later.")]);if(e instanceof Ue){let n=e[0];return a([xe("There was an error loading the article",t),fe(Ts(n))])}else return e instanceof Y?a([xe("Loading article",t),fe("Loading article...")]):a([xe("Loading article",t),fe("Loading article...")])}function m_(){return a([xe("About","about"),fe(`I'm a software developer and a writer. I'm also a father and a husband. 
      I'm also a software developer and a writer. I'm also a father and a 
      husband. I'm also a software developer and a writer. I'm also a father 
      and a husband. I'm also a software developer and a writer. I'm also a 
      father and a husband.`),fe(`If you enjoy these glimpses into my mind, feel free to come back
       semi-regularly. But not too regularly, you creep.`)])}function w_(e){return a([xe("404 - Page Not Found","not-found"),dl("The page you're looking for doesn't exist.","not-found"),fe("The page at "+pe(e)+" could not be found.")])}function Nn(e){return at(a([_("pt-8 text-orange-500")]),a([b(e)]))}function Oc(e,t){let n,r=e.content;if(r instanceof ee)n=a([Nn("content not initialized")]);else if(r instanceof Y)n=a([Nn("loading")]);else if(r instanceof N){let s=r[0];n=Ms(s)}else if(r instanceof yt){let s=r[0];n=Ms(s)}else{let s=r[0];n=a([Nn(Ts(s))])}let i=n;return a([oo(a([_("with-transition")]),w(v(a([_("flex flex-col justify-between")]),a([Ac(e,t),v(a([_("flex gap-2 justify-between")]),a([v(a([_("flex flex-col justify-between")]),a([xe(e.title,e.slug),dl(e.subtitle,e.slug)])),v(a([_("flex flex-col items-end")]),a([kc(e),vc(e.author)]))])),v(a([_("flex justify-between mt-2")]),a([Lc(e.tags)]))])),w(jc(e.leading,e.slug),i)))])}function g_(e,t){let n=t.draft;if(n instanceof h)return a([Nn("no draft..")]);{let r=n[0],i,s=ni(r);s===""?i="Start typing in the editor to see the preview here...":i=s;let l=i,o=new W(t.id,$s(r),t.revision,t.author,t.tags,t.published_at,hs(r),ms(r),ti(r),new N(l),new h),u=Oc(o,new Oe);return a([v(a([_("lg:hidden mb-4 flex justify-center")]),a([ue(a([_("px-4 py-2 bg-pink-700 text-white rounded-md hover:bg-pink-700 transition-colors duration-200"),X(new al)]),a([e.edit_view_mode instanceof Kt?b("Show Preview"):b("Show Editor")]))])),v(a([Ir(a([["grid gap-8 h-screen",!0],["grid-cols-2 lg:grid-cols-2",!0]]))]),a([v(a([Ir(a([["space-y-4",!0],["lg:block",!0],["lg:col-span-1",!0],["col-span-2",q(e.edit_view_mode,new Kt)],["hidden",q(e.edit_view_mode,new bi)]]))]),p_(r,t)),v(a([Ir(a([["max-w-screen-md mx-auto px-10 py-10 overflow-y-auto",!0],["lg:block",!0],["lg:col-span-1",!0],["col-span-2",q(e.edit_view_mode,new bi)],["hidden",q(e.edit_view_mode,new Kt)]]))]),u)])),f_()])}}function x_(e,t){return Nt(a([Pt(pe(e)),_("text-pink-700 hover:underline cursor-pointer"),X(new Yt(e))]),a([b(t)]))}function b_(){let e=se("/article/nats-all-the-way-down");if(!e.isOk())throw R("let_assert","jst_lustre",1306,"view_index","Pattern match failed, no pattern matched the value.",{value:e});let t=e[0];return a([xe("Welcome to jst.dev!","welcome"),dl(`...or, A lession on overengineering for fun and.. 
      well just for fun.`,"welcome"),jc(`This site and it's underlying IT-infrastructure is the primary 
      place for me to experiment with technologies and topologies. I 
      also share some of my thoughts and learnings here.`,"welcome"),at(a([_("mt-14")]),a([b(`This site and it's underlying IT-infrastructure is the primary 
        place for me to experiment with technologies and topologies. I 
        also share some of my thoughts and learnings here. Feel free to 
        check out my overview, `),x_(t,"NATS all the way down ->")])),fe("It to is a work in progress and I mostly keep it here for my own reference."),fe(`I'm also a software developer and a writer. I'm also a father and a 
        husband. I'm also a software developer and a writer. I'm also a father 
        and a husband. I'm also a software developer and a writer. I'm also a 
        father and a husband. I'm also a software developer and a writer.`)])}function y_(){return a([xe("Articles","articles"),fe("Loading articles...")])}function Sc(e,t){return Nt(a([_(""),Pt(pe(e)),X(new Yt(e))]),t)}function _r(e,t,n,r){return xu(K(r,a([Ir(a([["border-transparent border-b-2 hover:border-pink-700 cursor-pointer",!0],["text-pink-700",sc(e,t)]])),X(new Yt(Re(e)))])),a([Sc(Re(e),a([b(n)]))]))}function Bo(e){let t=a([_("block w-full text-left px-4 py-2 text-sm text-zinc-200 hover:bg-teal-800 transition-colors cursor-pointe")]);return wu(a([_("py-2 border-b bg-zinc-800 border-pink-700 font-mono relative")]),a([v(a([_("flex justify-between px-10 items-center max-w-screen-md mx-auto")]),a([v(a([]),a([Sc(Es(new An),a([b("jst.dev")]))])),v(a([_("flex items-center space-x-8")]),a([uo(a([_("hidden sm:flex space-x-8 pr-2")]),a([_r(new We,e.route,"Articles",a([])),_r(new _t,e.route,"About",a([])),_r(new $t,e.route,"Djot Demo",a([]))])),v(a([_("relative")]),a([ue(a([_("p-2 rounded-md bg-zinc-700 hover:bg-zinc-600 transition-colors"),X(new Us)]),a([e.profile_menu_open?_i(a([_("w-6 h-6")]),new ur):_i(a([_("w-6 h-6")]),new di)])),e.profile_menu_open?v(a([_("absolute right-0 mt-2 w-48 rounded-md shadow-lg bg-zinc-700 ring-1 ring-black ring-opacity-5 z-50")]),a([v(a([_("py-1")]),a([uo(a([_("sm:hidden flex flex-col border-b border-zinc-400")]),a([_r(new We,e.route,"Articles",t),_r(new _t,e.route,"About",t),_r(new $t,e.route,"Djot Demo",t)])),(()=>{let r=e.session;return r instanceof Oe?ue(a([_("block w-full text-left px-4 py-2 text-sm text-zinc-200 hover:bg-green-800 transition-colors cursor-pointe"),X(new rl("johan-st","password"))]),a([b("Login")])):r instanceof nr?ue(a([_("block w-full text-left px-4 py-2 text-sm bg-zinc-700 text-zinc-400 hover:bg-orange-800 transition-colors cursor-not-allowed opacity-60"),X(new ki)]),a([b("logging in..")])):ue(a([_("block w-full text-left px-4 py-2 text-sm text-zinc-200 hover:bg-orange-800 transition-colors cursor-pointe"),X(new ki)]),a([b("Logout")]))})(),ue(a([_("block w-full text-left px-4 py-2 text-sm text-zinc-200 hover:bg-teal-800 transition-colors cursor-pointe"),X(new ll)]),a([b("Check")])),e.debug_use_local_storage?ue(a([_("block w-full text-left px-4 py-2 text-sm text-zinc-200 hover:bg-orange-800 transition-colors cursor-pointe"),X(new ul)]),a([v(a([_("flex justify-between")]),a([b("LocalStorage"),_i(a([_("w-6 text-green-400")]),new qs)]))])):ue(a([_("block w-full text-left px-4 py-2 text-sm text-zinc-200 hover:bg-green-800 transition-colors cursor-pointe"),X(new ul)]),a([v(a([_("flex justify-between ")]),a([b("LocalStorage"),_i(a([_("w-6 text-orange-400")]),new ur)]))]))]))])):v(a([]),a([]))]))]))]))]))}function k_(e){let t;e===""?t=a([v(a([_("text-zinc-500 italic text-center mt-8")]),a([b("Start typing in the editor to see the preview here...")]))]):t=Ms(e);let n=t;return a([xe("Djot Demo","djot-demo"),v(a([_("grid grid-cols-1 lg:grid-cols-2 gap-6")]),a([ao(a([_("space-y-4")]),a([v(a([_("flex items-center justify-between")]),a([Vr(a([_("text-xl text-pink-700 font-light")]),a([b("Editor")])),v(a([_("text-xs text-zinc-500")]),a([b("Live preview updates as you type")]))])),v(a([_("relative")]),a([us(a([_("w-full h-[400px] lg:h-[600px] bg-zinc-800 border border-zinc-600 rounded-lg p-4 font-mono text-sm text-zinc-100 resize-none focus:border-pink-700 focus:ring-1 focus:ring-pink-700 focus:outline-none transition-colors duration-200"),Ji(`# Start typing your article content here...

## Headings

- Lists
- Work too

**Bold** and *italic* text

[Link text](url)`),Yn(e),Xn(r=>new ol(r)),A("spellcheck","false")]),e),v(a([_("absolute bottom-2 right-2 text-xs text-zinc-500 bg-zinc-800 px-2 py-1 rounded")]),a([b((()=>{let r=on(e);return Ll(r)})()),b(" chars")]))]))])),ao(a([_("space-y-4")]),a([v(a([_("flex items-center justify-between")]),a([Vr(a([_("text-xl text-pink-700 font-light")]),a([b("Preview")])),v(a([_("text-xs text-zinc-500")]),a([b("Rendered output")]))])),v(a([_("w-full h-[400px] lg:h-[600px] bg-zinc-900 border border-zinc-600 rounded-lg p-6 overflow-y-auto prose prose-invert prose-pink max-w-none")]),n)]))])),v(a([_("mt-8 p-4 bg-zinc-800 rounded-lg border border-zinc-700")]),a([bn(a([_("text-lg text-pink-700 font-light")]),a([b("Quick Reference")])),at(a([_("text-zinc-300")]),a([Yr(a([]),a([b("Note: ")])),b("The djot implementation is a work in progress. Not all features are supported yet.")])),at(a([_("mb-6")]),a([b("See the "),Nt(a([Pt("https://htmlpreview.github.io/?https://github.com/jgm/djot/blob/master/doc/syntax.html"),_("text-zinc-300 underline")]),a([b("djot syntax documentation")])),b(" for more details.")])),v(a([_("grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 text-sm")]),a([v(a([]),a([he(a([_("text-pink-700 font-medium mb-2")]),a([b("Headings")])),de(a([_("text-zinc-300")]),a([me(a([_("text-zinc-300")]),a([b(`# H1
## H2
### H3`)]))]))])),v(a([]),a([he(a([_("text-pink-700 font-medium mb-2")]),a([b("Text")])),de(a([_("text-zinc-300")]),a([me(a([_("text-zinc-300")]),a([b("_italic_\n*bold*\n`code`")]))]))])),v(a([]),a([he(a([_("text-pink-700 font-medium mb-2")]),a([b("Lists")])),de(a([_("text-zinc-300")]),a([me(a([_("text-zinc-300")]),a([b(`- item 1
- item 2

  - nested`)]))]))])),v(a([]),a([he(a([_("text-pink-700 font-medium mb-2")]),a([b("Links")])),de(a([_("text-zinc-300")]),a([me(a([_("text-zinc-300")]),a([b(`[text](url)
[text](url){title="tooltip"}`)]))]))])),v(a([]),a([he(a([_("text-pink-700 font-medium mb-2")]),a([b("Code Blocks")])),de(a([_("text-zinc-300")]),a([me(a([_("text-zinc-300")]),a([b("```\ncode here\n```")]))]))])),v(a([]),a([he(a([_("text-pink-700 font-medium mb-2")]),a([b("Blockquotes")])),de(a([_("text-zinc-300")]),a([me(a([_("text-zinc-300")]),a([b("> quoted text")]))]))]))]))]))])}function v_(e){let t=c_(e),n;if(t instanceof pi)n=d_();else if(t instanceof An)n=b_();else if(t instanceof jn){let l=t.articles,o=t.session;n=__(l,o)}else if(t instanceof Wt)n=y_();else if(t instanceof Lt){let l=t.article,o=t.session;n=Oc(l,o)}else if(t instanceof ht){let l=t.article;n=g_(e,l)}else if(t instanceof ce){let l=t.error;if(l instanceof Sn){let o=l.slug;n=h_(e.articles,o)}else if(l instanceof zn){let o=l.id;n=$_(e.articles,o)}else if(l instanceof Gt){let o=l.error;n=a([Nn(Ts(o))])}else if(l instanceof En){let o=l.attempted_action;n=a([Nn("Authentication required: "+o)])}else{let o=l.msg;n=a([Nn(o)])}}else if(t instanceof or)n=m_();else if(t instanceof On){let l=t.content;n=k_(l)}else{let l=t.requested_uri;n=w_(l)}let r=n,i;return t instanceof On?i=l=>v(a([_("min-h-screen bg-zinc-900 text-zinc-100 selection:bg-pink-700 selection:text-zinc-100 ")]),a([Co(e.notice),Bo(e),os(a([_("mx-auto px-10 py-10")]),l)])):t instanceof ht?i=l=>v(a([_("min-h-screen bg-zinc-900 text-zinc-100 selection:bg-pink-700 selection:text-zinc-100 ")]),a([Co(e.notice),Bo(e),os(a([_("mx-auto px-10 py-10")]),l)])):i=l=>v(a([_("min-h-screen bg-zinc-900 text-zinc-100 selection:bg-pink-700 selection:text-zinc-100 ")]),a([Co(e.notice),Bo(e),os(a([_("max-w-screen-md mx-auto px-10 py-10")]),l)])),i(r)}var L_=`# Quick Start for Markdown users

Djot is a lot like Markdown.  Here are some of the main
differences you need to be aware of in making the transition.

#### Blank lines

In djot you need blank lines around block-level
elements.  Hence, instead of

\`\`\`
This is some text.
## My next heading
\`\`\`

you must write

\`\`\`
This is some text.

## My next heading
\`\`\`

Instead of

\`\`\`\`
This is some text.
\`\`\` lua
local foo = bar.baz or false
\`\`\`
\`\`\`\`

you must write

\`\`\`\`
This is some text.

\`\`\` lua
local foo = bar.baz or false
\`\`\`
\`\`\`\`

Instead of

\`\`\`
Text.
> a blockquote.
\`\`\`

you must write

\`\`\`
Text.

> a blockquote.
\`\`\`

And instead of

\`\`\`
Before a thematic break.
****
After a thematic break.
\`\`\`

you must write

\`\`\`
Before a thematic break.

****

After a thematic break.
\`\`\`

#### Lists

A special case of this is that you always need a blank line before a
list, even if it's a sublist. So, while in Markdown you can write

\`\`\`
- one
  - two
  - three
\`\`\`

in djot you must write

\`\`\`
- one

  - two
  - three
\`\`\`

#### Headings

There are no Setext-style (underlined) headings, only ATX- (\`#\`) style.

Heading content can extend over several lines, which may or
may not be preceded by \`#\` characters:

\`\`\`
## This is a single
## level-2 heading

### This is a single
level-3 heading
\`\`\`

As a result, headings must always have a blank line following.

Trailing \`#\` characters in a heading are read as part of the
content and not ignored.

#### Code blocks

There are no indented code blocks, only fenced with \` \`\`\` \`.

#### Block quotes

You need a space after the \`>\` character, unless it is followed
by a newline.

#### Emphasis

Use single \`_\` delimiters for regular emphasis and
single \`*\` delimiters for strong emphasis.

#### Links

There is no special syntax for adding a title to a link, as
in Markdown:

\`\`\`
[link](http://example.com "Go to my website")
\`\`\`

If you want a title attribute on a link, use the general attribute syntax:

\`\`\`
[link](http://example.com){title="Go to my website"}
\`\`\`

#### Hard line breaks

In Markdown you can create a hard line break by ending a line
with two spaces. In djot you use a backslash before the newline.

\`\`\`
A new\\
line.
\`\`\`

#### Raw HTML

In Markdown you can just insert raw HTML "as is."  In djot,
you must mark it as raw HTML:

\`\`\`\`
This is raw HTML: \`<a id="foo">\`{=html}.

Here is a raw HTML block:

\`\`\` =html
<table>
<tr><td>foo</td></tr>
</table>
\`\`\`
\`\`\`\`

#### Tables

Pipe tables always require a pipe character at the start and end
of each line, unlike in many Markdown implementations.  So, this
is not a table:

\`\`\`
a|b
-|-
1|2
\`\`\`

but this is:

\`\`\`
| a | b |
| - | - |
| 1 | 2 |
\`\`\`


#### That's enough to get started!

Here we have just focused on things that might trip up
Markdown users.  If you keep these in mind, you should be
able to start using djot without looking at any more
documentation.

However, we haven't discussed any of the things
you can do in djot but not Markdown. See the [syntax
description](https://htmlpreview.github.io/?https://github.com/jgm/djot/blob/master/doc/syntax.html)
to find about the new constructions that are available.
`;function A_(e){let t=_o();if(!t.isOk())throw R("let_assert","jst_lustre",65,"init","Pattern match failed, no pattern matched the value.",{value:t});let n=t[0],r=xc(dr,gc(),l=>new cl(l)),i=new j(n,zo(n),new Oe,new ee,L_,new Kt,!1,"",!0),s=Eu(l=>{let o=l;return new Fs(o)});return[i,mn(a([s,r,Oo(l=>new vi(l),i.base_uri)]))]}function zc(){let e=du(A_,u_,v_),t=_u(e,"#app",void 0);if(!t.isOk())throw R("let_assert","jst_lustre",37,"main","Pattern match failed, no pattern matched the value.",{value:t})}function Z(e,t,n){let r="\x1B[90m",i="\x1B[39m",s=`${t}:${n}`,l=At(e);if(globalThis.process?.stderr?.write){let o=`${r}${s}${i}
${l}
`;process.stderr.write(o)}else if(globalThis.Deno){let o=`${r}${s}${i}
${l}
`;globalThis.Deno.stderr.writeSync(new TextEncoder().encode(o))}else{let o=`${s}
${l}`;globalThis.console.log(o)}return e}function j_(e){let t='"';for(let n=0;n<e.length;n++){let r=e[n];r==`
`?t+="\\n":r=="\r"?t+="\\r":r=="	"?t+="\\t":r=="\f"?t+="\\f":r=="\\"?t+="\\\\":r=='"'?t+='\\"':r<" "||r>"~"&&r<"\xA0"?t+="\\u{"+r.charCodeAt(0).toString(16).toUpperCase().padStart(4,"0")+"}":t+=r}return t+='"',t}function O_(e){let t="dict.from_list([",n=!0,r=[];return e.forEach((i,s)=>{r.push([s,i])}),r.sort(),r.forEach(([i,s])=>{n||(t=t+", "),t=t+"#("+At(i)+", "+At(s)+")",n=!1}),t+"])"}function S_(e){let t=globalThis.Object.keys(e).map(n=>{let r=At(e[n]);return isNaN(parseInt(n))?`${n}: ${r}`:r}).join(", ");return t?`${e.constructor.name}(${t})`:e.constructor.name}function z_(e){let t=Object.getPrototypeOf(e)?.constructor?.name||"Object",n=[];for(let s of Object.keys(e))n.push(`${At(s)}: ${At(e[s])}`);let r=n.length?" "+n.join(", ")+" ":"";return`//js(${t==="Object"?"":t+" "}{${r}})`}function At(e){let t=typeof e;if(e===!0)return"True";if(e===!1)return"False";if(e===null)return"//js(null)";if(e===void 0)return"Nil";if(t==="string")return j_(e);if(t==="bigint"||t==="number")return e.toString();if(globalThis.Array.isArray(e))return`#(${e.map(At).join(", ")})`;if(e instanceof G)return`[${e.toArray().map(At).join(", ")}]`;if(e instanceof jt)return`//utfcodepoint(${String.fromCodePoint(e.value)})`;if(e instanceof be)return E_(e);if(e instanceof d)return S_(e);if(T_(e))return O_(e);if(e instanceof Set)return`//js(Set(${[...e].map(At).join(", ")}))`;if(e instanceof RegExp)return`//js(${e})`;if(e instanceof Date)return`//js(Date("${e.toISOString()}"))`;if(e instanceof Function){let n=[];for(let r of Array(e.length).keys())n.push(String.fromCharCode(r+97));return`//fn(${n.join(", ")}) { ... }`}return z_(e)}function E_(e){let t=e.bitOffset+8*Math.trunc(e.bitSize/8),n=Xt(e,e.bitOffset,t),r=e.bitSize%8;if(r>0){let i=Li(e,t,e.bitSize,!1,!1),s=Array.from(n.rawBuffer),l=`${i}:size(${r})`;return s.length===0?`<<${l}>>`:`<<${Array.from(n.rawBuffer).join(", ")}, ${l}>>`}else return`<<${Array.from(n.rawBuffer).join(", ")}>>`}function T_(e){try{return e instanceof ge}catch{return!1}}zc();
