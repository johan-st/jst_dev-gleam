var _=class{withFields(t){let n=Object.keys(this).map(r=>r in t?t[r]:this[r]);return new this.constructor(...n)}},re=class{static fromArray(t,n){let r=n||new y;for(let i=t.length-1;i>=0;--i)r=new Ht(t[i],r);return r}[Symbol.iterator](){return new bo(this)}toArray(){return[...this]}atLeastLength(t){let n=this;for(;t-- >0&&n;)n=n.tail;return n!==void 0}hasLength(t){let n=this;for(;t-- >0&&n;)n=n.tail;return t===-1&&n instanceof y}countLength(){let t=this,n=0;for(;t;)t=t.tail,n++;return n-1}};function b(e,t){return new Ht(e,t)}function l(e,t){return re.fromArray(e,t)}var bo=class{#e;constructor(t){this.#e=t}next(){if(this.#e instanceof y)return{done:!0};{let{head:t,tail:n}=this.#e;return this.#e=n,{value:t,done:!1}}}},y=class extends re{},Ht=class extends re{constructor(t,n){super(),this.head=t,this.tail=n}},Ze=class{bitSize;byteSize;bitOffset;rawBuffer;constructor(t,n,r){if(!(t instanceof Uint8Array))throw globalThis.Error("BitArray can only be constructed from a Uint8Array");if(this.bitSize=n??t.length*8,this.byteSize=Math.trunc((this.bitSize+7)/8),this.bitOffset=r??0,this.bitSize<0)throw globalThis.Error(`BitArray bit size is invalid: ${this.bitSize}`);if(this.bitOffset<0||this.bitOffset>7)throw globalThis.Error(`BitArray bit offset is invalid: ${this.bitOffset}`);if(t.length!==Math.trunc((this.bitOffset+this.bitSize+7)/8))throw globalThis.Error("BitArray buffer length is invalid");this.rawBuffer=t}byteAt(t){if(!(t<0||t>=this.byteSize))return ci(this.rawBuffer,this.bitOffset,t)}equals(t){if(this.bitSize!==t.bitSize)return!1;let n=Math.trunc(this.bitSize/8);if(this.bitOffset===0&&t.bitOffset===0){for(let i=0;i<n;i++)if(this.rawBuffer[i]!==t.rawBuffer[i])return!1;let r=this.bitSize%8;if(r){let i=8-r;if(this.rawBuffer[n]>>i!==t.rawBuffer[n]>>i)return!1}}else{for(let i=0;i<n;i++){let s=ci(this.rawBuffer,this.bitOffset,i),o=ci(t.rawBuffer,t.bitOffset,i);if(s!==o)return!1}let r=this.bitSize%8;if(r){let i=ci(this.rawBuffer,this.bitOffset,n),s=ci(t.rawBuffer,t.bitOffset,n),o=8-r;if(i>>o!==s>>o)return!1}}return!0}get buffer(){if(du("buffer","Use BitArray.byteAt() or BitArray.rawBuffer instead"),this.bitOffset!==0||this.bitSize%8!==0)throw new globalThis.Error("BitArray.buffer does not support unaligned bit arrays");return this.rawBuffer}get length(){if(du("length","Use BitArray.bitSize or BitArray.byteSize instead"),this.bitOffset!==0||this.bitSize%8!==0)throw new globalThis.Error("BitArray.length does not support unaligned bit arrays");return this.rawBuffer.length}};function ci(e,t,n){if(t===0)return e[n]??0;{let r=e[n]<<t&255,i=e[n+1]>>8-t;return r|i}}var an=class{constructor(t){this.value=t}},pu={};function du(e,t){pu[e]||(console.warn(`Deprecated BitArray.${e} property used in JavaScript FFI code. ${t}.`),pu[e]=!0)}function qn(e,t,n){if(n??=e.bitSize,$u(e,t,n),t===n)return new Ze(new Uint8Array);if(t===0&&n===e.bitSize)return e;t+=e.bitOffset,n+=e.bitOffset;let r=Math.trunc(t/8),s=Math.trunc((n+7)/8)-r,o;return r===0&&s===e.rawBuffer.byteLength?o=e.rawBuffer:o=new Uint8Array(e.rawBuffer.buffer,e.rawBuffer.byteOffset+r,s),new Ze(o,n-t,t%8)}function ys(e,t,n,r,i){if($u(e,t,n),t===n)return 0;t+=e.bitOffset,n+=e.bitOffset;let s=t%8===0,o=n%8===0;if(s&&o)return Bp(e,t/8,n/8,r,i);let a=n-t,u=Math.trunc(t/8),c=Math.trunc((n-1)/8);if(u==c){let d=255>>t%8,p=(8-n%8)%8,w=(e.rawBuffer[u]&d)>>p;if(i){let v=2**(a-1);w>=v&&(w-=v*2)}return w}return a<=53?Pp(e.rawBuffer,t,n,r,i):Np(e.rawBuffer,t,n,r,i)}function Bp(e,t,n,r,i){return n-t<=6?Cp(e.rawBuffer,t,n,r,i):qp(e.rawBuffer,t,n,r,i)}function Cp(e,t,n,r,i){let s=n-t,o=0;if(r)for(let a=t;a<n;a++)o*=256,o+=e[a];else for(let a=n-1;a>=t;a--)o*=256,o+=e[a];if(i){let a=2**(s*8-1);o>=a&&(o-=a*2)}return o}function qp(e,t,n,r,i){let s=n-t,o=0n;if(r)for(let a=t;a<n;a++)o*=256n,o+=BigInt(e[a]);else for(let a=n-1;a>=t;a--)o*=256n,o+=BigInt(e[a]);if(i){let a=1n<<BigInt(s*8-1);o>=a&&(o-=a*2n)}return Number(o)}function Pp(e,t,n,r,i){let s=t%8===0,o=n-t,a=Math.trunc(t/8),u=0;if(r){if(!s){let c=8-t%8;u=e[a++]&(1<<c)-1,o-=c}for(;o>=8;)u*=256,u+=e[a++],o-=8;o>0&&(u*=2**o,u+=e[a]>>8-o)}else if(s){let c=n-t,d=1;for(;c>=8;)u+=e[a++]*d,d*=256,c-=8;u+=(e[a]>>8-c)*d}else{let c=t%8,d=8-c,p=n-t,w=1;for(;p>=8;){let v=e[a]<<c|e[a+1]>>d;u+=(v&255)*w,w*=256,p-=8,a++}if(p>0){let v=p-Math.max(0,p-d),k=(e[a]&(1<<d)-1)>>d-v;p-=v,p>0&&(k*=2**p,k+=e[a+1]>>8-p),u+=k*w}}if(i){let c=2**(n-t-1);u>=c&&(u-=c*2)}return u}function Np(e,t,n,r,i){let s=t%8===0,o=n-t,a=Math.trunc(t/8),u=0n;if(r){if(!s){let c=8-t%8;u=BigInt(e[a++]&(1<<c)-1),o-=c}for(;o>=8;)u*=256n,u+=BigInt(e[a++]),o-=8;o>0&&(u<<=BigInt(o),u+=BigInt(e[a]>>8-o))}else if(s){let c=n-t,d=0n;for(;c>=8;)u+=BigInt(e[a++])<<d,d+=8n,c-=8;u+=BigInt(e[a]>>8-c)<<d}else{let c=t%8,d=8-c,p=n-t,w=0n;for(;p>=8;){let v=e[a]<<c|e[a+1]>>d;u+=BigInt(v&255)<<w,w+=8n,p-=8,a++}if(p>0){let v=p-Math.max(0,p-d),k=(e[a]&(1<<d)-1)>>d-v;p-=v,p>0&&(k<<=p,k+=e[a+1]>>8-p),u+=BigInt(k)<<w}}if(i){let c=2n**BigInt(n-t-1);u>=c&&(u-=c*2n)}return Number(u)}function $u(e,t,n){if(t<0||t>e.bitSize||n<t||n>e.bitSize){let r=`Invalid bit array slice: start = ${t}, end = ${n}, bit size = ${e.bitSize}`;throw new globalThis.Error(r)}}var br=class e extends _{static isResult(t){return t instanceof e}},g=class extends br{constructor(t){super(),this[0]=t}isOk(){return!0}},A=class extends br{constructor(t){super(),this[0]=t}isOk(){return!1}};function P(e,t){let n=[e,t];for(;n.length;){let r=n.pop(),i=n.pop();if(r===i)continue;if(!_u(r)||!_u(i)||!Fp(r,i)||Ip(r,i)||Mp(r,i)||Op(r,i)||Up(r,i)||Dp(r,i)||Rp(r,i))return!1;let o=Object.getPrototypeOf(r);if(o!==null&&typeof o.equals=="function")try{if(r.equals(i))continue;return!1}catch{}let[a,u]=Lp(r);for(let c of a(r))n.push(u(r,c),u(i,c))}return!0}function Lp(e){if(e instanceof Map)return[t=>t.keys(),(t,n)=>t.get(n)];{let t=e instanceof globalThis.Error?["message"]:[];return[n=>[...t,...Object.keys(n)],(n,r)=>n[r]]}}function Ip(e,t){return e instanceof Date&&(e>t||e<t)}function Mp(e,t){return!(e instanceof Ze)&&e.buffer instanceof ArrayBuffer&&e.BYTES_PER_ELEMENT&&!(e.byteLength===t.byteLength&&e.every((n,r)=>n===t[r]))}function Op(e,t){return Array.isArray(e)&&e.length!==t.length}function Up(e,t){return e instanceof Map&&e.size!==t.size}function Dp(e,t){return e instanceof Set&&(e.size!=t.size||[...e].some(n=>!t.has(n)))}function Rp(e,t){return e instanceof RegExp&&(e.source!==t.source||e.flags!==t.flags)}function _u(e){return typeof e=="object"&&e!==null}function Fp(e,t){return typeof e!="object"&&typeof t!="object"&&(!e||!t)||[Promise,WeakSet,WeakMap,Function].some(r=>e instanceof r)?!1:e.constructor===t.constructor}function Pn(e,t){return t===0?0:e%t}function Nn(e,t){return Math.trunc(yo(e,t))}function yo(e,t){return t===0?0:e/t}function K(e,t,n,r,i,s,o){let a=new globalThis.Error(s);a.gleam_error=e,a.file=t,a.module=n,a.line=r,a.function=i,a.fn=i;for(let u in o)a[u]=o[u];return a}var $=class extends _{constructor(t){super(),this[0]=t}},x=class extends _{};function vs(e,t){if(e instanceof $){let n=e[0];return new g(n)}else return new A(t)}function yr(e,t){if(e instanceof $){let n=e[0];return new $(t(n))}else return new x}function mu(e){return e instanceof $?e[0]:new x}function hu(e,t){if(e instanceof $){let n=e[0];return t(n)}else return new x}function vt(e,t,n){return e?t:n()}var ie=class extends _{},ce=class extends _{},qe=class extends _{};function Qe(e,t,n){return xu(t,n,e)}function Wp(e,t){for(;;){let n=e,r=t;if(n instanceof y)return r;{let i=n.head;e=n.tail,t=b(i,r)}}}function Hp(e,t){for(;;){let n=e,r=t;if(n instanceof y)return Wp(r,l([]));{let i=n.tail,s=n.head[0];e=i,t=b(s,r)}}}function vo(e){return Hp(Ln(e),l([]))}function ko(e,t){return gu(t,e)}function Ao(e,t,n){let r=$t(e,t);if(r instanceof g){let i=r[0];return Qe(e,t,n(new $(i)))}else return Qe(e,t,n(new x))}function bu(e,t){let n=e[0],r=e[1];return[n,t(r)]}var ye=class extends _{},In=class extends _{};function Yp(e,t){for(;;){let n=e,r=t;if(n instanceof y)return r;e=n.tail,t=r+1}}function zo(e){return Yp(e,0)}function Mn(e,t){for(;;){let n=e,r=t;if(n instanceof y)return r;{let i=n.head;e=n.tail,t=b(i,r)}}}function T(e){return Mn(e,l([]))}function Zp(e,t,n){for(;;){let r=e,i=t,s=n;if(r instanceof y)return T(s);{let o=r.head,a=r.tail,u;i(o)?u=b(o,s):u=s;let d=u;e=a,t=i,n=d}}}function zt(e,t){return Zp(e,t,l([]))}function Qp(e,t,n){for(;;){let r=e,i=t,s=n;if(r instanceof y)return T(s);{let o=r.head,a=r.tail,u,c=i(o);if(c instanceof g){let p=c[0];u=b(p,s)}else u=s;let d=u;e=a,t=i,n=d}}}function On(e,t){return Qp(e,t,l([]))}function Xp(e,t,n){for(;;){let r=e,i=t,s=n;if(r instanceof y)return T(s);{let o=r.head;e=r.tail,t=i,n=b(i(o),s)}}}function M(e,t){return Xp(e,t,l([]))}function ed(e,t){for(;;){let n=e,r=t;if(n instanceof y)return r;{let i=n.head;e=n.tail,t=b(i,r)}}}function pe(e,t){return ed(T(e),t)}function td(e,t){for(;;){let n=e,r=t;if(n instanceof y)return T(r);{let i=n.head;e=n.tail,t=Mn(i,r)}}}function kr(e){return td(e,l([]))}function Ge(e,t,n){for(;;){let r=e,i=t,s=n;if(r instanceof y)return i;{let o=r.head;e=r.tail,t=s(i,o),n=s}}}function So(e,t,n){let r=Ge(e,[t,l([])],(i,s)=>{let o=i[0],a=i[1],u=n(o,s),c=u[0],d=u[1];return[c,b(d,a)]});return bu(r,T)}function nd(e,t,n,r){for(;;){let i=e,s=t,o=n,a=r;if(i instanceof y)return s;{let u=i.head;e=i.tail,t=o(s,u,a),n=o,r=a+1}}}function jo(e,t,n){return nd(e,t,n,0)}function mt(e,t){for(;;){let n=e,r=t;if(n instanceof y)return new A(void 0);{let i=n.head,s=n.tail;if(r(i))return new g(i);e=s,t=r}}}function yu(e,t){for(;;){let n=e,r=t;if(n instanceof y)return!0;{let i=n.head,s=n.tail;if(r(i))e=s,t=r;else return!1}}}function fi(e,t){for(;;){let n=e,r=t;if(n instanceof y)return!1;{let i=n.head,s=n.tail;if(r(i))return!0;e=s,t=r}}}function rd(e,t,n,r,i,s){for(;;){let o=e,a=t,u=n,c=r,d=i,p=s,w=b(d,u);if(o instanceof y)return c instanceof ye?b(T(w),p):b(w,p);{let v=o.head,k=o.tail,B=a(d,v);if(c instanceof ye)if(B instanceof ie)e=k,t=a,n=w,r=c,i=v,s=p;else if(B instanceof ce)e=k,t=a,n=w,r=c,i=v,s=p;else{let j;c instanceof ye?j=b(T(w),p):j=b(w,p);let Z=j;if(k instanceof y)return b(l([v]),Z);{let Q=k.head,I=k.tail,L,C=a(v,Q);C instanceof ie?L=new ye:C instanceof ce?L=new ye:L=new In;let $e=L;e=I,t=a,n=l([v]),r=$e,i=Q,s=Z}}else if(B instanceof ie){let j;c instanceof ye?j=b(T(w),p):j=b(w,p);let Z=j;if(k instanceof y)return b(l([v]),Z);{let Q=k.head,I=k.tail,L,C=a(v,Q);C instanceof ie?L=new ye:C instanceof ce?L=new ye:L=new In;let $e=L;e=I,t=a,n=l([v]),r=$e,i=Q,s=Z}}else if(B instanceof ce){let j;c instanceof ye?j=b(T(w),p):j=b(w,p);let Z=j;if(k instanceof y)return b(l([v]),Z);{let Q=k.head,I=k.tail,L,C=a(v,Q);C instanceof ie?L=new ye:C instanceof ce?L=new ye:L=new In;let $e=L;e=I,t=a,n=l([v]),r=$e,i=Q,s=Z}}else e=k,t=a,n=w,r=c,i=v,s=p}}}function id(e,t,n,r){for(;;){let i=e,s=t,o=n,a=r;if(i instanceof y)return Mn(s,a);if(s instanceof y)return Mn(i,a);{let u=i.head,c=i.tail,d=s.head,p=s.tail,w=o(u,d);w instanceof ie?(e=c,t=s,n=o,r=b(u,a)):w instanceof ce?(e=i,t=p,n=o,r=b(d,a)):(e=i,t=p,n=o,r=b(d,a))}}}function sd(e,t,n){for(;;){let r=e,i=t,s=n;if(r instanceof y)return T(s);{let o=r.tail;if(o instanceof y){let a=r.head;return T(b(T(a),s))}else{let a=r.head,u=o.head,c=o.tail,d=id(a,u,i,l([]));e=c,t=i,n=b(d,s)}}}}function ld(e,t,n,r){for(;;){let i=e,s=t,o=n,a=r;if(i instanceof y)return Mn(s,a);if(s instanceof y)return Mn(i,a);{let u=i.head,c=i.tail,d=s.head,p=s.tail,w=o(u,d);w instanceof ie?(e=i,t=p,n=o,r=b(d,a)):w instanceof ce?(e=c,t=s,n=o,r=b(u,a)):(e=c,t=s,n=o,r=b(u,a))}}}function od(e,t,n){for(;;){let r=e,i=t,s=n;if(r instanceof y)return T(s);{let o=r.tail;if(o instanceof y){let a=r.head;return T(b(T(a),s))}else{let a=r.head,u=o.head,c=o.tail,d=ld(a,u,i,l([]));e=c,t=i,n=b(d,s)}}}}function ad(e,t,n){for(;;){let r=e,i=t,s=n;if(r instanceof y)return l([]);if(i instanceof ye){if(r.tail instanceof y)return r.head;e=sd(r,s,l([])),t=new In,n=s}else if(r.tail instanceof y){let a=r.head;return T(a)}else e=od(r,s,l([])),t=new ye,n=s}}function Ar(e,t){if(e instanceof y)return l([]);{let n=e.tail;if(n instanceof y){let r=e.head;return l([r])}else{let r=e.head,i=n.head,s=n.tail,o,a=t(r,i);a instanceof ie?o=new ye:a instanceof ce?o=new ye:o=new In;let u=o,c=rd(s,t,l([r]),u,i,l([]));return ad(c,new ye,t)}}}function ud(e,t,n){for(;;){let r=e,i=t,s=n,o=ks(r,i);if(o instanceof ie)e=r,t=i-1,n=b(i,s);else{if(o instanceof ce)return b(i,s);e=r,t=i+1,n=b(i,s)}}}function vu(e,t){return ud(e,t,l([]))}function cd(e,t,n,r){for(;;){let i=e,s=t,o=n,a=r;if(i instanceof y)return T(b([s,o],a));{let u=i.head[0];if(P(u,s)){let c=i.tail;return Mn(a,b([u,o],c))}else{let c=i.head;e=i.tail,t=s,n=o,r=b(c,a)}}}}function Eo(e,t,n){return cd(e,t,n,l([]))}function fd(e,t){if(e instanceof y)return new A(void 0);{let n=e.head,r=e.tail;return new g(Ge(r,n,t))}}function ku(e){return fd(e,(t,n)=>n)}function As(e,t,n){let i=e,s=Bo(i,t,n);return s}function di(e,t){return e===t?new ce:Eu(e,t)?new ie:new qe}function ju(e,t,n){if(n<0)return"";if(t<0){let s=St(e)+t;return s<0?"":qo(e,s,n)}else return qo(e,t,n)}function hd(e,t){for(;;){let n=e,r=t;if(n instanceof y)return r;{let i=n.head;e=n.tail,t=r+i}}}function un(e){return hd(e,"")}function wd(e,t,n){for(;;){let r=e,i=t,s=n;if(i<=0)return s;e=r,t=i-1,n=s+r}}function _i(e,t){return wd(e,t,"")}function gd(e,t,n){for(;;){let r=e,i=t,s=n;if(r instanceof y)return s;{let o=r.head;e=r.tail,t=i,n=s+i+o}}}function ot(e,t){if(e instanceof y)return"";{let n=e.head,r=e.tail;return gd(r,t,n)}}function xd(e,t){let n=St(t),r=Nn(e,n),i=Pn(e,n);return _i(t,r)+ju(t,0,i)}function cn(e,t,n){let r=St(e),i=t-r;return i<=0?e:xd(i,n)+e}function Dn(e){let n=mi(e);return hi(n)}function zs(e,t){for(;;){let n=e,r=t;if(r>0){let s=Ss(n);if(s instanceof g)e=s[0][1],t=r-1;else return n}else return n}}function Jt(e,t){if(t==="")return zr(e);{let r=e,i=Co(r,t);return M(i,xe)}}function Po(e){let t=jt(e);return t}function qu(e){return e instanceof g}function pn(e,t){if(e instanceof g){let n=e[0];return new g(t(n))}else{let n=e[0];return new A(n)}}function Es(e,t){if(e instanceof g){let n=e[0];return new g(n)}else{let n=e[0];return new A(t(n))}}function wi(e,t){if(e instanceof g){let n=e[0];return t(n)}else{let n=e[0];return new A(n)}}function at(e,t){return wi(e,t)}var Rn=class extends _{constructor(t,n,r){super(),this.expected=t,this.found=n,this.path=r}};function Ad(e,t){return Es(e,n=>M(n,t))}function Pu(e){return Oo(e)}function Nu(e){return t=>{if(e instanceof y)return new A(l([new Rn("another type",et(t),l([]))]));{let n=e.head,r=e.tail,i=n(t);if(i instanceof g){let s=i[0];return new g(s)}else return Nu(r)(t)}}}function zd(e,t){let n=t,r=Nu(l([Oo,u=>pn(Lu(u),F)])),i,s=r(n);if(s instanceof g)i=s[0];else{let u=l(["<",et(n),">"]),c=Un(u);i=c}let o=i,a=e;return new Rn(a.expected,a.found,b(o,e.path))}function Mo(e,t){return n=>{let r=new Rn("field","nothing",l([]));return wi(Iu(n,e),i=>{let o=vs(i,l([r])),a=wi(o,t);return Ad(a,u=>zd(u,e))})}}var Mu=new WeakMap,Uo=new DataView(new ArrayBuffer(8)),Do=0;function Ro(e){let t=Mu.get(e);if(t!==void 0)return t;let n=Do++;return Do===2147483647&&(Do=0),Mu.set(e,n),n}function Fo(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}function Wo(e){let t=0,n=e.length;for(let r=0;r<n;r++)t=Math.imul(31,t)+e.charCodeAt(r)|0;return t}function Uu(e){Uo.setFloat64(0,e);let t=Uo.getInt32(0),n=Uo.getInt32(4);return Math.imul(73244475,t>>16^t)^n}function Sd(e){return Wo(e.toString())}function jd(e){let t=Object.getPrototypeOf(e);if(t!==null&&typeof t.hashCode=="function")try{let r=e.hashCode(e);if(typeof r=="number")return r}catch{}if(e instanceof Promise||e instanceof WeakSet||e instanceof WeakMap)return Ro(e);if(e instanceof Date)return Uu(e.getTime());let n=0;if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),Array.isArray(e)||e instanceof Uint8Array)for(let r=0;r<e.length;r++)n=Math.imul(31,n)+ct(e[r])|0;else if(e instanceof Set)e.forEach(r=>{n=n+ct(r)|0});else if(e instanceof Map)e.forEach((r,i)=>{n=n+Fo(ct(r),ct(i))|0});else{let r=Object.keys(e);for(let i=0;i<r.length;i++){let s=r[i],o=e[s];n=n+Fo(ct(o),Wo(s))|0}}return n}function ct(e){if(e===null)return 1108378658;if(e===void 0)return 1108378659;if(e===!0)return 1108378657;if(e===!1)return 1108378656;switch(typeof e){case"number":return Uu(e);case"string":return Wo(e);case"bigint":return Sd(e);case"object":return jd(e);case"symbol":return Ro(e);case"function":return Ro(e);default:return 0}}var Tt=5,Ho=Math.pow(2,Tt),Ed=Ho-1,Td=Ho/2,Bd=Ho/4,Ne=0,Et=1,tt=2,Gn=3,Jo={type:tt,bitmap:0,array:[]};function gi(e,t){return e>>>t&Ed}function Bs(e,t){return 1<<gi(e,t)}function Cd(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),e=e+(e>>4)&252645135,e+=e>>8,e+=e>>16,e&127}function Ko(e,t){return Cd(e&t-1)}function ft(e,t,n){let r=e.length,i=new Array(r);for(let s=0;s<r;++s)i[s]=e[s];return i[t]=n,i}function qd(e,t,n){let r=e.length,i=new Array(r+1),s=0,o=0;for(;s<t;)i[o++]=e[s++];for(i[o++]=n;s<r;)i[o++]=e[s++];return i}function Go(e,t){let n=e.length,r=new Array(n-1),i=0,s=0;for(;i<t;)r[s++]=e[i++];for(++i;i<n;)r[s++]=e[i++];return r}function Du(e,t,n,r,i,s){let o=ct(t);if(o===r)return{type:Gn,hash:o,array:[{type:Ne,k:t,v:n},{type:Ne,k:i,v:s}]};let a={val:!1};return xi(Vo(Jo,e,o,t,n,a),e,r,i,s,a)}function xi(e,t,n,r,i,s){switch(e.type){case Et:return Pd(e,t,n,r,i,s);case tt:return Vo(e,t,n,r,i,s);case Gn:return Nd(e,t,n,r,i,s)}}function Pd(e,t,n,r,i,s){let o=gi(n,t),a=e.array[o];if(a===void 0)return s.val=!0,{type:Et,size:e.size+1,array:ft(e.array,o,{type:Ne,k:r,v:i})};if(a.type===Ne)return P(r,a.k)?i===a.v?e:{type:Et,size:e.size,array:ft(e.array,o,{type:Ne,k:r,v:i})}:(s.val=!0,{type:Et,size:e.size,array:ft(e.array,o,Du(t+Tt,a.k,a.v,n,r,i))});let u=xi(a,t+Tt,n,r,i,s);return u===a?e:{type:Et,size:e.size,array:ft(e.array,o,u)}}function Vo(e,t,n,r,i,s){let o=Bs(n,t),a=Ko(e.bitmap,o);if((e.bitmap&o)!==0){let u=e.array[a];if(u.type!==Ne){let d=xi(u,t+Tt,n,r,i,s);return d===u?e:{type:tt,bitmap:e.bitmap,array:ft(e.array,a,d)}}let c=u.k;return P(r,c)?i===u.v?e:{type:tt,bitmap:e.bitmap,array:ft(e.array,a,{type:Ne,k:r,v:i})}:(s.val=!0,{type:tt,bitmap:e.bitmap,array:ft(e.array,a,Du(t+Tt,c,u.v,n,r,i))})}else{let u=e.array.length;if(u>=Td){let c=new Array(32),d=gi(n,t);c[d]=Vo(Jo,t+Tt,n,r,i,s);let p=0,w=e.bitmap;for(let v=0;v<32;v++){if((w&1)!==0){let k=e.array[p++];c[v]=k}w=w>>>1}return{type:Et,size:u+1,array:c}}else{let c=qd(e.array,a,{type:Ne,k:r,v:i});return s.val=!0,{type:tt,bitmap:e.bitmap|o,array:c}}}}function Nd(e,t,n,r,i,s){if(n===e.hash){let o=Yo(e,r);if(o!==-1)return e.array[o].v===i?e:{type:Gn,hash:n,array:ft(e.array,o,{type:Ne,k:r,v:i})};let a=e.array.length;return s.val=!0,{type:Gn,hash:n,array:ft(e.array,a,{type:Ne,k:r,v:i})}}return xi({type:tt,bitmap:Bs(e.hash,t),array:[e]},t,n,r,i,s)}function Yo(e,t){let n=e.array.length;for(let r=0;r<n;r++)if(P(t,e.array[r].k))return r;return-1}function Ts(e,t,n,r){switch(e.type){case Et:return Ld(e,t,n,r);case tt:return Id(e,t,n,r);case Gn:return Md(e,r)}}function Ld(e,t,n,r){let i=gi(n,t),s=e.array[i];if(s!==void 0){if(s.type!==Ne)return Ts(s,t+Tt,n,r);if(P(r,s.k))return s}}function Id(e,t,n,r){let i=Bs(n,t);if((e.bitmap&i)===0)return;let s=Ko(e.bitmap,i),o=e.array[s];if(o.type!==Ne)return Ts(o,t+Tt,n,r);if(P(r,o.k))return o}function Md(e,t){let n=Yo(e,t);if(!(n<0))return e.array[n]}function Zo(e,t,n,r){switch(e.type){case Et:return Od(e,t,n,r);case tt:return Ud(e,t,n,r);case Gn:return Dd(e,r)}}function Od(e,t,n,r){let i=gi(n,t),s=e.array[i];if(s===void 0)return e;let o;if(s.type===Ne){if(!P(s.k,r))return e}else if(o=Zo(s,t+Tt,n,r),o===s)return e;if(o===void 0){if(e.size<=Bd){let a=e.array,u=new Array(e.size-1),c=0,d=0,p=0;for(;c<i;){let w=a[c];w!==void 0&&(u[d]=w,p|=1<<c,++d),++c}for(++c;c<a.length;){let w=a[c];w!==void 0&&(u[d]=w,p|=1<<c,++d),++c}return{type:tt,bitmap:p,array:u}}return{type:Et,size:e.size-1,array:ft(e.array,i,o)}}return{type:Et,size:e.size,array:ft(e.array,i,o)}}function Ud(e,t,n,r){let i=Bs(n,t);if((e.bitmap&i)===0)return e;let s=Ko(e.bitmap,i),o=e.array[s];if(o.type!==Ne){let a=Zo(o,t+Tt,n,r);return a===o?e:a!==void 0?{type:tt,bitmap:e.bitmap,array:ft(e.array,s,a)}:e.bitmap===i?void 0:{type:tt,bitmap:e.bitmap^i,array:Go(e.array,s)}}return P(r,o.k)?e.bitmap===i?void 0:{type:tt,bitmap:e.bitmap^i,array:Go(e.array,s)}:e}function Dd(e,t){let n=Yo(e,t);if(n<0)return e;if(e.array.length!==1)return{type:Gn,hash:e.hash,array:Go(e.array,n)}}function Ru(e,t){if(e===void 0)return;let n=e.array,r=n.length;for(let i=0;i<r;i++){let s=n[i];if(s!==void 0){if(s.type===Ne){t(s.v,s.k);continue}Ru(s,t)}}}var We=class e{static fromObject(t){let n=Object.keys(t),r=e.new();for(let i=0;i<n.length;i++){let s=n[i];r=r.set(s,t[s])}return r}static fromMap(t){let n=e.new();return t.forEach((r,i)=>{n=n.set(i,r)}),n}static new(){return new e(void 0,0)}constructor(t,n){this.root=t,this.size=n}get(t,n){if(this.root===void 0)return n;let r=Ts(this.root,0,ct(t),t);return r===void 0?n:r.v}set(t,n){let r={val:!1},i=this.root===void 0?Jo:this.root,s=xi(i,0,ct(t),t,n,r);return s===this.root?this:new e(s,r.val?this.size+1:this.size)}delete(t){if(this.root===void 0)return this;let n=Zo(this.root,0,ct(t),t);return n===this.root?this:n===void 0?e.new():new e(n,this.size-1)}has(t){return this.root===void 0?!1:Ts(this.root,0,ct(t),t)!==void 0}entries(){if(this.root===void 0)return[];let t=[];return this.forEach((n,r)=>t.push([r,n])),t}forEach(t){Ru(this.root,t)}hashCode(){let t=0;return this.forEach((n,r)=>{t=t+Fo(ct(n),ct(r))|0}),t}equals(t){if(!(t instanceof e)||this.size!==t.size)return!1;try{return this.forEach((n,r)=>{if(!P(t.get(r,!n),n))throw Ou}),!0}catch(n){if(n===Ou)return!1;throw n}}},Ou=Symbol();var Ku=void 0,Gu={};function xe(e){return e}function F(e){return e.toString()}function Qo(e){let t=e.toString().replace("+","");if(t.indexOf(".")>=0)return t;{let n=t.indexOf("e");return n>=0?t.slice(0,n)+".0"+t.slice(n):t+".0"}}function Bo(e,t,n){return typeof e.replaceAll<"u"?e.replaceAll(t,n):e.replace(new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"),n)}function St(e){if(e==="")return 0;let t=Cs(e);if(t){let n=0;for(let r of t)n++;return n}else return e.match(/./gsu).length}function zr(e){let t=Cs(e);return t?re.fromArray(Array.from(t).map(n=>n.segment)):re.fromArray(e.match(/./gsu))}var Wu;function Cs(e){if(globalThis.Intl&&Intl.Segmenter)return Wu||=new Intl.Segmenter,Wu.segment(e)[Symbol.iterator]()}function Ss(e){let t,n=Cs(e);return n?t=n.next().value?.segment:t=e.match(/./su)?.[0],t?new g([t,e.slice(t.length)]):new A(Ku)}function Wn(e){return[e.charCodeAt(0)|0,e.slice(1)]}function Xe(e){return e.toLowerCase()}function Eu(e,t){return e<t}function Co(e,t){return re.fromArray(e.split(t))}function Un(e){let t="";for(let n of e)t=t+n;return t}function qo(e,t,n){if(n<=0||t>=e.length)return"";let r=Cs(e);if(r){for(;t-- >0;)r.next();let i="";for(;n-- >0;){let s=r.next().value;if(s===void 0)break;i+=s.segment}return i}else return e.match(/./gsu).slice(t,t+n).join("")}function Se(e,t,n){return e.slice(t,t+n)}function js(e,t){return e.indexOf(t)>=0}function fn(e,t){return e.startsWith(t)}function $i(e,t){return e.endsWith(t)}var Vu=[" ","	",`
`,"\v","\f","\r","\x85","\u2028","\u2029"].join(""),Rd=new RegExp(`^[${Vu}]*`),Fd=new RegExp(`[${Vu}]*$`);function mi(e){return e.replace(Rd,"")}function hi(e){return e.replace(Fd,"")}function ee(){return We.new()}function Ln(e){return re.fromArray(e.entries())}function gu(e,t){return t.delete(e)}function $t(e,t){let n=e.get(t,Gu);return n===Gu?new A(Ku):new g(n)}function xu(e,t,n){return n.set(e,t)}function et(e){if(typeof e=="string")return"String";if(typeof e=="boolean")return"Bool";if(e instanceof br)return"Result";if(e instanceof re)return"List";if(e instanceof Ze)return"BitArray";if(e instanceof We)return"Dict";if(Number.isInteger(e))return"Int";if(Array.isArray(e))return`Tuple of ${e.length} elements`;if(typeof e=="number")return"Float";if(e===null)return"Null";if(e===void 0)return"Nil";{let t=typeof e;return t.charAt(0).toUpperCase()+t.slice(1)}}function Xo(e,t){return Gd(e,et(t))}function Gd(e,t){return new A(re.fromArray([new Rn(e,t,re.fromArray([]))]))}function Oo(e){return typeof e=="string"?new g(e):Xo("String",e)}function Lu(e){return Number.isInteger(e)?new g(e):Xo("Int",e)}function Iu(e,t){let n=()=>Xo("Dict",e);if(e instanceof We||e instanceof WeakMap||e instanceof Map){let r=$t(e,t);return new g(r.isOk()?new $(r[0]):new x)}else return e===null?n():Object.getPrototypeOf(e)==Object.prototype?Hu(e,t,()=>new g(new x)):Hu(e,t,n)}function Hu(e,t,n){try{return t in e?new g(new $(e[t])):n()}catch{return n()}}function jt(e){let t=typeof e;if(e===!0)return"True";if(e===!1)return"False";if(e===null)return"//js(null)";if(e===void 0)return"Nil";if(t==="string")return Wd(e);if(t==="bigint"||Number.isInteger(e))return e.toString();if(t==="number")return Qo(e);if(Array.isArray(e))return`#(${e.map(jt).join(", ")})`;if(e instanceof re)return Vd(e);if(e instanceof an)return Yd(e);if(e instanceof Ze)return`<<${Cu(e,"")}>>`;if(e instanceof _)return Kd(e);if(e instanceof We)return Hd(e);if(e instanceof Set)return`//js(Set(${[...e].map(jt).join(", ")}))`;if(e instanceof RegExp)return`//js(${e})`;if(e instanceof Date)return`//js(Date("${e.toISOString()}"))`;if(e instanceof Function){let n=[];for(let r of Array(e.length).keys())n.push(String.fromCharCode(r+97));return`//fn(${n.join(", ")}) { ... }`}return Jd(e)}function Wd(e){let t='"';for(let n=0;n<e.length;n++){let r=e[n];switch(r){case`
`:t+="\\n";break;case"\r":t+="\\r";break;case"	":t+="\\t";break;case"\f":t+="\\f";break;case"\\":t+="\\\\";break;case'"':t+='\\"';break;default:r<" "||r>"~"&&r<"\xA0"?t+="\\u{"+r.charCodeAt(0).toString(16).toUpperCase().padStart(4,"0")+"}":t+=r}}return t+='"',t}function Hd(e){let t="dict.from_list([",n=!0;return e.forEach((r,i)=>{n||(t=t+", "),t=t+"#("+jt(i)+", "+jt(r)+")",n=!1}),t+"])"}function Jd(e){let t=Object.getPrototypeOf(e)?.constructor?.name||"Object",n=[];for(let s of Object.keys(e))n.push(`${jt(s)}: ${jt(e[s])}`);let r=n.length?" "+n.join(", ")+" ":"";return`//js(${t==="Object"?"":t+" "}{${r}})`}function Kd(e){let t=Object.keys(e).map(n=>{let r=jt(e[n]);return isNaN(parseInt(n))?`${n}: ${r}`:r}).join(", ");return t?`${e.constructor.name}(${t})`:e.constructor.name}function Vd(e){return`[${e.toArray().map(jt).join(", ")}]`}function Yd(e){return`//utfcodepoint(${String.fromCodePoint(e.value)})`}function Cu(e,t){if(e.bitSize===0)return t;for(let n=0;n<e.byteSize-1;n++)t+=e.byteAt(n).toString(),t+=", ";if(e.byteSize*8===e.bitSize)t+=e.byteAt(e.byteSize-1).toString();else{let n=e.bitSize%8;t+=e.byteAt(e.byteSize-1)>>8-n,t+=`:size(${n})`}return t}function Fn(e){return e>=0?e:e*-1}function ks(e,t){return e===t?new ce:e<t?new ie:new qe}var qs=class extends _{constructor(t){super(),this[0]=t}},jr=class extends _{},bi=class extends _{},yi=class extends _{},Er=class extends _{},Hn=class extends _{},vi=class extends _{},ki=class extends _{},Ai=class extends _{},Ps=class extends _{};function dn(e,t){return[Nn(e,t),Pn(e,t)]}var Yu=1e3;var Zu=1e6;var Qu=6e7;var Xu=36e8;var ec=864e8;var tc=6048e8;var nc=2592e9;var rc=31536e9;function ic(e){let n=Ge(e,0,(r,i)=>{let s=i[1];if(s instanceof jr){let o=i[0];return r+o}else if(s instanceof bi){let o=i[0];return r+o*Yu}else if(s instanceof yi){let o=i[0];return r+o*Zu}else if(s instanceof Er){let o=i[0];return r+o*Qu}else if(s instanceof Hn){let o=i[0];return r+o*Xu}else if(s instanceof vi){let o=i[0];return r+o*ec}else if(s instanceof ki){let o=i[0];return r+o*tc}else if(s instanceof Ai){let o=i[0];return r+o*nc}else{let o=i[0];return r+o*rc}});return new qs(n)}function sc(e){let t=e[0],n=Fn(t),r=dn(n,rc),i=r[0],s=r[1],o=dn(s,nc),a=o[0],u=o[1],c=dn(u,tc),d=c[0],p=c[1],w=dn(p,ec),v=w[0],k=w[1],B=dn(k,Xu),j=B[0],Z=B[1],Q=dn(Z,Qu),I=Q[0],L=Q[1],C=dn(L,Zu),$e=C[0],Cn=C[1],fu=dn(Cn,Yu),Sp=fu[0],jp=fu[1],Ep=l([[i,new Ps],[a,new Ai],[d,new ki],[v,new vi],[j,new Hn],[I,new Er],[$e,new yi],[Sp,new bi],[jp,new jr]]),Tp=zt(Ep,ui=>ui[0]>0);return M(Tp,ui=>t<0?[-1*ui[0],ui[1]]:ui)}var lc=l([["Africa/Abidjan",0],["Africa/Algiers",3600],["Africa/Bissau",0],["Africa/Cairo",7200],["Africa/Casablanca",3600],["Africa/Ceuta",3600],["Africa/El_Aaiun",3600],["Africa/Johannesburg",7200],["Africa/Juba",7200],["Africa/Khartoum",7200],["Africa/Lagos",3600],["Africa/Maputo",7200],["Africa/Monrovia",0],["Africa/Nairobi",10800],["Africa/Ndjamena",3600],["Africa/Sao_Tome",0],["Africa/Tripoli",7200],["Africa/Tunis",3600],["Africa/Windhoek",7200],["America/Adak",-36e3],["America/Anchorage",-32400],["America/Araguaina",-10800],["America/Argentina/Buenos_Aires",-10800],["America/Argentina/Catamarca",-10800],["America/Argentina/Cordoba",-10800],["America/Argentina/Jujuy",-10800],["America/Argentina/La_Rioja",-10800],["America/Argentina/Mendoza",-10800],["America/Argentina/Rio_Gallegos",-10800],["America/Argentina/Salta",-10800],["America/Argentina/San_Juan",-10800],["America/Argentina/San_Luis",-10800],["America/Argentina/Tucuman",-10800],["America/Argentina/Ushuaia",-10800],["America/Asuncion",-14400],["America/Bahia",-10800],["America/Bahia_Banderas",-21600],["America/Barbados",-14400],["America/Belem",-10800],["America/Belize",-21600],["America/Boa_Vista",-14400],["America/Bogota",-18e3],["America/Boise",-25200],["America/Cambridge_Bay",-25200],["America/Campo_Grande",-14400],["America/Cancun",-18e3],["America/Caracas",-14400],["America/Cayenne",-10800],["America/Chicago",-21600],["America/Chihuahua",-21600],["America/Ciudad_Juarez",-25200],["America/Costa_Rica",-21600],["America/Cuiaba",-14400],["America/Danmarkshavn",0],["America/Dawson",-25200],["America/Dawson_Creek",-25200],["America/Denver",-25200],["America/Detroit",-18e3],["America/Edmonton",-25200],["America/Eirunepe",-18e3],["America/El_Salvador",-21600],["America/Fort_Nelson",-25200],["America/Fortaleza",-10800],["America/Glace_Bay",-14400],["America/Goose_Bay",-14400],["America/Grand_Turk",-18e3],["America/Guatemala",-21600],["America/Guayaquil",-18e3],["America/Guyana",-14400],["America/Halifax",-14400],["America/Havana",-18e3],["America/Hermosillo",-25200],["America/Indiana/Indianapolis",-18e3],["America/Indiana/Knox",-21600],["America/Indiana/Marengo",-18e3],["America/Indiana/Petersburg",-18e3],["America/Indiana/Tell_City",-21600],["America/Indiana/Vevay",-18e3],["America/Indiana/Vincennes",-18e3],["America/Indiana/Winamac",-18e3],["America/Inuvik",-25200],["America/Iqaluit",-18e3],["America/Jamaica",-18e3],["America/Juneau",-32400],["America/Kentucky/Louisville",-18e3],["America/Kentucky/Monticello",-18e3],["America/La_Paz",-14400],["America/Lima",-18e3],["America/Los_Angeles",-28800],["America/Maceio",-10800],["America/Managua",-21600],["America/Manaus",-14400],["America/Martinique",-14400],["America/Matamoros",-21600],["America/Mazatlan",-25200],["America/Menominee",-21600],["America/Merida",-21600],["America/Metlakatla",-32400],["America/Mexico_City",-21600],["America/Miquelon",-10800],["America/Moncton",-14400],["America/Monterrey",-21600],["America/Montevideo",-10800],["America/New_York",-18e3],["America/Nome",-32400],["America/Noronha",-7200],["America/North_Dakota/Beulah",-21600],["America/North_Dakota/Center",-21600],["America/North_Dakota/New_Salem",-21600],["America/Nuuk",-7200],["America/Ojinaga",-21600],["America/Panama",-18e3],["America/Paramaribo",-10800],["America/Phoenix",-25200],["America/Port-au-Prince",-18e3],["America/Porto_Velho",-14400],["America/Puerto_Rico",-14400],["America/Punta_Arenas",-10800],["America/Rankin_Inlet",-21600],["America/Recife",-10800],["America/Regina",-21600],["America/Resolute",-21600],["America/Rio_Branco",-18e3],["America/Santarem",-10800],["America/Santiago",-14400],["America/Santo_Domingo",-14400],["America/Sao_Paulo",-10800],["America/Scoresbysund",-7200],["America/Sitka",-32400],["America/St_Johns",-12600],["America/Swift_Current",-21600],["America/Tegucigalpa",-21600],["America/Thule",-14400],["America/Tijuana",-28800],["America/Toronto",-18e3],["America/Vancouver",-28800],["America/Whitehorse",-25200],["America/Winnipeg",-21600],["America/Yakutat",-32400],["Antarctica/Casey",28800],["Antarctica/Davis",25200],["Antarctica/Macquarie",36e3],["Antarctica/Mawson",18e3],["Antarctica/Palmer",-10800],["Antarctica/Rothera",-10800],["Antarctica/Troll",0],["Antarctica/Vostok",18e3],["Asia/Almaty",18e3],["Asia/Amman",10800],["Asia/Anadyr",43200],["Asia/Aqtau",18e3],["Asia/Aqtobe",18e3],["Asia/Ashgabat",18e3],["Asia/Atyrau",18e3],["Asia/Baghdad",10800],["Asia/Baku",14400],["Asia/Bangkok",25200],["Asia/Barnaul",25200],["Asia/Beirut",7200],["Asia/Bishkek",21600],["Asia/Chita",32400],["Asia/Colombo",19800],["Asia/Damascus",10800],["Asia/Dhaka",21600],["Asia/Dili",32400],["Asia/Dubai",14400],["Asia/Dushanbe",18e3],["Asia/Famagusta",7200],["Asia/Gaza",7200],["Asia/Hebron",7200],["Asia/Ho_Chi_Minh",25200],["Asia/Hong_Kong",28800],["Asia/Hovd",25200],["Asia/Irkutsk",28800],["Asia/Jakarta",25200],["Asia/Jayapura",32400],["Asia/Jerusalem",7200],["Asia/Kabul",16200],["Asia/Kamchatka",43200],["Asia/Karachi",18e3],["Asia/Kathmandu",20700],["Asia/Khandyga",32400],["Asia/Kolkata",19800],["Asia/Krasnoyarsk",25200],["Asia/Kuching",28800],["Asia/Macau",28800],["Asia/Magadan",39600],["Asia/Makassar",28800],["Asia/Manila",28800],["Asia/Nicosia",7200],["Asia/Novokuznetsk",25200],["Asia/Novosibirsk",25200],["Asia/Omsk",21600],["Asia/Oral",18e3],["Asia/Pontianak",25200],["Asia/Pyongyang",32400],["Asia/Qatar",10800],["Asia/Qostanay",18e3],["Asia/Qyzylorda",18e3],["Asia/Riyadh",10800],["Asia/Sakhalin",39600],["Asia/Samarkand",18e3],["Asia/Seoul",32400],["Asia/Shanghai",28800],["Asia/Singapore",28800],["Asia/Srednekolymsk",39600],["Asia/Taipei",28800],["Asia/Tashkent",18e3],["Asia/Tbilisi",14400],["Asia/Tehran",12600],["Asia/Thimphu",21600],["Asia/Tokyo",32400],["Asia/Tomsk",25200],["Asia/Ulaanbaatar",28800],["Asia/Urumqi",21600],["Asia/Ust-Nera",36e3],["Asia/Vladivostok",36e3],["Asia/Yakutsk",32400],["Asia/Yangon",23400],["Asia/Yekaterinburg",18e3],["Asia/Yerevan",14400],["Atlantic/Azores",-3600],["Atlantic/Bermuda",-14400],["Atlantic/Canary",0],["Atlantic/Cape_Verde",-3600],["Atlantic/Faroe",0],["Atlantic/Madeira",0],["Atlantic/South_Georgia",-7200],["Atlantic/Stanley",-10800],["Australia/Adelaide",34200],["Australia/Brisbane",36e3],["Australia/Broken_Hill",34200],["Australia/Darwin",34200],["Australia/Eucla",31500],["Australia/Hobart",36e3],["Australia/Lindeman",36e3],["Australia/Lord_Howe",37800],["Australia/Melbourne",36e3],["Australia/Perth",28800],["Australia/Sydney",36e3],["Etc/GMT",0],["Etc/GMT+1",-3600],["Etc/GMT+10",-36e3],["Etc/GMT+11",-39600],["Etc/GMT+12",-43200],["Etc/GMT+2",-7200],["Etc/GMT+3",-10800],["Etc/GMT+4",-14400],["Etc/GMT+5",-18e3],["Etc/GMT+6",-21600],["Etc/GMT+7",-25200],["Etc/GMT+8",-28800],["Etc/GMT+9",-32400],["Etc/GMT-1",3600],["Etc/GMT-10",36e3],["Etc/GMT-11",39600],["Etc/GMT-12",43200],["Etc/GMT-13",46800],["Etc/GMT-14",50400],["Etc/GMT-2",7200],["Etc/GMT-3",10800],["Etc/GMT-4",14400],["Etc/GMT-5",18e3],["Etc/GMT-6",21600],["Etc/GMT-7",25200],["Etc/GMT-8",28800],["Etc/GMT-9",32400],["Etc/UTC",0],["Europe/Andorra",3600],["Europe/Astrakhan",14400],["Europe/Athens",7200],["Europe/Belgrade",3600],["Europe/Berlin",3600],["Europe/Brussels",3600],["Europe/Bucharest",7200],["Europe/Budapest",3600],["Europe/Chisinau",7200],["Europe/Dublin",3600],["Europe/Gibraltar",3600],["Europe/Helsinki",7200],["Europe/Istanbul",10800],["Europe/Kaliningrad",7200],["Europe/Kirov",10800],["Europe/Kyiv",7200],["Europe/Lisbon",0],["Europe/London",0],["Europe/Madrid",3600],["Europe/Malta",3600],["Europe/Minsk",10800],["Europe/Moscow",10800],["Europe/Paris",3600],["Europe/Prague",3600],["Europe/Riga",7200],["Europe/Rome",3600],["Europe/Samara",14400],["Europe/Saratov",14400],["Europe/Simferopol",10800],["Europe/Sofia",7200],["Europe/Tallinn",7200],["Europe/Tirane",3600],["Europe/Ulyanovsk",14400],["Europe/Vienna",3600],["Europe/Vilnius",7200],["Europe/Volgograd",10800],["Europe/Warsaw",3600],["Europe/Zurich",3600],["Indian/Chagos",21600],["Indian/Maldives",18e3],["Indian/Mauritius",14400],["Pacific/Apia",46800],["Pacific/Auckland",43200],["Pacific/Bougainville",39600],["Pacific/Chatham",45900],["Pacific/Easter",-21600],["Pacific/Efate",39600],["Pacific/Fakaofo",46800],["Pacific/Fiji",43200],["Pacific/Galapagos",-21600],["Pacific/Gambier",-32400],["Pacific/Guadalcanal",39600],["Pacific/Guam",36e3],["Pacific/Honolulu",-36e3],["Pacific/Kanton",46800],["Pacific/Kiritimati",50400],["Pacific/Kosrae",39600],["Pacific/Kwajalein",43200],["Pacific/Marquesas",-34200],["Pacific/Nauru",43200],["Pacific/Niue",-39600],["Pacific/Norfolk",39600],["Pacific/Noumea",39600],["Pacific/Pago_Pago",-39600],["Pacific/Palau",32400],["Pacific/Pitcairn",-28800],["Pacific/Port_Moresby",36e3],["Pacific/Rarotonga",-36e3],["Pacific/Tahiti",-36e3],["Pacific/Tarawa",43200],["Pacific/Tongatapu",46800]]);function oc(){return Date.now()*1e3}function ac(){return-new Date().getTimezoneOffset()}function uc(){return new $(Intl.DateTimeFormat().resolvedOptions().timeZone)}function cc(){return Math.floor(globalThis.performance.now()*1e3)}function fc(e,t){let n=new Date((e+t)/1e3);return[[n.getUTCFullYear(),n.getUTCMonth()+1,n.getUTCDate()],[n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),n.getUTCMilliseconds()]]}var s_="src/birl.gleam",Ns=class extends _{constructor(t,n,r,i){super(),this.wall_time=t,this.offset=n,this.timezone=r,this.monotonic_time=i}};function dc(e){let t=e.wall_time;return Nn(t,1e3)}function Jn(e){return new Ns(e*1e3,0,new x,new x)}function _c(e,t){let n=e.wall_time,r=e.monotonic_time,i=t.wall_time,s=t.monotonic_time,o;if(s instanceof $)if(r instanceof $){let w=s[0];o=[r[0],w]}else o=[n,i];else o=[n,i];let a=o,u=a[0],c=a[1],d=u===c,p=u<c;return d?new ce:p?new ie:new qe}function l_(e){return vt(e===0,new g("Z"),()=>{let t=(()=>{let n=l([[e,new jr]]),r=ic(n);return sc(r)})();if(t instanceof y)return new A(void 0);{let n=t.tail;if(n instanceof y)if(t.head[1]instanceof Hn){let i=t.head[0],s=l([i>0?un(l(["+",(()=>{let c=F(i);return cn(c,2,"0")})()])):un(l(["-",(()=>{let c=Fn(i),d=F(c);return cn(d,2,"0")})()])),"00"]),o=ot(s,":");return new g(o)}else return new A(void 0);else if(n.tail instanceof y)if(n.head[1]instanceof Er)if(t.head[1]instanceof Hn){let o=n.head[0],a=t.head[0],u=l([a>0?un(l(["+",(()=>{let w=F(a);return cn(w,2,"0")})()])):un(l(["-",(()=>{let w=Fn(a),v=F(w);return cn(v,2,"0")})()])),(()=>{let p=Fn(o),w=F(p);return cn(w,2,"0")})()]),c=ot(u,":");return new g(c)}else return new A(void 0);else return new A(void 0);else return new A(void 0)}})}function o_(e){let t=e.wall_time,n=e.offset,r=fc(t,n),i=r[0],s=r[1],o=l_(n);if(!(o instanceof g))throw K("let_assert",s_,"birl",1324,"to_parts","Pattern match failed, no pattern matched the value.",{value:o,start:33803,end:33845,pattern_start:33814,pattern_end:33824});let a=o[0];return[i,s,a]}function Tr(e){let t=o_(e),n=t[0][0],r=t[0][1],i=t[0][2];return F(n)+"-"+(()=>{let o=F(r);return cn(o,2,"0")})()+"-"+(()=>{let o=F(i);return cn(o,2,"0")})()}function $c(){let e=oc(),t=ac(),n=cc(),r=uc();return new Ns(e,t*6e7,(()=>{let i=yr(r,s=>fi(lc,a=>a[0]===s)?new $(s):new x);return mu(i)})(),new $(n))}var zi=class extends _{constructor(t){super(),this.dict=t}};function Ls(){return new zi(ee())}function na(e,t){let n=e.dict,r=$t(n,t);return qu(r)}function hc(e,t){return new zi(ko(e.dict,t))}var a_=void 0;function ra(e,t){return new zi(Qe(e.dict,t,a_))}var O=class extends _{constructor(t,n,r,i,s,o,a){super(),this.scheme=t,this.userinfo=n,this.host=r,this.port=i,this.path=s,this.query=o,this.fragment=a}};function f_(e){return 48>=e&&e<=57||65>=e&&e<=90||97>=e&&e<=122||e===58||e===46}function Ct(e,t){return new g((()=>{let n=t;return new O(n.scheme,n.userinfo,n.host,n.port,n.path,n.query,new $(e))})())}function p_(e,t,n,r){for(;;){let i=e,s=t,o=n,a=r;if(s.startsWith("#"))if(a===0){let u=s.slice(1);return Ct(u,o)}else{let u=s.slice(1),c=Se(i,0,a),d,p=o;return d=new O(p.scheme,p.userinfo,p.host,p.port,p.path,new $(c),p.fragment),Ct(u,d)}else{if(s==="")return new g((()=>{let u=o;return new O(u.scheme,u.userinfo,u.host,u.port,u.path,new $(i),u.fragment)})());{let c=Wn(s)[1];e=i,t=c,n=o,r=a+1}}}}function _n(e,t){return p_(e,e,t,0)}function d_(e,t,n,r){for(;;){let i=e,s=t,o=n,a=r;if(s.startsWith("?")){let u=s.slice(1),c=Se(i,0,a),d,p=o;return d=new O(p.scheme,p.userinfo,p.host,p.port,c,p.query,p.fragment),_n(u,d)}else if(s.startsWith("#")){let u=s.slice(1),c=Se(i,0,a),d,p=o;return d=new O(p.scheme,p.userinfo,p.host,p.port,c,p.query,p.fragment),Ct(u,d)}else{if(s==="")return new g((()=>{let u=o;return new O(u.scheme,u.userinfo,u.host,u.port,i,u.query,u.fragment)})());{let c=Wn(s)[1];e=i,t=c,n=o,r=a+1}}}}function Cr(e,t){return d_(e,e,t,0)}function Bt(e,t,n){for(;;){let r=e,i=t,s=n;if(r.startsWith("0"))e=r.slice(1),t=i,n=s*10;else if(r.startsWith("1"))e=r.slice(1),t=i,n=s*10+1;else if(r.startsWith("2"))e=r.slice(1),t=i,n=s*10+2;else if(r.startsWith("3"))e=r.slice(1),t=i,n=s*10+3;else if(r.startsWith("4"))e=r.slice(1),t=i,n=s*10+4;else if(r.startsWith("5"))e=r.slice(1),t=i,n=s*10+5;else if(r.startsWith("6"))e=r.slice(1),t=i,n=s*10+6;else if(r.startsWith("7"))e=r.slice(1),t=i,n=s*10+7;else if(r.startsWith("8"))e=r.slice(1),t=i,n=s*10+8;else if(r.startsWith("9"))e=r.slice(1),t=i,n=s*10+9;else if(r.startsWith("?")){let o=r.slice(1),a,u=i;return a=new O(u.scheme,u.userinfo,u.host,new $(s),u.path,u.query,u.fragment),_n(o,a)}else if(r.startsWith("#")){let o=r.slice(1),a,u=i;return a=new O(u.scheme,u.userinfo,u.host,new $(s),u.path,u.query,u.fragment),Ct(o,a)}else if(r.startsWith("/")){let o,a=i;return o=new O(a.scheme,a.userinfo,a.host,new $(s),a.path,a.query,a.fragment),Cr(r,o)}else return r===""?new g((()=>{let o=i;return new O(o.scheme,o.userinfo,o.host,new $(s),o.path,o.query,o.fragment)})()):new A(void 0)}}function Is(e,t){if(e.startsWith(":0")){let n=e.slice(2);return Bt(n,t,0)}else if(e.startsWith(":1")){let n=e.slice(2);return Bt(n,t,1)}else if(e.startsWith(":2")){let n=e.slice(2);return Bt(n,t,2)}else if(e.startsWith(":3")){let n=e.slice(2);return Bt(n,t,3)}else if(e.startsWith(":4")){let n=e.slice(2);return Bt(n,t,4)}else if(e.startsWith(":5")){let n=e.slice(2);return Bt(n,t,5)}else if(e.startsWith(":6")){let n=e.slice(2);return Bt(n,t,6)}else if(e.startsWith(":7")){let n=e.slice(2);return Bt(n,t,7)}else if(e.startsWith(":8")){let n=e.slice(2);return Bt(n,t,8)}else if(e.startsWith(":9")){let n=e.slice(2);return Bt(n,t,9)}else{if(e.startsWith(":"))return new A(void 0);if(e.startsWith("?")){let n=e.slice(1);return _n(n,t)}else if(e.startsWith("#")){let n=e.slice(1);return Ct(n,t)}else return e.startsWith("/")?Cr(e,t):e===""?new g(t):new A(void 0)}}function gc(e,t,n,r){for(;;){let i=e,s=t,o=n,a=r;if(s==="")return new g((()=>{let u=o;return new O(u.scheme,u.userinfo,new $(i),u.port,u.path,u.query,u.fragment)})());if(s.startsWith(":")){let u=Se(i,0,a),c,d=o;return c=new O(d.scheme,d.userinfo,new $(u),d.port,d.path,d.query,d.fragment),Is(s,c)}else if(s.startsWith("/")){let u=Se(i,0,a),c,d=o;return c=new O(d.scheme,d.userinfo,new $(u),d.port,d.path,d.query,d.fragment),Cr(s,c)}else if(s.startsWith("?")){let u=s.slice(1),c=Se(i,0,a),d,p=o;return d=new O(p.scheme,p.userinfo,new $(c),p.port,p.path,p.query,p.fragment),_n(u,d)}else if(s.startsWith("#")){let u=s.slice(1),c=Se(i,0,a),d,p=o;return d=new O(p.scheme,p.userinfo,new $(c),p.port,p.path,p.query,p.fragment),Ct(u,d)}else{let c=Wn(s)[1];e=i,t=c,n=o,r=a+1}}}function __(e,t,n,r){for(;;){let i=e,s=t,o=n,a=r;if(s==="")return new g((()=>{let u=o;return new O(u.scheme,u.userinfo,new $(s),u.port,u.path,u.query,u.fragment)})());if(s.startsWith("]"))if(a===0){let u=s.slice(1);return Is(u,o)}else{let u=s.slice(1),c=Se(i,0,a+1),d,p=o;return d=new O(p.scheme,p.userinfo,new $(c),p.port,p.path,p.query,p.fragment),Is(u,d)}else if(s.startsWith("/")){if(a===0)return Cr(s,o);{let u=Se(i,0,a),c,d=o;return c=new O(d.scheme,d.userinfo,new $(u),d.port,d.path,d.query,d.fragment),Cr(s,c)}}else if(s.startsWith("?"))if(a===0){let u=s.slice(1);return _n(u,o)}else{let u=s.slice(1),c=Se(i,0,a),d,p=o;return d=new O(p.scheme,p.userinfo,new $(c),p.port,p.path,p.query,p.fragment),_n(u,d)}else if(s.startsWith("#"))if(a===0){let u=s.slice(1);return Ct(u,o)}else{let u=s.slice(1),c=Se(i,0,a),d,p=o;return d=new O(p.scheme,p.userinfo,new $(c),p.port,p.path,p.query,p.fragment),Ct(u,d)}else{let u=Wn(s),c=u[0],d=u[1];if(f_(c))e=i,t=d,n=o,r=a+1;else return gc(i,i,o,0)}}}function $_(e,t){return __(e,e,t,0)}function m_(e,t){return gc(e,e,t,0)}function Br(e,t){if(e.startsWith("["))return $_(e,t);if(e.startsWith(":")){let n,r=t;return n=new O(r.scheme,r.userinfo,new $(""),r.port,r.path,r.query,r.fragment),Is(e,n)}else return e===""?new g((()=>{let n=t;return new O(n.scheme,n.userinfo,new $(""),n.port,n.path,n.query,n.fragment)})()):m_(e,t)}function h_(e,t,n,r){for(;;){let i=e,s=t,o=n,a=r;if(s.startsWith("@"))if(a===0){let u=s.slice(1);return Br(u,o)}else{let u=s.slice(1),c=Se(i,0,a),d,p=o;return d=new O(p.scheme,new $(c),p.host,p.port,p.path,p.query,p.fragment),Br(u,d)}else{if(s==="")return Br(i,o);if(s.startsWith("/"))return Br(i,o);if(s.startsWith("?"))return Br(i,o);if(s.startsWith("#"))return Br(i,o);{let c=Wn(s)[1];e=i,t=c,n=o,r=a+1}}}}function w_(e,t){return h_(e,e,t,0)}function ia(e,t){if(e==="//")return new g((()=>{let n=t;return new O(n.scheme,n.userinfo,new $(""),n.port,n.path,n.query,n.fragment)})());if(e.startsWith("//")){let n=e.slice(2);return w_(n,t)}else return Cr(e,t)}function g_(e,t,n,r){for(;;){let i=e,s=t,o=n,a=r;if(s.startsWith("/")){if(a===0)return ia(s,o);{let u=Se(i,0,a),c,d=o;return c=new O(new $(Xe(u)),d.userinfo,d.host,d.port,d.path,d.query,d.fragment),ia(s,c)}}else if(s.startsWith("?"))if(a===0){let u=s.slice(1);return _n(u,o)}else{let u=s.slice(1),c=Se(i,0,a),d,p=o;return d=new O(new $(Xe(c)),p.userinfo,p.host,p.port,p.path,p.query,p.fragment),_n(u,d)}else if(s.startsWith("#"))if(a===0){let u=s.slice(1);return Ct(u,o)}else{let u=s.slice(1),c=Se(i,0,a),d,p=o;return d=new O(new $(Xe(c)),p.userinfo,p.host,p.port,p.path,p.query,p.fragment),Ct(u,d)}else if(s.startsWith(":")){if(a===0)return new A(void 0);{let u=s.slice(1),c=Se(i,0,a),d,p=o;return d=new O(new $(Xe(c)),p.userinfo,p.host,p.port,p.path,p.query,p.fragment),ia(u,d)}}else{if(s==="")return new g((()=>{let u=o;return new O(u.scheme,u.userinfo,u.host,u.port,i,u.query,u.fragment)})());{let c=Wn(s)[1];e=i,t=c,n=o,r=a+1}}}}function x_(e,t){for(;;){let n=e,r=t;if(n instanceof y)return T(r);{let i=n.head,s=n.tail,o;i===""||i==="."?o=r:i===".."?r instanceof y?o=l([]):o=r.tail:o=b(i,r);let a=o;e=s,t=a}}}function b_(e){return x_(e,l([]))}function Si(e){return b_(Jt(e,"/"))}function Ee(e){let t,n=e.fragment;if(n instanceof $){let C=n[0];t=l(["#",C])}else t=l([]);let r=t,i,s=e.query;if(s instanceof $){let C=s[0];i=b("?",b(C,r))}else i=r;let o=i,a=b(e.path,o),u,c=e.host;fn(e.path,"/")?u=a:c instanceof $&&c[0]!==""?u=b("/",a):u=a;let p=u,w,v=e.host,k=e.port;if(k instanceof $)if(v instanceof $){let C=k[0];w=b(":",b(F(C),p))}else w=p;else w=p;let B=w,j,Z=e.scheme,Q=e.userinfo,I=e.host;if(I instanceof $)if(Q instanceof $)if(Z instanceof $){let C=I[0],$e=Q[0],Cn=Z[0];j=b(Cn,b("://",b($e,b("@",b(C,B)))))}else j=B;else if(Z instanceof $){let C=I[0],$e=Z[0];j=b($e,b("://",b(C,B)))}else{let C=I[0];j=b("//",b(C,B))}else if(Q instanceof $)if(Z instanceof $){let C=Z[0];j=b(C,b(":",B))}else j=B;else if(Z instanceof $){let C=Z[0];j=b(C,b(":",B))}else j=B;return un(j)}var y_=new O(new x,new x,new x,new x,"",new x,new x);function de(e){return g_(e,e,y_,0)}function sa(e,t){if(e instanceof We||e instanceof WeakMap||e instanceof Map){let r={},i=e.get(t,r);return i===r?new g(new x):new g(new $(i))}let n=Number.isInteger(t);if(n&&t>=0&&t<8&&e instanceof re){let r=0;for(let i of e){if(r===t)return new g(new $(i));r++}return new A("Indexable")}return n&&Array.isArray(e)||e&&typeof e=="object"||e&&Object.getPrototypeOf(e)===Object.prototype?t in e?new g(new $(e[t])):new g(new x):new A(n?"Indexable":"Dict")}function xc(e,t,n,r,i){if(!(e instanceof re||Array.isArray(e))){let o=new qt("List",et(e),i);return[i,re.fromArray([o])]}let s=[];for(let o of e){let a=t(o),[u,c]=a;if(c instanceof Ht){let[d,p]=n(a,r.toString());return[i,p]}s.push(u),r++}return[re.fromArray(s),i]}function bc(e){return Number.isInteger(e)?new g(e):new A(0)}function yc(e){return typeof e=="string"?new g(e):new A("")}var qt=class extends _{constructor(t,n,r){super(),this.expected=t,this.found=n,this.path=r}},nt=class extends _{constructor(t){super(),this.function=t}};function Ti(e,t){let n=t.function(e),r=n[0],i=n[1];return i instanceof y?new g(r):new A(i)}function He(e){return new nt(t=>[e,l([])])}function la(e,t){return new nt(n=>{let r=e.function(n),i=r[0],s=r[1];return[t(i),s]})}function vc(e,t){return new nt(n=>{let r=e.function(n),i=r[0],s=r[1],a=t(i).function(n),u=a,c=a[0];return s instanceof y?u:[c,s]})}function v_(e,t,n){for(;;){let r=e,i=t,s=n;if(s instanceof y)return i;{let o=s.head,a=s.tail,u=o.function(r),c=u;if(u[1]instanceof y)return c;e=r,t=i,n=a}}}function Ms(e,t){return new nt(n=>{let r=e.function(n),i=r;return r[1]instanceof y?i:v_(n,i,t)})}function kc(e,t){return l([new qt(e,et(t),l([]))])}function Ac(e,t,n){let r=n(e);return r instanceof g?[r[0],l([])]:[r[0],l([new qt(t,et(e),l([]))])]}function k_(e){return P(!0,e)?[!0,l([])]:P(!1,e)?[!1,l([])]:[!1,kc("Bool",e)]}function A_(e){return Ac(e,"Int",bc)}function zc(e,t){return new nt(n=>[e,kc(t,n)])}var Sc=new nt(k_),Te=new nt(A_);function z_(e){return Ac(e,"String",yc)}var ke=new nt(z_);function Kt(e){return new nt(t=>xc(t,e.function,(n,r)=>Ei(n,l([r])),0,l([])))}function Ei(e,t){let n=Ms(ke,l([la(Te,F)])),r=M(t,s=>{let o=s,a=Ti(o,n);return a instanceof g?a[0]:"<"+et(o)+">"}),i=M(e[1],s=>{let o=s;return new qt(o.expected,o.found,pe(r,s.path))});return[e[0],i]}function S_(e,t,n,r,i){for(;;){let s=e,o=t,a=n,u=r,c=i;if(s instanceof y){let d=a(u);return Ei(d,T(o))}else{let d=s.head,p=s.tail,w=sa(u,d);if(w instanceof g){let v=w[0];if(v instanceof $){let k=v[0];e=p,t=b(d,o),n=a,r=k,i=c}else return c(u,b(d,o))}else{let v=w[0],j=[a(u)[0],l([new qt(v,et(u),l([]))])];return Ei(j,T(o))}}}}function j_(e,t,n){return new nt(r=>{let i=S_(e,l([]),t.function,r,(d,p)=>{let k=[t.function(d)[0],l([new qt("Field","Nothing",l([]))])];return Ei(k,T(p))}),s=i[0],o=i[1],a=n(s).function(r),u=a[0],c=a[1];return[u,pe(o,c)]})}function W(e,t,n){return j_(l([e]),t,n)}function oa(e,t,n,r){return new nt(i=>{let s,o,a=sa(i,e);if(a instanceof g){let B=a[0];if(B instanceof $){let j=B[0];o=n.function(j)}else o=[t,l([])]}else{let B=a[0];o=[t,l([new qt(B,et(i),l([]))])]}s=Ei(o,l([e]));let c=s,d=c[0],p=c[1],w=r(d).function(i),v=w[0],k=w[1];return[v,pe(p,k)]})}function aa(e){return JSON.stringify(e)}function jc(e){return Object.fromEntries(e)}function Ec(e){return e.toArray()}function Tc(e){try{let t=JSON.parse(e);return new g(t)}catch(t){return new A(T_(t,e))}}function T_(e,t){return B_(e)?new qr:C_(e,t)}function B_(e){return/((unexpected (end|eof))|(end of data)|(unterminated string)|(json( parse error|\.parse)\: expected '(\:|\}|\])'))/i.test(e.message)}function C_(e,t){let n=[q_,P_,L_,N_];for(let r of n){let i=r(e,t);if(i)return i}return new Pt("",0)}function q_(e){let n=/unexpected token '(.)', ".+" is not valid JSON/i.exec(e.message);if(!n)return null;let r=Os(n[1]);return new Pt(r,-1)}function P_(e){let n=/unexpected token (.) in JSON at position (\d+)/i.exec(e.message);if(!n)return null;let r=Os(n[1]),i=Number(n[2]);return new Pt(r,i)}function N_(e,t){let r=/(unexpected character|expected .*) at line (\d+) column (\d+)/i.exec(e.message);if(!r)return null;let i=Number(r[2]),s=Number(r[3]),o=I_(i,s,t),a=Os(t[o]);return new Pt(a,o)}function L_(e){let n=/unexpected (identifier|token) "(.)"/i.exec(e.message);if(!n)return null;let r=Os(n[2]);return new Pt(r,0)}function Os(e){return"0x"+e.charCodeAt(0).toString(16).toUpperCase()}function I_(e,t,n){if(e===1)return t-1;let r=1,i=0;return n.split("").find((s,o)=>(s===`
`&&(r+=1),r===e?(i=o+t,!0):!1)),i}var qr=class extends _{},Pt=class extends _{constructor(t){super(),this[0]=t}},Us=class extends _{constructor(t){super(),this[0]=t}},Ds=class extends _{constructor(t){super(),this[0]=t}},ua=class extends _{constructor(t){super(),this[0]=t}};function M_(e,t){return at(Tc(e),n=>{let r=Ti(n,t);return Es(r,i=>new ua(i))})}function Bc(e,t){return M_(e,t)}function ht(e){return aa(e)}function be(e){return e}function fa(e){return e}function Nt(e){return e}function wt(e){return jc(e)}function pa(e){return Ec(e)}function Ci(e,t){let r=M(e,t);return pa(r)}var qi=class extends _{constructor(t){super(),this.all=t}};function Cc(e){return new qi(l([t=>e(t.dispatch,t.emit,t.select,t.root)]))}function Vt(e){return Cc((t,n,r,i)=>e(t))}function S(){return new qi(l([]))}function Kn(e){return new qi(Ge(e,l([]),(t,n)=>{let r=n.all;return pe(t,r)}))}var Yn=class extends _{constructor(t){super(),this.content=t}},we=class extends _{constructor(t,n,r,i,s,o,a){super(),this.key=t,this.namespace=n,this.tag=r,this.attrs=i,this.children=s,this.self_closing=o,this.void=a}};var Zn=class extends _{constructor(t,n,r){super(),this[0]=t,this[1]=n,this.as_property=r}},Pi=class extends _{constructor(t,n){super(),this[0]=t,this[1]=n}};function D_(e){if(e instanceof Zn)return new A(void 0);{let t=e[0],n=e[1],r=zs(t,2);return new g([r,n])}}function R_(e,t,n){return jo(e,t,(r,i,s)=>{let o=n+"-"+F(s);return qc(i,r,o)})}function qc(e,t,n){for(;;){let r=e,i=t,s=n;if(r instanceof Yn)return i;if(r instanceof we){let o=r.attrs,a=r.children,u=Ge(o,i,(c,d)=>{let p=D_(d);if(p instanceof g){let w=p[0][0],v=p[0][1];return Qe(c,s+"-"+w,v)}else return c});return R_(a,u,s)}else{let o=r.subtree;e=o(),t=i,n=s}}}function Pc(e){return qc(e,ee(),"0")}function E(e,t){return new Zn(e,t,!1)}function Lc(e,t){return new Zn(e,t,!0)}function Ic(e,t){return new Pi("on"+e,t)}function f(e){return E("class",e)}function Ni(e){return E("class",(()=>{let n=On(e,r=>r[1]?new g(r[0]):new A(void 0));return ot(n," ")})())}function mn(e){return E("id",e)}function Mc(e){return E("role",e)}function hn(e){return E("title",e)}function Oc(e){return E("type",e)}function Yt(e){return E("value",e)}function Qn(e){return E("placeholder",e)}function Xn(e){return Lc("disabled",e)}function da(e){return Lc("required",e)}function er(e){return E("href",e)}function Uc(e){return E("src",e)}function Dc(e){return E("alt",e)}function J(e,t,n){return e==="area"?new we("","",e,t,l([]),!1,!0):e==="base"?new we("","",e,t,l([]),!1,!0):e==="br"?new we("","",e,t,l([]),!1,!0):e==="col"?new we("","",e,t,l([]),!1,!0):e==="embed"?new we("","",e,t,l([]),!1,!0):e==="hr"?new we("","",e,t,l([]),!1,!0):e==="img"?new we("","",e,t,l([]),!1,!0):e==="input"?new we("","",e,t,l([]),!1,!0):e==="link"?new we("","",e,t,l([]),!1,!0):e==="meta"?new we("","",e,t,l([]),!1,!0):e==="param"?new we("","",e,t,l([]),!1,!0):e==="source"?new we("","",e,t,l([]),!1,!0):e==="track"?new we("","",e,t,l([]),!1,!0):e==="wbr"?new we("","",e,t,l([]),!1,!0):new we("","",e,t,n,!1,!1)}function Li(e,t,n,r){return new we("",e,t,n,r,!1,!1)}function Ii(e){return new Yn(e)}function le(){return new Yn("")}var Rs=class extends _{constructor(t){super(),this[0]=t}},Fs=class extends _{constructor(t,n){super(),this[0]=t,this[1]=n}},Gs=class extends _{constructor(t,n){super(),this[0]=t,this[1]=n}};function Rc(e){return P(e.created,ee())&&P(e.removed,Ls())&&P(e.updated,ee())}var Ws=class extends _{constructor(t){super(),this[0]=t}},Hs=class extends _{constructor(t,n){super(),this[0]=t,this[1]=n}},Oi=class extends _{constructor(t){super(),this[0]=t}},Lt=class extends _{constructor(t){super(),this[0]=t}},Ui=class extends _{constructor(t,n){super(),this[0]=t,this[1]=n}},Js=class extends _{constructor(t,n){super(),this[0]=t,this[1]=n}};var Di=class extends _{},Ks=class extends _{constructor(t,n){super(),this[0]=t,this[1]=n}},Vs=class extends _{constructor(t){super(),this[0]=t}},Ys=class extends _{constructor(t){super(),this[0]=t}};globalThis.customElements&&!globalThis.customElements.get("lustre-fragment")&&globalThis.customElements.define("lustre-fragment",class extends HTMLElement{constructor(){super()}});function _a(e,t,n){let r,i=[{prev:e,next:t,parent:e.parentNode}];for(;i.length;){let{prev:s,next:o,parent:a}=i.pop();for(;o.subtree!==void 0;)o=o.subtree();if(o.content!==void 0)if(s)if(s.nodeType===Node.TEXT_NODE)s.textContent!==o.content&&(s.textContent=o.content),r??=s;else{let u=document.createTextNode(o.content);a.replaceChild(u,s),r??=u}else{let u=document.createTextNode(o.content);a.appendChild(u),r??=u}else if(o.tag!==void 0){let u=H_({prev:s,next:o,dispatch:n,stack:i});s?s!==u&&a.replaceChild(u,s):a.appendChild(u),r??=u}}return r}function H_({prev:e,next:t,dispatch:n,stack:r}){let i=t.namespace||"http://www.w3.org/1999/xhtml",s=e&&e.nodeType===Node.ELEMENT_NODE&&e.localName===t.tag&&e.namespaceURI===(t.namespace||"http://www.w3.org/1999/xhtml"),o=s?e:i?document.createElementNS(i,t.tag):document.createElement(t.tag),a;if(Ri.has(o))a=Ri.get(o);else{let I=new Map;Ri.set(o,I),a=I}let u=s?new Set(a.keys()):null,c=s?new Set(Array.from(e.attributes,I=>I.name)):null,d=null,p=null,w=null;if(s&&t.tag==="textarea"){let I=t.children[Symbol.iterator]().next().value?.content;I!==void 0&&(o.value=I)}let v=[];for(let I of t.attrs){let L=I[0],C=I[1];if(I.as_property)o[L]!==C&&(o[L]=C),s&&c.delete(L);else if(L.startsWith("on")){let $e=L.slice(2),Cn=n(C,$e==="input");a.has($e)||o.addEventListener($e,Fi),a.set($e,Cn),s&&u.delete($e)}else if(L.startsWith("data-lustre-on-")){let $e=L.slice(15),Cn=n(J_);a.has($e)||o.addEventListener($e,Fi),a.set($e,Cn),o.setAttribute(L,C),s&&(u.delete($e),c.delete(L))}else L.startsWith("delegate:data-")||L.startsWith("delegate:aria-")?(o.setAttribute(L,C),v.push([L.slice(10),C])):L==="class"?d=d===null?C:d+" "+C:L==="style"?p=p===null?C:p+C:L==="dangerous-unescaped-html"?w=C:(o.getAttribute(L)!==C&&o.setAttribute(L,C),(L==="value"||L==="selected")&&(o[L]=C),s&&c.delete(L))}if(d!==null&&(o.setAttribute("class",d),s&&c.delete("class")),p!==null&&(o.setAttribute("style",p),s&&c.delete("style")),s){for(let I of c)o.removeAttribute(I);for(let I of u)a.delete(I),o.removeEventListener(I,Fi)}if(t.tag==="slot"&&window.queueMicrotask(()=>{for(let I of o.assignedElements())for(let[L,C]of v)I.hasAttribute(L)||I.setAttribute(L,C)}),t.key!==void 0&&t.key!=="")o.setAttribute("data-lustre-key",t.key);else if(w!==null)return o.innerHTML=w,o;let k=o.firstChild,B=null,j=null,Z=null,Q=Zs(t).next().value;if(s&&Q!==void 0&&Q.key!==void 0&&Q.key!==""){B=new Set,j=Fc(e),Z=Fc(t);for(let I of Zs(t))k=K_(k,I,o,r,Z,j,B)}else for(let I of Zs(t))r.unshift({prev:k,next:I,parent:o}),k=k?.nextSibling;for(;k;){let I=k.nextSibling;o.removeChild(k),k=I}return o}var Ri=new WeakMap;function Fi(e){let t=e.currentTarget;if(!Ri.has(t)){t.removeEventListener(e.type,Fi);return}let n=Ri.get(t);if(!n.has(e.type)){t.removeEventListener(e.type,Fi);return}n.get(e.type)(e)}function J_(e){let t=e.currentTarget,n=t.getAttribute(`data-lustre-on-${e.type}`),r=JSON.parse(t.getAttribute("data-lustre-data")||"{}"),i=JSON.parse(t.getAttribute("data-lustre-include")||"[]");switch(e.type){case"input":case"change":i.push("target.value");break}return{tag:n,data:i.reduce((s,o)=>{let a=o.split(".");for(let u=0,c=s,d=e;u<a.length;u++)u===a.length-1?c[a[u]]=d[a[u]]:(c[a[u]]??={},d=d[a[u]],c=c[a[u]]);return s},{data:r})}}function Fc(e){let t=new Map;if(e)for(let n of Zs(e)){let r=n?.key||n?.getAttribute?.("data-lustre-key");r&&t.set(r,n)}return t}function K_(e,t,n,r,i,s,o){for(;e&&!i.has(e.getAttribute("data-lustre-key"));){let u=e.nextSibling;n.removeChild(e),e=u}if(s.size===0)return r.unshift({prev:e,next:t,parent:n}),e=e?.nextSibling,e;if(o.has(t.key))return console.warn(`Duplicate key found in Lustre vnode: ${t.key}`),r.unshift({prev:null,next:t,parent:n}),e;o.add(t.key);let a=s.get(t.key);if(!a&&!e)return r.unshift({prev:null,next:t,parent:n}),e;if(!a&&e!==null){let u=document.createTextNode("");return n.insertBefore(u,e),r.unshift({prev:u,next:t,parent:n}),e}return!a||a===e?(r.unshift({prev:e,next:t,parent:n}),e=e?.nextSibling,e):(n.insertBefore(a,e),r.unshift({prev:a,next:t,parent:n}),e)}function*Zs(e){for(let t of e.children)yield*Gc(t)}function*Gc(e){e.subtree!==void 0?yield*Gc(e.subtree()):yield e}var $a=class e{static start({init:t,update:n,view:r},i,s){if(!Nr())return new A(new Gi);let o=i instanceof HTMLElement?i:document.querySelector(i);if(!o)return new A(new Qs(i));let a=new e(o,t(s),n,r);return new g(u=>a.send(u))}constructor(t,[n,r],i,s){this.root=t,this.#e=n,this.#s=i,this.#n=s,this.#t=window.setTimeout(()=>this.#r(r.all.toArray(),!0),0)}root;send(t){if(t instanceof Oi){if(t[0]instanceof Ys){this.#t=window.clearTimeout(this.#t),this.#i=[],this.#e=t[0][0];let n=this.#n(this.#e),r=(s,o=!1)=>a=>{let u=s(a);u instanceof g&&this.send(new Lt(u[0],o))},i=this.root.firstChild??this.root.appendChild(document.createTextNode(""));_a(i,n,r)}}else if(t instanceof Lt){let n=t[0],r=t[1]??!1;this.#i.push(n),r?(this.#t=window.clearTimeout(this.#t),this.#r()):this.#t||(this.#t=window.setTimeout(()=>this.#r()))}else if(t instanceof Ui){let n=t[0],r=t[1];this.root.dispatchEvent(new CustomEvent(n,{detail:r,bubbles:!0,composed:!0}))}else if(t instanceof Di)for(this.#t=window.clearTimeout(this.#t),this.#e=null,this.#s=null,this.#n=null,this.#i=null;this.root.firstChild;)this.root.firstChild.remove()}#e;#s;#n;#i=[];#t;#r(t=[]){this.#t=void 0,this.#l(t);let n=this.#n(this.#e),r=(s,o=!1)=>a=>{let u=s(a);u instanceof g&&this.send(new Lt(u[0],o))},i=this.root.firstChild??this.root.appendChild(document.createTextNode(""));_a(i,n,r)}#l(t=[]){for(;this.#i.length>0;){let n=this.#i.shift(),[r,i]=this.#s(this.#e,n);t=t.concat(i.all.toArray()),this.#e=r}for(;t.length>0;){let n=t.shift(),r=a=>this.send(new Lt(a)),i=(a,u)=>this.root.dispatchEvent(new CustomEvent(a,{detail:u,bubbles:!0,composed:!0})),s=()=>{},o=this.root;n({dispatch:r,emit:i,select:s,root:o})}this.#i.length>0&&this.#l(t)}},Wc=$a.start;var ma=class e{static start({init:t,update:n,view:r,on_attribute_change:i},s){let o=new e(t(s),n,r,i);return new g(a=>o.send(a))}constructor([t,n],r,i,s){this.#e=t,this.#s=r,this.#i=i,this.#t=i(t),this.#a=s,this.#r=new Map,this.#l=Pc(this.#t),this.#o(n.all.toArray())}send(t){if(t instanceof Ws){for(let n of t[0]){let r=this.#a.get(n[0]);if(!r)continue;let i=r(n[1]);i instanceof A||this.#n.push(i)}this.#o()}else if(t instanceof Hs)this.#n=this.#n.concat(t[0].toArray()),this.#o(t[1].all.toArray());else if(!(t instanceof Oi))if(t instanceof Lt)this.#n.push(t[0]),this.#o();else if(t instanceof Ui){let n=new Fs(t[0],t[1]);for(let[r,i]of this.#r)i(n)}else if(t instanceof Js){let n=this.#l.get(t[0]);if(!n)return;let r=n(t[1]);if(r instanceof A)return;this.#n.push(r[0]),this.#o()}else if(t instanceof Ks){let n=vo(this.#a),r=new Gs(n,this.#t);this.#r=this.#r.set(t[0],t[1]),t[1](r)}else t instanceof Vs&&(this.#r=this.#r.delete(t[0]))}#e;#s;#n;#i;#t;#r;#l;#a;#o(t=[]){this.#u(t);let n=this.#i(this.#e),r=elements(this.#t,n);if(!Rc(r)){let i=new Rs(r);for(let[s,o]of this.#r)o(i)}this.#t=n,this.#l=r.handlers}#u(t=[]){for(;this.#n.length>0;){let n=this.#n.shift(),[r,i]=this.#s(this.#e,n);t=t.concat(i.all.toArray()),this.#e=r}for(;t.length>0;)t.shift()({dispatch:a=>this.send(new Lt(a)),emit:(a,u)=>this.root.dispatchEvent(new CustomEvent(a,{detail:u,bubbles:!0,composed:!0})),select:()=>{},root:null});this.#n.length>0&&this.#u(t)}},V_=ma.start,Nr=()=>globalThis.window&&window.document;var ha=class extends _{constructor(t,n,r,i){super(),this.init=t,this.update=n,this.view=r,this.on_attribute_change=i}};var Qs=class extends _{constructor(t){super(),this.selector=t}},Gi=class extends _{};function Hc(e,t,n){return new ha(e,t,n,new x)}function Jc(e,t,n){return vt(!Nr(),new A(new Gi),()=>Wc(e,t,n))}function m(e){return Ii(e)}function wa(e,t){return J("article",e,t)}function Vc(e,t){return J("header",e,t)}function tr(e,t){return J("h1",e,t)}function Le(e,t){return J("h2",e,t)}function Y(e,t){return J("h3",e,t)}function me(e,t){return J("h4",e,t)}function Yc(e,t){return J("h5",e,t)}function Zc(e,t){return J("h6",e,t)}function Xs(e,t){return J("main",e,t)}function Qc(e,t){return J("nav",e,t)}function gt(e,t){return J("section",e,t)}function h(e,t){return J("div",e,t)}function Xc(e){return J("hr",e,l([]))}function el(e,t){return J("li",e,t)}function se(e,t){return J("p",e,t)}function Ie(e,t){return J("pre",e,t)}function tl(e,t){return J("ul",e,t)}function nr(e,t){return J("a",e,t)}function ef(e){return J("br",e,l([]))}function Be(e,t){return J("code",e,t)}function tf(e,t){return J("em",e,t)}function q(e,t){return J("span",e,t)}function Wi(e,t){return J("strong",e,t)}function nf(e){return J("img",e,l([]))}function nl(e,t){return Li("http://www.w3.org/2000/svg","svg",e,t)}function he(e,t){return J("button",e,t)}function Hi(e){return J("input",e,l([]))}function wn(e,t){return J("label",e,t)}function Lr(e,t){return J("textarea",e,l([Ii(t)]))}function il(e,t){return Ic(e,t)}function Ji(e){return il("click",t=>new g(e))}function te(e){return il("mousedown",t=>new g(e))}function rf(e){return il("mouseenter",t=>new g(e))}function Y_(e){let t=e;return Mo("target",Mo("value",Pu))(t)}function Zt(e){return il("input",t=>{let n=Y_(t);return pn(n,e)})}var Z_={handle_external_links:!1,handle_internal_links:!0},lf=window?.location?.href,xa=()=>lf?new g(ga(new URL(lf))):new A(void 0),ba=(e,t=Z_)=>{document.addEventListener("click",n=>{let r=af(n.target);if(r)try{let i=new URL(r.href),s=ga(i),o=i.host!==window.location.host;return!t.handle_external_links&&o||!t.handle_internal_links&&!o?void 0:(n.preventDefault(),o||(window.history.pushState({},"",r.href),window.requestAnimationFrame(()=>{i.hash&&document.getElementById(i.hash.slice(1))?.scrollIntoView()})),e(s))}catch{return}}),window.addEventListener("popstate",n=>{n.preventDefault();let r=new URL(window.location.href),i=ga(r);window.requestAnimationFrame(()=>{r.hash&&document.getElementById(r.hash.slice(1))?.scrollIntoView()}),e(i)}),window.addEventListener("modem-push",({detail:n})=>{e(n)}),window.addEventListener("modem-replace",({detail:n})=>{e(n)})},of=e=>{window.history.pushState({},"",Ee(e)),window.requestAnimationFrame(()=>{e.fragment[0]&&document.getElementById(e.fragment[0])?.scrollIntoView()}),window.dispatchEvent(new CustomEvent("modem-push",{detail:e}))};var af=e=>!e||e.tagName==="BODY"?null:e.tagName==="A"?e:af(e.parentElement),ga=e=>new O(e.protocol?new $(e.protocol.slice(0,-1)):new x,new x,e.hostname?new $(e.hostname):new x,e.port?new $(Number(e.port)):new x,e.pathname,e.search?new $(e.search.slice(1)):new x,e.hash?new $(e.hash.slice(1)):new x);function uf(e){return Vt(t=>vt(!Nr(),void 0,()=>ba(n=>{let i=e(n);return t(i)})))}var Q_=new O(new x,new x,new x,new x,"",new x,new x);function gn(e,t,n){return Vt(r=>vt(!Nr(),void 0,()=>of((()=>{let i=Q_;return new O(i.scheme,i.userinfo,i.host,i.port,e,t,n)})())))}function Ir(e,t){localStorage.setItem(e,t)}function cf(e){let t=localStorage.getItem(e);return t?new g(t):new A(void 0)}function ff(e){return JSON.parse(e)}function pf(e){navigator.clipboard.writeText(e).then(()=>{}).catch(t=>{console.error("Failed to copy to clipboard:",t)})}function df(e,t){setTimeout(e,t)}var rt=class extends _{},It=class extends _{},ya=class extends _{},rr=class extends _{},ir=class extends _{},va=class extends _{},ka=class extends _{},Aa=class extends _{},za=class extends _{};var Qt=class extends _{},je=class extends _{};function _f(e){return e instanceof rt?"GET":e instanceof It?"POST":e instanceof ya?"HEAD":e instanceof rr?"PUT":e instanceof ir?"DELETE":e instanceof va?"TRACE":e instanceof ka?"CONNECT":e instanceof Aa?"OPTIONS":e instanceof za?"PATCH":e[0]}function $f(e){return e instanceof Qt?"http":"https"}var Mt=class extends _{constructor(t,n,r,i,s,o,a,u){super(),this.method=t,this.headers=n,this.body=r,this.scheme=i,this.host=s,this.port=o,this.path=a,this.query=u}};function hf(e){return new O(new $($f(e.scheme)),new x,new $(e.host),e.port,e.path,e.query,new x)}function sl(e,t,n){let r=Eo(e.headers,Xe(t),n),i=e;return new Mt(i.method,r,i.body,i.scheme,i.host,i.port,i.path,i.query)}function Xt(e,t){let n=e.method,r=e.headers,i=e.scheme,s=e.host,o=e.port,a=e.path,u=e.query;return new Mt(n,r,t,i,s,o,a,u)}function Ce(e,t){let n=e;return new Mt(t,n.headers,n.body,n.scheme,n.host,n.port,n.path,n.query)}function Me(){return new Mt(new rt,l([]),"",new je,"localhost",new x,"",new x)}function Oe(e,t){let n=e;return new Mt(n.method,n.headers,n.body,t,n.host,n.port,n.path,n.query)}function Or(e,t){let n=e;return new Mt(n.method,n.headers,n.body,n.scheme,t,n.port,n.path,n.query)}function Ur(e,t){let n=e;return new Mt(n.method,n.headers,n.body,n.scheme,n.host,new $(t),n.path,n.query)}function Ue(e,t){let n=e;return new Mt(n.method,n.headers,n.body,n.scheme,n.host,n.port,t,n.query)}var xn=class extends _{constructor(t,n,r,i,s,o){super(),this.saving=t,this.slug=n,this.title=r,this.subtitle=i,this.leading=s,this.content=o}};function wf(e,t,n,r,i){return new xn(!1,e,t,n,r,i)}function ol(e){return e.saving}function al(e){return e.slug}function ul(e){return e.title}function cl(e){return e.subtitle}function Ki(e){return e.leading}function Vi(e){return e.content}function gf(e,t){let n=e.saving,r=e.title,i=e.subtitle,s=e.leading,o=e.content;return new xn(n,t,r,i,s,o)}function xf(e,t){let n=e.saving,r=e.slug,i=e.subtitle,s=e.leading,o=e.content;return new xn(n,r,t,i,s,o)}function bf(e,t){let n=e.saving,r=e.slug,i=e.title,s=e.leading,o=e.content;return new xn(n,r,i,t,s,o)}function yf(e,t){let n=e.saving,r=e.slug,i=e.title,s=e.subtitle,o=e.content;return new xn(n,r,i,s,t,o)}function vf(e,t){let n=e.saving,r=e.slug,i=e.title,s=e.subtitle,o=e.leading;return new xn(n,r,i,s,o,t)}var fl=class extends _{constructor(t,n,r){super(),this.status=t,this.headers=n,this.body=r}};var Dr=class e{constructor(t){this.promise=t}static wrap(t){return t instanceof Promise?new e(t):t}static unwrap(t){return t instanceof e?t.promise:t}};function pl(e){return Promise.resolve(Dr.wrap(e))}function Af(e,t){return e.then(n=>t(Dr.unwrap(n)))}function dl(e,t){return e.then(n=>Dr.wrap(t(Dr.unwrap(n))))}function Sa(e,t){return e.catch(n=>t(n))}function zf(e,t){return dl(e,r=>(t(r),r))}function _l(e,t){return Af(e,r=>{if(r instanceof g){let i=r[0];return t(i)}else{let i=r[0];return pl(new A(i))}})}async function jf(e){try{return new g(await fetch(e))}catch(t){return new A(new $l(t.toString()))}}function Ef(e){return new fl(e.status,re.fromArray([...e.headers]),e)}function i$(e){let t=Ee(hf(e)),n=_f(e.method).toUpperCase(),r={headers:s$(e.headers),method:n};return[t,r]}function Tf(e){let[t,n]=i$(e);return n.method!=="GET"&&n.method!=="HEAD"&&(n.body=e.body),new globalThis.Request(t,n)}function s$(e){let t=new globalThis.Headers;for(let[n,r]of e)t.append(n.toLowerCase(),r);return t}async function ja(e){let t;try{t=await e.body.text()}catch{return new A(new ml)}return new g(e.withFields({body:t}))}var $l=class extends _{constructor(t){super(),this[0]=t}},ml=class extends _{};function Bf(e){let n=Tf(e),r=jf(n);return _l(r,i=>pl(new g(Ef(i))))}var hl=class extends _{constructor(t){super(),this[0]=t}},Yi=class extends _{constructor(t){super(),this[0]=t}},Zi=class extends _{constructor(t){super(),this[0]=t}},Rr=class extends _{},Qi=class extends _{},Xi=class extends _{constructor(t,n){super(),this[0]=t,this[1]=n}},Ea=class extends _{},wl=class extends _{constructor(t){super(),this.run=t}};function o$(e,t,n){let r=Bf(e),i=_l(r,ja),s=dl(i,a=>{if(a instanceof g){let u=a[0];return t.run(new g(u))}else return t.run(new A(new Rr))}),o=Sa(s,a=>t.run(new A(new Rr)));zf(o,n)}function De(e,t){return Vt(n=>o$(e,t,n))}function Cf(e){let t=e.status;if(200<=t&&t<=299){let n=e.body;return new g(n)}else{let n=e.status;if(n===401)return new A(new Ea);if(n===404)return new A(new Qi);if(n===500){let r=e.body;return new A(new Yi(r))}else{let r=n,i=e.body;return new A(new Xi(r,i))}}}function Fr(e){return new wl(t=>{let r=at(t,Cf);return e(r)})}function pt(e,t){return new wl(n=>{let i=at(n,Cf),s=at(i,o=>{let a=Bc(o,e);if(a instanceof g){let u=a[0];return new g(u)}else{let u=a[0];return new A(new Zi(u))}});return t(s)})}var bn=class extends _{},Je=class extends _{},Ae=class extends _{constructor(t){super(),this.session=t}},Ta=class extends _{constructor(t,n,r){super(),this.subject=t,this.expiry=n,this.permissions=r}};function a$(e){return e instanceof bn?l([]):e instanceof Je?l([]):e.session.permissions}function xl(e,t){return fi(a$(e),n=>fi(t,r=>r===n))}function Ba(e,t){let n,r=t.scheme;if(r instanceof $){let p=r[0];p==="http"?n=Oe(e,new Qt):p==="https"?n=Oe(e,new je):n=Oe(e,new je)}else n=Oe(e,new je);let i=n,s,o=t.host;if(o instanceof $){let p=o[0];s=Or(i,p)}else s=i;let a=s,u,c=t.port;if(c instanceof $){let p=c[0];u=Ur(a,p)}else u=a;return u}function qf(e,t){let n=Me(),r=Ce(n,new rt),i=Ue(r,"/api/auth/logout"),s=sl(i,"credentials","include"),o=Ba(s,t);return De(o,Fr(e))}function u$(){return W("subject",ke,e=>W("expiresAt",Te,t=>W("permissions",Kt(ke),n=>He(new Ta(e,t,n)))))}function Pf(){let e=u$();return vc(e,t=>He(new Ae(t)))}function Ca(e,t,n,r){let i,s=wt(l([["username",be(t)],["password",be(n)]]));i=ht(s);let o=i,a=Me(),u=Ce(a,new It),c=Ue(u,"/api/auth"),d=Xt(c,o),p=Ba(d,r);return De(p,pt(Pf(),e))}function qa(e,t){let n=Me(),r=Ce(n,new rt),i=Ue(r,"/api/auth"),s=sl(i,"credentials","include"),o=Ba(s,t);return De(o,pt(Pf(),e))}var G=class extends _{},X=class extends _{},N=class extends _{constructor(t){super(),this[0]=t}},ze=class extends _{constructor(t){super(),this[0]=t}},yn=class extends _{constructor(t){super(),this[0]=t}};function it(e,t){if(e instanceof N){let n=e[0];return new N(t(n))}else if(e instanceof ze){let n=e[0];return new ze(t(n))}else return e}var ge=class extends _{constructor(t,n,r,i,s,o,a,u,c,d,p){super(),this.id=t,this.slug=n,this.revision=r,this.author=i,this.tags=s,this.published_at=o,this.title=a,this.subtitle=u,this.leading=c,this.content=d,this.draft=p}};function Gr(e){let t=e.content;if(t instanceof N){let n=e.slug,r=e.title,i=e.subtitle,s=e.leading,o=t[0],a=wf(n,r,i,s,o);return new $(a)}else return new x}function es(e,t){return xl(t,l(["post_edit_any"]))}function Nf(e,t){return xl(t,l(["post_edit_any"]))}function Lf(e,t){return xl(t,l(["post_edit_any"]))}function ts(e,t){let n,r=t.scheme;if(r instanceof $){let p=r[0];p==="http"?n=Oe(e,new Qt):p==="https"?n=Oe(e,new je):n=Oe(e,new je)}else n=Oe(e,new je);let i=n,s,o=t.host;if(o instanceof $){let p=o[0];s=Or(i,p)}else s=i;let a=s,u,c=t.port;if(c instanceof $){let p=c[0];u=Ur(a,p)}else u=a;return u}function If(e,t,n){let r,i=Me(),s=Ce(i,new ir),o=Ue(s,"/api/articles/"+t);return r=ts(o,n),De(r,Fr(e))}function Wr(){return oa("version",0,Te,e=>W("id",ke,t=>W("author",ke,n=>W("tags",Ms(Kt(ke),l([He(l([]))])),r=>W("published_at",la(Te,s=>s===0?new x:new $(Jn(s))),i=>W("slug",ke,s=>W("revision",Te,o=>W("title",ke,a=>W("leading",ke,u=>W("subtitle",ke,c=>oa("content","",ke,d=>{let p;d===""?p=new G:p=new N(d);let w=p;return He(new ge(t,s,o,n,r,i,a,c,u,w,new x))})))))))))))}function sr(e,t,n){let r,i=Me(),s=Ce(i,new rt),o=Ue(s,"/api/articles/"+t);return r=ts(o,n),De(r,pt(Wr(),e))}function c$(){return W("articles",Ms(Kt(Wr()),l([He(l([]))])),e=>He(e))}function ns(e,t){let n,r=Me(),i=Ce(r,new rt),s=Ue(i,"/api/articles");return n=ts(s,t),De(n,pt(c$(),e))}function bl(e){let t=e.id,n=e.slug,r=e.revision,i=e.author,s=e.tags,o=e.published_at,a=e.title,u=e.subtitle,c=e.leading,d=e.content,p;if(d instanceof N){let B=d[0];p=be(B)}else p=be("");let w=p,v;if(o instanceof $){let B=o[0];v=Nt(dc(B))}else v=Nt(0);let k=v;return wt(l([["struct_version",Nt(1)],["id",be(t)],["revision",Nt(r)],["slug",be(n)],["title",be(a)],["leading",be(c)],["subtitle",be(u)],["author",be(i)],["published_at",k],["tags",Ci(s,be)],["content",w]]))}function yl(e,t,n){let r,i=Me(),s=Ce(i,new rr),o=Ue(s,"/api/articles/"+t.id),a=Xt(o,(()=>{let c=bl(t);return ht(c)})());return r=ts(a,n),De(r,pt(Wr(),e))}function Mf(e,t,n){let r,i=Me(),s=Ce(i,new It),o=Ue(s,"/api/articles"),a=Xt(o,(()=>{let c=bl(t);return ht(c)})());return r=ts(a,n),De(r,pt(Wr(),e))}function Hr(e,t){let n=e.draft;if(n instanceof $){let r=n[0],i=e;return new ge(i.id,i.slug,i.revision,i.author,i.tags,i.published_at,i.title,i.subtitle,i.leading,i.content,new $(t(r)))}else return f$("draft_update: not an article with draft","src/article/article.gleam",316),e}function f$(e,t,n){let r="\x1B[90m",i="\x1B[39m",s=`${t}:${n}`,o=en(e);if(globalThis.process?.stderr?.write){let a=`${r}${s}${i}
${o}
`;process.stderr.write(a)}else if(globalThis.Deno){let a=`${r}${s}${i}
${o}
`;globalThis.Deno.stderr.writeSync(new TextEncoder().encode(a))}else{let a=`${s}
${o}`;globalThis.console.log(a)}return e}function p$(e){let t='"';for(let n=0;n<e.length;n++){let r=e[n];r==`
`?t+="\\n":r=="\r"?t+="\\r":r=="	"?t+="\\t":r=="\f"?t+="\\f":r=="\\"?t+="\\\\":r=='"'?t+='\\"':r<" "||r>"~"&&r<"\xA0"?t+="\\u{"+r.charCodeAt(0).toString(16).toUpperCase().padStart(4,"0")+"}":t+=r}return t+='"',t}function d$(e){let t="dict.from_list([",n=!0,r=[];return e.forEach((i,s)=>{r.push([s,i])}),r.sort(),r.forEach(([i,s])=>{n||(t=t+", "),t=t+"#("+en(i)+", "+en(s)+")",n=!1}),t+"])"}function _$(e){let t=globalThis.Object.keys(e).map(n=>{let r=en(e[n]);return isNaN(parseInt(n))?`${n}: ${r}`:r}).join(", ");return t?`${e.constructor.name}(${t})`:e.constructor.name}function $$(e){let t=Object.getPrototypeOf(e)?.constructor?.name||"Object",n=[];for(let s of Object.keys(e))n.push(`${en(s)}: ${en(e[s])}`);let r=n.length?" "+n.join(", ")+" ":"";return`//js(${t==="Object"?"":t+" "}{${r}})`}function en(e){let t=typeof e;if(e===!0)return"True";if(e===!1)return"False";if(e===null)return"//js(null)";if(e===void 0)return"Nil";if(t==="string")return p$(e);if(t==="bigint"||t==="number")return e.toString();if(globalThis.Array.isArray(e))return`#(${e.map(en).join(", ")})`;if(e instanceof re)return`[${e.toArray().map(en).join(", ")}]`;if(e instanceof an)return`//utfcodepoint(${String.fromCodePoint(e.value)})`;if(e instanceof Ze)return m$(e);if(e instanceof _)return _$(e);if(h$(e))return d$(e);if(e instanceof Set)return`//js(Set(${[...e].map(en).join(", ")}))`;if(e instanceof RegExp)return`//js(${e})`;if(e instanceof Date)return`//js(Date("${e.toISOString()}"))`;if(e instanceof Function){let n=[];for(let r of Array(e.length).keys())n.push(String.fromCharCode(r+97));return`//fn(${n.join(", ")}) { ... }`}return $$(e)}function m$(e){let t=e.bitOffset+8*Math.trunc(e.bitSize/8),n=qn(e,e.bitOffset,t),r=e.bitSize%8;if(r>0){let i=ys(e,t,e.bitSize,!1,!1),s=Array.from(n.rawBuffer),o=`${i}:size(${r})`;return s.length===0?`<<${o}>>`:`<<${Array.from(n.rawBuffer).join(", ")}, ${o}>>`}else return`<<${Array.from(n.rawBuffer).join(", ")}>>`}function h$(e){try{return e instanceof We}catch{return!1}}var rs=class extends _{},is=class extends _{},Ia=class extends _{},vl=class extends _{},U=class extends _{},oe=class extends _{},ae=class extends _{},xt=class extends _{},D=class extends _{},Re=class extends _{},Ke=class extends _{};function Of(){return h(l([f("loading-spinner inline-block w-4 h-4 border-2 border-zinc-600 rounded-full")]),l([]))}function Ma(){return h(l([f("loading-spinner w-8 h-8 border-4 border-zinc-600 rounded-full")]),l([]))}function ss(){return h(l([f("flex items-center justify-center py-8")]),l([h(l([f("flex items-center text-zinc-400 text-sm")]),l([h(l([f("loading-spinner inline-block w-4 h-4 border-2 border-zinc-600 rounded-full mr-3")]),l([])),q(l([]),l([m("Loading content...")]))]))]))}function Oa(){return h(l([f("flex items-center justify-center py-12")]),l([h(l([f("text-zinc-500 text-sm")]),l([m("Loading...")]))]))}function Ua(){return h(l([f("w-full bg-zinc-800 rounded-full h-2 mb-4 overflow-hidden")]),l([h(l([f("loading-bar h-full rounded-full")]),l([]))]))}function kl(e){return h(l([f("flex items-center justify-center py-12 md:py-16")]),l([h(l([f("flex flex-col items-center space-y-6")]),l([Ma(),se(l([f("text-zinc-400 text-lg")]),l([m(e)]))]))]))}function Da(e,t){return Vc(l([f("py-12 md:py-16")]),l([tr(l([f("page-title text-3xl sm:text-4xl md:text-5xl font-light leading-tight mb-4")]),l([m(e)])),(()=>{if(t instanceof $){let n=t[0];return se(l([f("text-lg text-zinc-400 font-light italic mb-8")]),l([m(n)]))}else return le()})()]))}function Ra(e){return tr(l([f("page-title text-3xl sm:text-4xl md:text-5xl font-light leading-tight mb-4")]),l([m(e)]))}function Jr(e,t,n,r){let i;return n instanceof D?t instanceof U?i="text-teal-400 border-teal-600 hover:bg-teal-950/50 hover:text-teal-300 hover:border-teal-400 cursor-pointer":t instanceof oe?i="text-orange-400 border-orange-600 hover:bg-orange-950/50 hover:text-orange-300 hover:border-orange-400 cursor-pointer":t instanceof ae?i="text-red-400 border-red-600 hover:bg-red-950/50 hover:text-red-300 hover:border-red-400 cursor-pointer":i="text-green-400 border-green-600 hover:bg-green-950/50 hover:text-green-300 hover:border-green-400":n instanceof Re?t instanceof U?i="text-teal-400 border-teal-600 opacity-70 cursor-wait":t instanceof oe?i="text-orange-400 border-orange-600  opacity-70 cursor-wait":t instanceof ae?i="text-red-400 border-red-600 opacity-70 cursor-wait":i="text-green-400 border-green-600 opacity-70 cursor-wait":(t instanceof U||t instanceof oe||t instanceof ae,i="text-zinc-400 border-zinc-600 opacity-50 cursor-not-allowed"),he(l([f("block w-full text-left px-4 py-2 text-sm transition-colors duration-200 border-l-2 -left-[1px] relative "+i),Xn(!(n instanceof D)),te(r)]),l([m(e)]))}function Fa(e,t,n,r){let i;return n instanceof D?t instanceof U?i="text-teal-400 border-teal-600 hover:bg-teal-950/50 hover:text-teal-300 hover:border-teal-400 cursor-pointer":t instanceof oe?i="text-orange-400 border-orange-600 hover:bg-orange-950/50 hover:text-orange-300 hover:border-orange-400 cursor-pointer":t instanceof ae?i="text-red-400 border-red-600 hover:bg-red-950/50 hover:text-red-300 hover:border-red-400 cursor-pointer":i="text-green-400 border-green-600 hover:bg-green-950/50 hover:text-green-300 hover:border-green-400":n instanceof Re?t instanceof U?i="text-teal-400 border-teal-600 opacity-70 cursor-wait":t instanceof oe?i="text-orange-400 border-orange-600  opacity-70 cursor-wait":t instanceof ae?i="text-red-400 border-red-600 opacity-70 cursor-wait":i="text-green-400 border-green-600 opacity-70 cursor-wait":(t instanceof U||t instanceof oe||t instanceof ae,i="text-zinc-400 border-zinc-600 opacity-50 cursor-not-allowed"),he(l([f("block w-full text-left px-4 py-2 text-sm transition-colors duration-200 border-l-2 -left-[1px] relative "+i),Xn(!(n instanceof D)),te(r)]),e)}function ne(e,t,n,r){let i;return n instanceof D?t instanceof U?i="text-teal-400 border-teal-600 bg-teal-500/10 hover:bg-teal-950/50 hover:text-teal-300 hover:border-teal-400 cursor-pointer":t instanceof oe?i="text-orange-400 border-orange-600 bg-orange-500/10 hover:bg-orange-950/50 hover:text-orange-300 hover:border-orange-400 cursor-pointer":t instanceof ae?i="text-red-400 border-red-600 bg-red-500/10 hover:bg-red-950/50 hover:text-red-300 hover:border-red-400 cursor-pointer":i="text-green-400 border-green-600 bg-green-500/10 hover:bg-green-950/50 hover:text-green-300 hover:border-green-400":n instanceof Re?t instanceof U?i="text-teal-400 border-teal-600 bg-teal-500/10 opacity-70 cursor-wait":t instanceof oe?i="text-orange-400 border-orange-600 bg-orange-500/10 opacity-70 cursor-wait":t instanceof ae?i="text-red-400 border-red-600 bg-red-500/10 opacity-70 cursor-wait":i="text-green-400 border-green-600 bg-green-500/10 opacity-70 cursor-wait":(t instanceof U||t instanceof oe||t instanceof ae,i="text-zinc-400 border-zinc-600 bg-zinc-500/10 opacity-50 cursor-not-allowed"),he(l([f("px-4 py-2 border-r border-l transition-colors duration-200 "+i),Xn(!(n instanceof D)),te(r)]),l([m(e)]))}function Al(e,t,n,r){let i;e instanceof rs?i="\u{1F310}":e instanceof is?i="\u{1F50D}":e instanceof Ia?i="\u{1F512}":i="\u26A0\uFE0F";let s=i;return h(l([f("py-12 md:py-16 text-center")]),l([h(l([f("max-w-md mx-auto space-y-6")]),l([h(l([f("text-6xl mb-6")]),l([m(s)])),Y(l([f("text-2xl font-light text-zinc-200 mb-4")]),l([m(t)])),se(l([f("text-zinc-400 text-lg mb-8")]),l([m(n)])),(()=>{if(r instanceof $){let o=r[0];return ne("Try Again",new U,new D,o)}else return le()})()]))]))}function lr(e,t,n,r,i,s,o){return h(l([f("mb-6")]),l([wn(l([f("block text-sm font-semibold text-zinc-300 mb-3")]),l([m(e),i?q(l([f("text-red-400 ml-1")]),l([m("*")])):le()])),Hi(l([f(s instanceof $?"form-input w-full bg-zinc-800 border-l-2 border-r border-t border-b border-zinc-600 pl-4 pr-4 py-3 text-zinc-100 placeholder-zinc-500 transition-all duration-300 ease-out outline-none border-l-red-500 focus:border-l-red-400 focus:bg-red-500/5":"form-input w-full bg-zinc-800 border-l-2 border-r border-t border-b border-zinc-600 pl-4 pr-4 py-3 text-zinc-100 placeholder-zinc-500 transition-all duration-300 ease-out outline-none border-l-teal-600 focus:border-l-teal-400 focus:bg-teal-500/5"),Oc(r),Yt(t),Qn(n),da(i),Zt(o)])),(()=>{if(s instanceof $){let a=s[0];return se(l([f("text-red-400 text-sm mt-2 flex items-center gap-1")]),l([q(l([f("text-red-400")]),l([m("\u26A0 ")])),m(a)]))}else return le()})()]))}function Uf(e,t,n,r,i,s,o){return h(l([f("mb-6")]),l([wn(l([f("block text-sm font-semibold text-zinc-300 mb-3")]),l([m(e),i?q(l([f("text-red-400 ml-1")]),l([m("*")])):le()])),Lr(l([f(s instanceof $?"w-full "+r+" bg-zinc-800 border-l-2 border-r border-t border-b border-zinc-600 p-3 text-zinc-100 placeholder-zinc-500 resize-none transition-all duration-300 ease-out outline-none border-l-red-500 focus:border-l-red-400 focus:bg-red-500/5":"w-full "+r+" bg-zinc-800 border-l-2 border-r border-t border-b border-zinc-600 p-3 text-zinc-100 placeholder-zinc-500 resize-none transition-all duration-300 ease-out outline-none border-l-teal-600 focus:border-l-teal-400 focus:bg-teal-500/5"),Yt(t),Qn(n),da(i),Zt(o)]),t),(()=>{if(s instanceof $){let a=s[0];return se(l([f("text-red-400 text-sm mt-2 flex items-center gap-1")]),l([q(l([f("text-red-400")]),l([m("\u26A0 ")])),m(a)]))}else return le()})()]))}function Ga(e){return h(l([f("modal-backdrop fixed inset-0 z-40"),Ji(e)]),l([]))}function Wa(e,t,n,r){return h(l([f("modal-content fixed inset-0 z-50 flex items-center justify-center p-4")]),l([h(l([f("glass border-l-2 border-teal-600 border-r border-r-zinc-700 border-t border-t-zinc-700 border-b border-b-zinc-700 max-w-md w-full mx-4 overflow-hidden")]),l([h(l([f("flex items-center justify-between p-6 border-b border-zinc-700/50")]),l([Le(l([f("text-xl font-semibold text-zinc-100")]),l([m(e)])),he(l([f("text-zinc-400 hover:text-zinc-200 transition-colors text-2xl"),Ji(r),E("aria-label","Close modal")]),l([m("\xD7")]))])),h(l([f("p-6 space-y-6")]),t),n instanceof y?le():h(l([f("flex justify-end space-x-3 p-6 border-t border-zinc-700/50")]),n)]))]))}function zl(e,t,n){return h(l([f("py-12 md:py-16 text-center")]),l([h(l([f("max-w-md mx-auto space-y-6")]),l([h(l([f("text-6xl mb-6")]),l([m("\u{1F4DD}")])),Y(l([f("text-2xl font-light text-zinc-300 mb-4")]),l([m(e)])),se(l([f("text-zinc-400 text-lg mb-8")]),l([m(t)])),n instanceof $?n[0]:le()]))]))}function Ha(e,t){return he(l([f("text-pink-500 hover:text-pink-400 transition-colors duration-200 underline decoration-pink-500/30 hover:decoration-pink-400 underline-offset-2"),Ji(t)]),l([m(e)]))}function Df(e){return h(l([f("space-y-6")]),e)}function Rf(e,t){return h(l([f("flex items-center justify-between")]),l([e,t]))}function Ff(e){return q(l([f("gradient-text")]),l([m(e)]))}function Gf(e){return h(l([f("glass rounded-xl p-6")]),e)}function ls(e,t){let n;return t instanceof U?n="bg-teal-600/20 text-teal-400 ring-teal-600/30":t instanceof oe?n="bg-orange-600/20 text-orange-400 ring-orange-600/30":t instanceof ae?n="bg-red-600/20 text-red-400 ring-red-600/30":n="bg-green-600/20 text-green-400 ring-green-600/30",q(l([f("inline-flex shrink-0 items-center rounded-full px-2 py-1 text-xs font-medium ring-1 ring-inset "+n)]),l([m(e)]))}function tn(e){return h(l([f("bg-zinc-800 rounded-lg border border-zinc-700 p-6")]),e)}function Wf(e,t){return h(l([f("bg-zinc-800 rounded-lg border border-zinc-700")]),l([h(l([f("p-6 border-b border-zinc-700/50")]),l([Y(l([f("text-lg font-semibold text-zinc-100")]),l([m(e)]))])),h(l([f("p-6")]),t)]))}function os(e,t,n,r){let i;return t instanceof U?i="bg-teal-600/20 text-teal-300 border-teal-600/50":t instanceof oe?i="bg-orange-600/20 text-orange-300 border-orange-600/50":t instanceof ae?i="bg-red-600/20 text-red-300 border-red-600/50":i="bg-green-600/20 text-green-300 border-green-600/50",h(l([f("flex items-center justify-between rounded-lg border p-4 "+i)]),l([se(l([f("text-sm font-medium")]),l([m(e)])),(()=>{if(r instanceof $)if(n){let o=r[0];return he(l([f("text-sm hover:opacity-75 transition-opacity"),Ji(o)]),l([m("\xD7")]))}else return le();else return le()})()]))}function Hf(e){let t,n=vu(1,e);t=M(n,i=>h(l([f("h-4 bg-zinc-700 rounded animate-pulse mb-2")]),l([])));let r=t;return h(l([f("space-y-2")]),r)}function Jf(){return h(l([f("bg-zinc-800 rounded-lg border border-zinc-700 p-6 animate-pulse")]),l([h(l([f("h-6 bg-zinc-700 rounded mb-4 w-3/4")]),l([])),h(l([f("h-4 bg-zinc-700 rounded mb-2")]),l([])),h(l([f("h-4 bg-zinc-700 rounded mb-2 w-5/6")]),l([])),h(l([f("h-4 bg-zinc-700 rounded w-2/3")]),l([]))]))}function Kf(e){if(e==="")return!1;if(js(e,".")){let n=Jt(e,".");if(zo(n)>=2)if(yu(n,s=>St(s)>0)){let s=ku(n);if(s instanceof g){let o=s[0];return St(o)>=2}else return!1}else return!1;else return!1}else return!1}function Sl(e){if(e==="")return[!1,new $("URL is required")];{let t=de(e);if(t instanceof g){let n=t[0],r=n.scheme,i=n.host;if(i instanceof $)if(r instanceof $){let s=i[0],o=r[0];return o==="http"?Kf(s)?[!0,new x]:[!1,new $("Host must be a valid domain with a TLD (e.g., example.com)")]:o==="https"?Kf(s)?[!0,new x]:[!1,new $("Host must be a valid domain with a TLD (e.g., example.com)")]:[!1,new $("URL must use http or https protocol")]}else return[!1,new $("URL must include a protocol (http or https)")];else return r instanceof $?[!1,new $("URL must include a host")]:[!1,new $("URL must include both protocol and host")]}else return[!1,new $("Invalid URL format")]}}var x$="src/routes.gleam",rn=class extends _{},bt=class extends _{},Ot=class extends _{constructor(t){super(),this.slug=t}},yt=class extends _{constructor(t){super(),this.id=t}},Ut=class extends _{},Dt=class extends _{},dt=class extends _{},vn=class extends _{constructor(t){super(),this[0]=t}},H=class extends _{},nn=class extends _{constructor(t){super(),this.uri=t}};function Ja(e){let t=Si(e.path);if(t instanceof y)return new rn;{let n=t.tail;if(n instanceof y){let r=t.head;return r===""?new rn:r==="articles"?new bt:r==="about"?new Ut:r==="djot-demo"?new Dt:r==="url"?new dt:r==="ui-components"?new H:new nn(e)}else{let r=n.tail;if(r instanceof y){let i=t.head;if(i==="article"){let s=n.head;return new Ot(s)}else if(i==="url"){let s=n.head;return new vn(s)}else return new nn(e)}else if(r.tail instanceof y)if(r.head==="edit")if(t.head==="article"){let a=n.head;return new yt(a)}else return new nn(e);else return new nn(e);else return new nn(e)}}}function Kr(e){if(e instanceof rn)return"/";if(e instanceof bt)return"/articles";if(e instanceof Ot)return"/article/"+e.slug;if(e instanceof yt)return"/article/"+e.id+"/edit";if(e instanceof Ut)return"/about";if(e instanceof Dt)return"/djot-demo/";if(e instanceof dt)return"/url/";if(e instanceof vn)return"/url/"+e[0];if(e instanceof H)return"/ui-components";{let t=e.uri;return"/404?uri="+Ee(t)}}function R(e){let t,r=Kr(e);t=de(r);let i=t;if(!(i instanceof g))throw K("let_assert",x$,"routes",54,"to_uri","Pattern match failed, no pattern matched the value.",{value:i,start:1262,end:1314,pattern_start:1273,pattern_end:1280});return i[0]}function b$(e,t){for(;;){let n=e,r=t;if(r instanceof y)return n instanceof y;if(n instanceof y)return!1;{let i=r.head,s=r.tail,o=n.head,a=n.tail;if(P(o,i))e=a,t=s;else return!1}}}function Vf(e,t){let n,i=Kr(e);n=Si(i);let s=n,o,u=Kr(t);return o=Si(u),b$(s,o)}var Ka=class extends _{constructor(t,n,r,i,s,o,a,u){super(),this.id=t,this.short_code=n,this.target_url=r,this.created_by=i,this.created_at=s,this.updated_at=o,this.access_count=a,this.is_active=u}},jl=class extends _{constructor(t,n){super(),this.short_code=t,this.target_url=n}},Va=class extends _{constructor(t,n,r,i){super(),this.short_urls=t,this.total=n,this.limit=r,this.offset=i}},El=class extends _{constructor(t,n){super(),this.id=t,this.is_active=n}};function Ya(){return W("id",ke,e=>W("shortCode",ke,t=>W("targetUrl",ke,n=>W("createdBy",ke,r=>W("createdAt",Te,i=>W("updatedAt",Te,s=>W("accessCount",Te,o=>W("isActive",Sc,a=>He(new Ka(e,t,n,r,i,s,o,a))))))))))}function y$(){return W("shortUrls",Kt(Ya()),e=>W("total",Te,t=>W("limit",Te,n=>W("offset",Te,r=>He(new Va(e,t,n,r))))))}function v$(e){return wt(l([["shortCode",be(e.short_code)],["targetUrl",be(e.target_url)]]))}function k$(e){let t=l([["id",be(e.id)]]),n,r=e.is_active;if(r instanceof $){let s=r[0];n=b(["isActive",fa(s)],t)}else n=t;return wt(n)}function Tl(e,t){let n,r=t.scheme;if(r instanceof $){let p=r[0];p==="http"?n=Oe(e,new Qt):p==="https"?n=Oe(e,new je):n=Oe(e,new je)}else n=Oe(e,new je);let i=n,s,o=t.host;if(o instanceof $){let p=o[0];s=Or(i,p)}else s=i;let a=s,u,c=t.port;if(c instanceof $){let p=c[0];u=Ur(a,p)}else u=a;return u}function Zf(e,t,n){let r,i=v$(n);r=ht(i);let s=r,o=Me(),a=Ce(o,new It),u=Ue(a,"/api/url"),c=Xt(u,s),d=Tl(c,t);return De(d,pt(Ya(),e))}function Qf(e,t,n,r){let i="/api/url?limit="+F(n)+"&offset="+F(r),s=Me(),o=Ce(s,new rt),a=Ue(o,i),u=Tl(a,t);return De(u,pt(y$(),e))}function Xf(e,t,n){let r=Me(),i=Ce(r,new ir),s=Ue(i,"/api/url/"+n),o=Tl(s,t);return De(o,Fr(e))}function ep(e,t,n){let r,i=k$(n);r=ht(i);let s=r,o=Me(),a=Ce(o,new rr),u=Ue(a,"/api/url/"+n.id),c=Xt(u,s),d=Tl(c,t);return De(d,pt(Ya(),e))}var Fe="src/pages/pages.gleam",as=class extends _{constructor(t){super(),this[0]=t}},or=class extends _{},sn=class extends _{constructor(t,n){super(),this.article=t,this.session=n}},Rt=class extends _{constructor(t,n){super(),this.article=t,this.session_authenticated=n}},ar=class extends _{constructor(t,n){super(),this.articles=t,this.session=n}},kn=class extends _{},Vr=class extends _{constructor(t){super(),this.session_authenticated=t}},Yr=class extends _{constructor(t,n){super(),this.short=t,this.session_authenticated=n}},Zr=class extends _{constructor(t){super(),this.session_authenticated=t}},fe=class extends _{constructor(t){super(),this.error=t}},Qr=class extends _{},Xr=class extends _{constructor(t){super(),this.requested_uri=t}},us=class extends _{constructor(t){super(),this.content=t}},ur=class extends _{constructor(t,n){super(),this.slug=t,this.available_slugs=n}},cr=class extends _{constructor(t){super(),this.id=t}},An=class extends _{constructor(t,n){super(),this.error=t,this.context=n}},Ve=class extends _{constructor(t){super(),this.attempted_action=t}},ei=class extends _{constructor(t){super(),this.msg=t}};function Bl(e){if(e instanceof as){let t=e[0];return R(t)}else if(e instanceof or){let t=de("/");if(!(t instanceof g))throw K("let_assert",Fe,"pages/pages",62,"to_uri","Pattern match failed, no pattern matched the value.",{value:t,start:1556,end:1591,pattern_start:1567,pattern_end:1574});return t[0]}else if(e instanceof sn){let t=e.article,n=de("/article/"+t.slug);if(!(n instanceof g))throw K("let_assert",Fe,"pages/pages",74,"to_uri","Pattern match failed, no pattern matched the value.",{value:n,start:1842,end:1901,pattern_start:1853,pattern_end:1860});return n[0]}else if(e instanceof Rt){let t=e.article,n=de("/article/"+t.id+"/edit");if(!(n instanceof g))throw K("let_assert",Fe,"pages/pages",78,"to_uri","Pattern match failed, no pattern matched the value.",{value:n,start:1961,end:2029,pattern_start:1972,pattern_end:1979});return n[0]}else if(e instanceof ar){let t=de("/articles");if(!(t instanceof g))throw K("let_assert",Fe,"pages/pages",66,"to_uri","Pattern match failed, no pattern matched the value.",{value:t,start:1645,end:1688,pattern_start:1656,pattern_end:1663});return t[0]}else if(e instanceof kn){let t=de("/articles");if(!(t instanceof g))throw K("let_assert",Fe,"pages/pages",70,"to_uri","Pattern match failed, no pattern matched the value.",{value:t,start:1743,end:1786,pattern_start:1754,pattern_end:1761});return t[0]}else if(e instanceof Vr){let t=de("/url/");if(!(t instanceof g))throw K("let_assert",Fe,"pages/pages",82,"to_uri","Pattern match failed, no pattern matched the value.",{value:t,start:2082,end:2121,pattern_start:2093,pattern_end:2100});return t[0]}else if(e instanceof Yr){let t=e.short,n=de("/url/");if(!(n instanceof g))throw K("let_assert",Fe,"pages/pages",86,"to_uri","Pattern match failed, no pattern matched the value.",{value:n,start:2180,end:2219,pattern_start:2191,pattern_end:2198});return n[0]}else if(e instanceof Zr){let t=de("/ui-components");if(!(t instanceof g))throw K("let_assert",Fe,"pages/pages",90,"to_uri","Pattern match failed, no pattern matched the value.",{value:t,start:2271,end:2319,pattern_start:2282,pattern_end:2289});return t[0]}else if(e instanceof fe){let t=e.error;if(t instanceof ur){let n=t.slug,r=de("/article/"+n);if(!(r instanceof g))throw K("let_assert",Fe,"pages/pages",97,"to_uri","Pattern match failed, no pattern matched the value.",{value:r,start:2430,end:2481,pattern_start:2441,pattern_end:2448});return r[0]}else if(t instanceof cr){let n=t.id,r=de("/article/"+n+"/edit");if(!(r instanceof g))throw K("let_assert",Fe,"pages/pages",101,"to_uri","Pattern match failed, no pattern matched the value.",{value:r,start:2553,end:2613,pattern_start:2564,pattern_end:2571});return r[0]}else if(t instanceof An){let n=de("/");if(!(n instanceof g))throw K("let_assert",Fe,"pages/pages",105,"to_uri","Pattern match failed, no pattern matched the value.",{value:n,start:2677,end:2712,pattern_start:2688,pattern_end:2695});return n[0]}else if(t instanceof Ve){let n=de("/");if(!(n instanceof g))throw K("let_assert",Fe,"pages/pages",109,"to_uri","Pattern match failed, no pattern matched the value.",{value:n,start:2786,end:2821,pattern_start:2797,pattern_end:2804});return n[0]}else{let n=de("/");if(!(n instanceof g))throw K("let_assert",Fe,"pages/pages",113,"to_uri","Pattern match failed, no pattern matched the value.",{value:n,start:2878,end:2913,pattern_start:2889,pattern_end:2896});return n[0]}}else if(e instanceof Qr){let t=de("/about");if(!(t instanceof g))throw K("let_assert",Fe,"pages/pages",119,"to_uri","Pattern match failed, no pattern matched the value.",{value:t,start:2977,end:3017,pattern_start:2988,pattern_end:2995});return t[0]}else{if(e instanceof Xr)return e.requested_uri;{let t=e.content,n=de("/djot-demo/"+t);if(!(n instanceof g))throw K("let_assert",Fe,"pages/pages",123,"to_uri","Pattern match failed, no pattern matched the value.",{value:n,start:3071,end:3127,pattern_start:3082,pattern_end:3089});return n[0]}}}function Za(e){return M(e,t=>t.slug)}function S$(e){let t=e.expected,n=e.found,r=e.path;return"expected: "+t+", found: "+n+", path: "+ot(r,"/")}function tp(e){if(e instanceof y)return"no errors";{let t=e.head,n=e.tail;return S$(t)+`
`+tp(n)}}function j$(e){let t=e.expected,n=e.found,r=e.path;return"expected: "+t+", found: "+n+", path: "+ot(r,"/")}function np(e){if(e instanceof y)return"";{let t=e.head,n=e.tail;return j$(t)+`
`+np(n)}}function E$(e){if(e instanceof qr)return"unexpected end of input";if(e instanceof Pt)return"unexpected byte: "+e[0];if(e instanceof Us)return"unexpected sequence: "+e[0];if(e instanceof Ds){let t=e[0];return`unexpected format
`+tp(t)}else{let t=e[0];return`unable to decode
`+np(t)}}function cs(e){if(e instanceof hl)return"bad url: "+e[0];if(e instanceof Yi)return"internal server error: "+e[0];if(e instanceof Zi){let t=e[0];return`json error
`+E$(t)}else{if(e instanceof Rr)return"network error";if(e instanceof Qi)return"not found";if(e instanceof Xi){let t=e[0],n=e[1];return"other error: "+F(t)+" "+n}else return"unauthorized"}}var rp="http://www.w3.org/2000/svg";function ti(e){return Li(rp,"line",e,l([]))}function ip(e){return Li(rp,"polyline",e,l([]))}var ni=class extends _{},fs=class extends _{},Cl=class extends _{};function ps(e,t){return t instanceof ni?nl(pe(e,l([E("viewBox","0 0 24 24"),E("fill","none"),E("stroke","currentColor"),E("stroke-width","2"),E("stroke-linecap","round"),E("stroke-linejoin","round")])),l([ti(l([E("x1","18"),E("y1","6"),E("x2","6"),E("y2","18")])),ti(l([E("x1","6"),E("y1","6"),E("x2","18"),E("y2","18")]))])):t instanceof fs?nl(pe(e,l([E("viewBox","0 0 24 24"),E("fill","none"),E("stroke","currentColor"),E("stroke-width","2"),E("stroke-linecap","round"),E("stroke-linejoin","round")])),l([ti(l([E("x1","3"),E("y1","6"),E("x2","21"),E("y2","6")])),ti(l([E("x1","3"),E("y1","12"),E("x2","21"),E("y2","12")])),ti(l([E("x1","3"),E("y1","18"),E("x2","21"),E("y2","18")]))])):nl(pe(e,l([E("viewBox","0 0 24 24"),E("fill","none"),E("stroke","currentColor"),E("stroke-width","2"),E("stroke-linecap","round"),E("stroke-linejoin","round")])),l([ip(l([E("points","20,6 9,17 4,12")]))]))}var Qa=class extends _{constructor(t,n){super(),this.content=t,this.references=n}},ri=class extends _{},ds=class extends _{constructor(t,n){super(),this.attributes=t,this.content=n}},_s=class extends _{constructor(t,n,r){super(),this.attributes=t,this.level=n,this.content=r}},Xa=class extends _{constructor(t,n,r){super(),this.attributes=t,this.language=n,this.content=r}},fr=class extends _{},st=class extends _{constructor(t){super(),this[0]=t}},pr=class extends _{constructor(t,n){super(),this.content=t,this.destination=n}},dr=class extends _{constructor(t,n){super(),this.content=t,this.destination=n}},_r=class extends _{constructor(t){super(),this.content=t}},$r=class extends _{constructor(t){super(),this.content=t}},Pl=class extends _{constructor(t){super(),this.content=t}},mr=class extends _{constructor(t){super(),this[0]=t}},eu=class extends _{constructor(t){super(),this[0]=t}};function ql(e,t,n){return t==="class"?Ao(e,t,r=>r instanceof $?r[0]+" "+n:n):Qe(e,t,n)}function q$(e){for(;;){let t=e;if(t instanceof y)return l([]);{let n=t.head;if(n===`
`)e=t.tail;else{let r=n,i=t.tail;return b(r,i)}}}}function hr(e){for(;;){let t=e;if(t instanceof y)return l([]);{let n=t.head;if(n===" ")e=t.tail;else{let r=n,i=t.tail;return b(r,i)}}}}function sp(e,t){for(;;){let n=e,r=t;if(r instanceof y)return n>=3?new $([new ri,r]):new x;{let i=r.head;if(i===`
`)return n>=3?new $([new ri,r]):new x;if(i===" "){let s=r.tail;e=n,t=s}else if(i==="	"){let s=r.tail;e=n,t=s}else if(i==="-"){let s=r.tail;e=n+1,t=s}else if(i==="*"){let s=r.tail;e=n+1,t=s}else return new x}}}function P$(e,t){for(;;){let n=e,r=t;if(n instanceof y)return[r,l([])];{let i=n.head;if(i===`
`){let s=n.tail;return[r+`
`,s]}else{let s=i;e=n.tail,t=r+s}}}}function N$(e,t,n){for(;;){let r=e,i=t,s=n;if(r instanceof y)return s===0?new $([r]):new $([r]);{let o=r.head;if(o===`
`)if(s===0){let a=r.tail;return new $([a])}else{if(s===0)return new $([r]);if(o===i)e=r.tail,t=i,n=s-1;else return new x}else{if(s===0)return new $([r]);if(o===i)e=r.tail,t=i,n=s-1;else return new x}}}}function L$(e,t,n,r){for(;;){let i=e,s=t,o=n,a=r,u=N$(i,s,o);if(u instanceof $){let c=u[0][0];return[a,c]}else{let c=P$(i,a),d=c[0];e=c[1],t=s,n=o,r=d}}}function lp(e,t){for(;;){let n=e,r=t;if(n instanceof y)return new $([new x,n]);{let i=n.head;if(i==="`")return new x;if(i===`
`)if(r===""){let s=n.tail;return new $([new x,s])}else{let s=n.tail;return new $([new $(r),s])}else{let s=i;e=n.tail,t=r+s}}}}function I$(e,t,n){for(;;){let r=e,i=t,s=n;if(r instanceof y)return new x;if(r.head===i)e=r.tail,t=i,n=s+1;else if(r.head===`
`)if(s>=3){let u=r.tail;return new $([new x,s,u])}else if(s>=3){let u=hr(r);return yr(lp(u,""),c=>{let d=c[0],p=c[1];return[d,s,p]})}else return new x;else if(s>=3){let u=hr(r);return yr(lp(u,""),c=>{let d=c[0],p=c[1];return[d,s,p]})}else return new x}}function op(e,t,n){return hu(I$(e,n,1),r=>{let i=r[0],s=r[1],o=r[2],a=L$(o,n,s,""),u=a[0],c=a[1];return new $([new Xa(t,i,u),c])})}function M$(e,t,n){for(;;){let r=e,i=t,s=n;if(r instanceof y)return new $([i,Dn(s),l([])]);{let o=r.head;if(o===`
`){let a=r.tail;if(a instanceof y){let u=a;return new $([i,Dn(s),u])}else if(a.head===" "){let c=a.tail;e=hr(c),t=i,n=s}else{let c=a;return new $([i,Dn(s),c])}}else{let a=o;e=r.tail,t=i,n=s+a}}}}function O$(e,t){for(;;){let n=e,r=t;if(n instanceof y)return new x;{let i=n.head;if(i==="]"){let s=n.tail;if(s instanceof y)return new x;if(s.head===":"){let a=s.tail;return M$(a,r,"")}else return new x}else{if(i===`
`)return new x;{let s=i;e=n.tail,t=r+s}}}}}function ap(e,t,n){for(;;){let r=e,i=t,s=n;if(r instanceof y)return new x;{let o=r.head;if(o===" "){let a=r.tail;return new $([i,s,a])}else{if(o==="}")return new $([i,s,r]);{let a=o;e=r.tail,t=i,n=s+a}}}}}function U$(e,t,n){for(;;){let r=e,i=t,s=n;if(r instanceof y)return new x;{let o=r.head;if(o==='"'){let a=r.tail;return new $([i,s,a])}else{let a=o;e=r.tail,t=i,n=s+a}}}}function D$(e,t){for(;;){let n=e,r=t;if(n instanceof y)return new x;{let i=n.head;if(i===" ")return new x;if(i==="="){let s=n.tail;if(s instanceof y)return ap(s,r,"");if(s.head==='"'){let a=s.tail;return U$(a,r,"")}else return ap(s,r,"")}else{let s=i;e=n.tail,t=r+s}}}}function up(e,t){for(;;){let n=e,r=t;if(n instanceof y)return new $([r,n]);{let i=n.head;if(i==="}")return new $([r,n]);if(i===" ")return new $([r,n]);if(i==="#")return new x;if(i===".")return new x;if(i==="=")return new x;if(i===`
`)return new x;{let s=i;e=n.tail,t=r+s}}}}function R$(e,t){for(;;){let n=e,r=t;if(n instanceof y)return new $([r,l([])]);{let i=n.head;if(i===`
`){let s=n.tail;return new $([r,s])}else if(i===" ")e=n.tail,t=r;else return new x}}}function F$(e,t){for(;;){let n=e,r=t,i=hr(n);if(i instanceof y)return new x;{let s=i.head;if(s==="}"){let o=i.tail;return R$(o,r)}else if(s==="#"){let o=i.tail,a=up(o,"");if(a instanceof $){let u=a[0][0];e=a[0][1],t=ql(r,"id",u)}else return new x}else if(s==="."){let o=i.tail,a=up(o,"");if(a instanceof $){let u=a[0][0];e=a[0][1],t=ql(r,"class",u)}else return new x}else{let o=D$(i,"");if(o instanceof $){let a=o[0][0],u=o[0][1];e=o[0][2],t=ql(r,a,u)}else return new x}}}}function G$(e){return e==="#"||e==="?"||e==="!"?!1:e!==","}function W$(e,t){for(;;){let n=e,r=t;if(n instanceof y)return r;{let i=n.head;if(i===" "){let s=n.tail;if(P(s,l([])))return r;r===""?(e=n.tail,t=r):(e=n.tail,t=r+"-")}else if(i===`
`){let s=n.tail;if(P(s,l([])))return r;r===""?(e=n.tail,t=r):(e=n.tail,t=r+"-")}else{let s=i;e=n.tail,t=r+s}}}}function H$(e){let n=zr(e),r=zt(n,G$);return W$(r,"")}function J$(e,t,n){for(;;){let r=e,i=t,s=n;if(i<0)return new x;if(r instanceof y)return i>0?new x:i===0?new $([s,l([])]):new x;{let o=r.head;if(o===" ")if(i===0){let a=r.tail;return new $([s,a])}else return new x;else if(o==="#")e=r.tail,t=i-1,n=s;else return new x}}}function K$(e,t,n){for(;;){let r=e,i=t,s=n;if(r instanceof y)return[T(s),l([])];{let o=r.tail;if(o instanceof y){let a=r.head;if(a===`
`)return[T(s),l([])];{let u=a;e=o,t=i,n=b(u,s)}}else{let a=o.head;if(a===`
`){let u=r.head;if(u===`
`){let c=o.tail;return[T(s),c]}else{let c=u;e=o,t=i,n=b(c,s)}}else if(a==="#"){let u=r.head;if(u===`
`){let c=o.tail,d=J$(c,i-1,b(`
`,s));if(d instanceof $){let p=d[0][0];e=d[0][1],t=i,n=p}else return[T(s),r]}else{let c=u;e=o,t=i,n=b(c,s)}}else{let u=r.head;e=o,t=i,n=b(u,s)}}}}}function V$(e,t,n,r){for(;;){let i=e,s=t,o=n,a=r;if(i instanceof y)return[!0,a,i];if(i.head==="`")e=i.tail,t=s,n=o+1,r=a;else return s===o?[!0,a,i]:[!1,a+_i("`",o),i]}}function cp(e,t,n){for(;;){let r=e,i=t,s=n;if(r instanceof y)return[s,r];{let o=r.head;if(o==="`"){let a=r.tail,u=V$(a,i,1,s),c=u[0],d=u[1],p=u[2];if(c)return[d,p];e=p,t=i,n=d}else{let a=o;e=r.tail,t=i,n=s+a}}}}function Y$(e,t){for(;;){let n=e,r=t;if(n instanceof y){let i=cp(n,r,""),s=i[0],o=i[1],a;fn(s," `")?a=mi(s):a=s;let c=a,d;$i(c,"` ")?d=hi(c):d=c;let w=d;return[new Pl(w),o]}else if(n.head==="`")e=n.tail,t=r+1;else{let s=cp(n,r,""),o=s[0],a=s[1],u;fn(o," `")?u=mi(o):u=o;let d=u,p;$i(d,"` ")?p=hi(d):p=d;let v=p;return[new Pl(v),a]}}}function Z$(e,t,n){for(;;){let r=e,i=t,s=n;if(r instanceof y)return new x;{let o=r.head;if(o==="`")return new x;if(o==="	"){let a=r.tail;if(a instanceof y)if(o===i){let c=a,d=T(s);if(d instanceof y)return new x;{let p=d;return new $([p,c])}}else{let c=o;e=a,t=i,n=b(c,s)}else{let u=a.head;if(u===i)e=a.tail,t=i,n=b(" ",b(u,s));else if(o===i){let d=a,p=T(s);if(p instanceof y)return new x;{let w=p;return new $([w,d])}}else{let d=o;e=a,t=i,n=b(d,s)}}}else if(o===`
`){let a=r.tail;if(a instanceof y)if(o===i){let c=a,d=T(s);if(d instanceof y)return new x;{let p=d;return new $([p,c])}}else{let c=o;e=a,t=i,n=b(c,s)}else{let u=a.head;if(u===i)e=a.tail,t=i,n=b(" ",b(u,s));else if(o===i){let d=a,p=T(s);if(p instanceof y)return new x;{let w=p;return new $([w,d])}}else{let d=o;e=a,t=i,n=b(d,s)}}}else if(o===" "){let a=r.tail;if(a instanceof y)if(o===i){let c=a,d=T(s);if(d instanceof y)return new x;{let p=d;return new $([p,c])}}else{let c=o;e=a,t=i,n=b(c,s)}else{let u=a.head;if(u===i)e=a.tail,t=i,n=b(" ",b(u,s));else if(o===i){let d=a,p=T(s);if(p instanceof y)return new x;{let w=p;return new $([w,d])}}else{let d=o;e=a,t=i,n=b(d,s)}}}else if(o===i){let u=r.tail,c=T(s);if(c instanceof y)return new x;{let d=c;return new $([d,u])}}else{let u=o;e=r.tail,t=i,n=b(u,s)}}}}function fp(e,t,n,r){for(;;){let i=e,s=t,o=n,a=r;if(i instanceof y)return new x;{let u=i.head;if(u===")")if(s){let c=i.tail;return new $([o,new eu(a),c])}else{let c=u;e=i.tail,t=s,n=o,r=a+c}else if(u==="]")if(s){let c=u;e=i.tail,t=s,n=o,r=a+c}else{let c=i.tail;return new $([o,new mr(a),c])}else if(u===`
`)if(s)e=i.tail,t=s,n=o,r=a;else if(!s)e=i.tail,t=s,n=o,r=a+" ";else{let c=u;e=i.tail,t=s,n=o,r=a+c}else{let c=u;e=i.tail,t=s,n=o,r=a+c}}}}function Q$(e,t){for(;;){let n=e,r=t;if(n instanceof y)return new x;{let i=n.tail;if(i instanceof y){let s=n.head;e=i,t=b(s,r)}else{let s=i.head;if(s==="["){let o=n.head;if(o==="]"){let a=i.tail,u=T(r);return fp(a,!1,u,"")}else{let a=o;e=i,t=b(a,r)}}else if(s==="("){let o=n.head;if(o==="]"){let a=i.tail,u=T(r);return fp(a,!0,u,"")}else{let a=o;e=i,t=b(a,r)}}else{let o=n.head;e=i,t=b(o,r)}}}}}function X$(e,t){for(;;){let n=e,r=t;if(n instanceof y)return r>0?new $([r,l([])]):new x;{let i=n.head;if(i==="#")e=n.tail,t=r+1;else if(i===" ")if(r!==0){let s=n.tail;return new $([r,s])}else return new x;else if(i===`
`)if(r!==0){let s=n.tail;return new $([r,s])}else return new x;else return new x}}}function Nl(e,t){for(;;){let n=e,r=t;if(n instanceof y)return r;{let i=n.head,s=n.tail;if(i instanceof fr)e=s,t=r;else if(i instanceof st){let o=i[0];e=s,t=r+o}else if(i instanceof pr){let o=i.content,a=Nl(o,r);e=s,t=a}else if(i instanceof dr){let o=i.content,a=Nl(o,r);e=s,t=a}else if(i instanceof _r){let o=i.content;e=pe(o,s),t=r}else if(i instanceof $r){let o=i.content;e=pe(o,s),t=r}else{let o=i.content;e=s,t=r+o}}}}function em(e,t){for(;;){let n=e,r=t;if(n instanceof y)return[T(r),l([])];{let i=n.tail;if(i instanceof y){let s=n.head;if(s===`
`)return[T(r),l([])];{let o=s;e=i,t=b(o,r)}}else if(i.head===`
`){let o=n.head;if(o===`
`){let a=i.tail;return[T(r),a]}else{let a=o;e=i,t=b(a,r)}}else{let o=n.head;e=i,t=b(o,r)}}}}function pp(e,t){let n=Z$(e,t,l([]));if(n instanceof $){let r=n[0][0],i=n[0][1],s=Ll(r,"",l([]));return new $([s,i])}else return new x}function Ll(e,t,n){for(;;){let r=e,i=t,s=n;if(r instanceof y)return i===""?T(s):T(b(new st(i),s));{let o=r.head;if(o==="\\"){let a=r.tail;if(a instanceof y){let u=o;e=a,t=i+u,n=s}else{let u=a.head,c=a.tail;u===`
`?(e=c,t="",n=b(new fr,b(new st(i),s))):u===" "?(e=c,t=i+"&nbsp;",n=s):u==="!"||u==='"'||u==="#"||u==="$"||u==="%"||u==="&"||u==="'"||u==="("||u===")"||u==="*"||u==="+"||u===","||u==="-"||u==="."||u==="/"||u===":"||u===";"||u==="<"||u==="="||u===">"||u==="?"||u==="@"||u==="["||u==="\\"||u==="]"||u==="^"||u==="_"||u==="`"||u==="{"||u==="|"||u==="}"||u==="~"?(e=c,t=i+u,n=s):(e=pe(l([u]),c),t=i+"\\",n=s)}}else if(o==="_"){let a=r.tail;if(a instanceof y){let u=o;e=a,t=i+u,n=s}else{let u=a.head;if(u!==" "&&u!=="	"&&u!==`
`){let c=a.tail,d=b(u,c),p=pp(d,"_");if(p instanceof $){let w=p[0][0];e=p[0][1],t="",n=b(new _r(w),b(new st(i),s))}else e=d,t=i+"_",n=s}else{let c=o;e=a,t=i+c,n=s}}}else if(o==="*"){let a=r.tail;if(a instanceof y){let u=o;e=a,t=i+u,n=s}else{let u=a.head;if(u!==" "&&u!=="	"&&u!==`
`){let c=a.tail,d=b(u,c),p=pp(d,"*");if(p instanceof $){let w=p[0][0];e=p[0][1],t="",n=b(new $r(w),b(new st(i),s))}else e=d,t=i+"*",n=s}else{let c=o;e=a,t=i+c,n=s}}}else if(o==="["){let a=r.tail,u=dp(a,(c,d)=>new pr(c,d));if(u instanceof $){let c=u[0][0];e=u[0][1],t="",n=b(c,b(new st(i),s))}else e=a,t=i+"[",n=s}else if(o==="!"){let a=r.tail;if(a instanceof y){let u=o;e=a,t=i+u,n=s}else if(a.head==="["){let c=a.tail,d=dp(c,(p,w)=>new dr(p,w));if(d instanceof $){let p=d[0][0];e=d[0][1],t="",n=b(p,b(new st(i),s))}else e=c,t=i+"![",n=s}else{let c=o;e=a,t=i+c,n=s}}else if(o==="`"){let a=r.tail,u=Y$(a,1),c=u[0];e=u[1],t="",n=b(c,b(new st(i),s))}else if(o===`
`){let a=r.tail;e=hr(a),t=i+`
`,n=s}else{let a=o;e=r.tail,t=i+a,n=s}}}}function dp(e,t){let n=Q$(e,l([]));if(n instanceof $){let r=n[0][0],i=n[0][1],s=n[0][2],o=Ll(r,"",l([])),a;i instanceof mr&&i[0]===""?a=new mr(Nl(o,"")):a=i;let u=a;return new $([t(o,u),s])}else return new x}function zn(e,t){let n=em(e,l([])),r=n[0],i=n[1],s=Ll(r,"",l([]));return[new ds(t,s),i]}function tm(e,t,n){let r=X$(e,1);if(r instanceof $){let i=r[0][0],s=r[0][1],o=hr(s),a=K$(o,i,l([])),u=a[0],c=a[1],d=Ll(u,"",l([])),p=Nl(d,""),w,v=H$(p);if(v==="")w=[t,n];else{let Q=v;if($t(t,Q)instanceof g)w=[t,n];else{let L=Qe(t,Q,"#"+Q),C=ql(n,"id",Q);w=[L,C]}}let k=w,B=k[0],j=k[1];return[new _s(j,i,d),B,c]}else{let i=zn(b("#",e),n),s=i[0],o=i[1];return[s,t,o]}}function nm(e,t,n,r){for(;;){let i=e,s=t,o=n,a=r,u=q$(i),c=hr(u);if(c instanceof y)return new Qa(T(o),s);{let d=c.head;if(d==="{"){let p=c.tail,w=F$(p,a);if(w instanceof $){let v=w[0][0];e=w[0][1],t=s,n=o,r=v}else{let v=zn(c,a),k=v[0];e=v[1],t=s,n=b(k,o),r=ee()}}else if(d==="#"){let p=c.tail,w=tm(p,s,a),v=w[0],k=w[1];e=w[2],t=k,n=b(v,o),r=ee()}else if(d==="~"){let p=d,w=c.tail,v=op(w,a,p);if(v instanceof $){let k=v[0][0];e=v[0][1],t=s,n=b(k,o),r=ee()}else{let k=zn(c,a),B=k[0];e=k[1],t=s,n=b(B,o),r=ee()}}else if(d==="`"){let p=d,w=c.tail,v=op(w,a,p);if(v instanceof $){let k=v[0][0];e=v[0][1],t=s,n=b(k,o),r=ee()}else{let k=zn(c,a),B=k[0];e=k[1],t=s,n=b(B,o),r=ee()}}else if(d==="["){let p=c.tail,w=O$(p,"");if(w instanceof $){let v=w[0][0],k=w[0][1],B=w[0][2],j=Qe(s,v,k);e=B,t=j,n=o,r=ee()}else{let v=zn(c,a),k=v[0];e=v[1],t=s,n=b(k,o),r=ee()}}else if(d==="-"){let p=c.tail,w=sp(1,p);if(w instanceof $){let v=w[0][0];e=w[0][1],t=s,n=b(v,o),r=ee()}else{let v=zn(c,a),k=v[0];e=v[1],t=s,n=b(k,o),r=ee()}}else if(d==="*"){let p=c.tail,w=sp(1,p);if(w instanceof $){let v=w[0][0];e=w[0][1],t=s,n=b(v,o),r=ee()}else{let v=zn(c,a),k=v[0];e=v[1],t=s,n=b(k,o),r=ee()}}else{let p=zn(c,a),w=p[0];e=p[1],t=s,n=b(w,o),r=ee()}}}}function _p(e){let n=As(e,`\r
`,`
`),r=zr(n);return nm(r,ee(),l([]),ee())}function $p(e,t){if(e instanceof mr){let n=e[0],r=$t(t,n);return r instanceof g?r[0]:""}else return e[0]}function tu(e,t){for(;;){let n=e,r=t;if(n instanceof y)return r;{let i=n.head,s=n.tail;if(i instanceof fr)e=s,t=r;else if(i instanceof st){let o=i[0];e=s,t=r+o}else if(i instanceof pr){let o=i.content,a=tu(o,r);e=s,t=a}else if(i instanceof dr){let o=i.content,a=tu(o,r);e=s,t=a}else if(i instanceof _r){let o=i.content;e=pe(o,s),t=r}else if(i instanceof $r){let o=i.content;e=pe(o,s),t=r}else{let o=i.content;e=s,t=r+o}}}}function Sn(e,t){let r=Ln(e),i=Ar(r,(s,o)=>di(s[0],o[0]));return Ge(i,t,(s,o)=>b(E(o[0],o[1]),s))}function rm(e,t,n){if(t instanceof fr)return l([ef(l([]))]);if(t instanceof st){let r=t[0];return l([m(r)])}else if(t instanceof pr){let r=t.content,i=t.destination;return l([nr(l([er($p(i,n)),f("text-pink-700 hover:underline cursor-pointer")]),Ft(e,r,n))])}else if(t instanceof dr){let r=t.content,i=t.destination;return l([nf(l([Uc($p(i,n)),Dc(tu(r,"")),f("max-w-full h-auto rounded-lg shadow-lg mt-8")]))])}else if(t instanceof _r){let r=t.content;return l([tf(l([f("italic")]),Ft(e,r,n))])}else if(t instanceof $r){let r=t.content;return l([Wi(l([f("font-bold")]),Ft(e,r,n))])}else{let r=t.content;return l([Be(l([f("bg-zinc-800 px-1 py-0.5 rounded text-sm font-mono")]),l([m(r)]))])}}function Ft(e,t,n){for(;;){let r=e,i=t,s=n;if(i instanceof y)return r;{let o=i.head,a=i.tail;e=rm(r,o,s),t=a,n=s}}}function im(e,t,n){let r;if(t instanceof ri)r=Xc(l([f("border-zinc-700 my-8")]));else if(t instanceof ds){let s=t.attributes,o=t.content;r=se(Sn(s,l([f("pt-8")])),Ft(l([]),o,n))}else if(t instanceof _s){let s=t.attributes,o=t.level,a=t.content;o===1?r=tr(Sn(s,l([f("text-3xl text-pink-700 font-light")])),Ft(l([]),a,n)):o===2?r=Le(Sn(s,l([f("text-2xl text-pink-600 font-light pt-16")])),Ft(l([]),a,n)):o===3?r=Y(Sn(s,l([f("text-xl text-pink-600 font-light pt-12")])),Ft(l([]),a,n)):o===4?r=me(Sn(s,l([f("text-lg text-pink-600 font-light pt-8")])),Ft(l([]),a,n)):o===5?r=Yc(Sn(s,l([f("text-base text-pink-600 font-light pt-6")])),Ft(l([]),a,n)):r=Zc(Sn(s,l([f("text-sm text-pink-600 font-light pt-4")])),Ft(l([]),a,n))}else{let s=t.attributes,o=t.language,a=t.content;r=Ie(Sn(s,l([f("pt-8")])),l([Be((()=>{if(o instanceof $){let u=o[0];return l([f("language-"+u+" bg-zinc-800 p-4 rounded-md block overflow-x-auto")])}else return l([f("bg-zinc-800 p-4 rounded-md block overflow-x-auto")])})(),l([m(a)]))]))}return b(r,e)}function sm(e,t,n){for(;;){let r=e,i=t,s=n;if(r instanceof y)return s;{let o=r.head,a=r.tail,u=im(s,o,i);e=a,t=i,n=u}}}function lm(e){return T(sm(e.content,e.references,l([le()])))}function Il(e){let n=_p(e);return lm(n)}var jn=class extends _{},ii=class extends _{constructor(t){super(),this.articles=t}};function Ml(e){let t;if(e instanceof jn)t=wt(l([["version",Nt(0)]]));else{let r=e.articles;t=wt(l([["version",Nt(1)],["articles",Ci(r,bl)]]))}return ht(t)}function mp(){return W("version",Te,e=>e===0?He(new jn):e===1?W("articles",Kt(Wr()),t=>He(new ii(t))):zc(new jn,"Unsupported model version"))}function hp(e,t,n){return Vt(r=>{let i=cf(e);if(i instanceof g){let s=i[0],o=Ti(ff(s),t);if(o instanceof g){let a=o[0];return r(n(new $(a)))}else return r(n(new x))}else return r(n(new x))})}var si="jst_lustre_state";var xo="src/jst_lustre.gleam",z=class extends _{constructor(t,n,r,i,s,o,a,u,c,d,p,w,v,k,B,j,Z,Q,I){super(),this.base_uri=t,this.route=n,this.session=r,this.articles=i,this.short_urls=s,this.short_url_form_short_code=o,this.short_url_form_target_url=a,this.djot_demo_content=u,this.edit_view_mode=c,this.profile_menu_open=d,this.notice=p,this.debug_use_local_storage=w,this.delete_confirmation=v,this.copy_feedback=k,this.expanded_urls=B,this.login_form_open=j,this.login_username=Z,this.login_password=Q,this.login_loading=I}},En=class extends _{},ms=class extends _{},ue=class extends _{constructor(t){super(),this.uri=t}},on=class extends _{constructor(t){super(),this.uri=t}},Ul=class extends _{},su=class extends _{},lu=class extends _{constructor(t){super(),this.opt=t}},Dl=class extends _{constructor(t){super(),this.article=t}},Wt=class extends _{constructor(t,n){super(),this.id=t,this.result=n}},Tn=class extends _{constructor(t){super(),this.result=t}},Rl=class extends _{constructor(t,n){super(),this.article=t,this.text=n}},Fl=class extends _{constructor(t,n){super(),this.article=t,this.text=n}},Gl=class extends _{constructor(t,n){super(),this.article=t,this.text=n}},Wl=class extends _{constructor(t,n){super(),this.article=t,this.text=n}},Hl=class extends _{constructor(t,n){super(),this.article=t,this.content=n}},li=class extends _{constructor(t,n){super(),this.id=t,this.result=n}},Jl=class extends _{constructor(t){super(),this.article=t}},Kl=class extends _{constructor(t){super(),this.article=t}},hs=class extends _{},Vl=class extends _{constructor(t){super(),this.result=t}},Yl=class extends _{constructor(t){super(),this.article=t}},Zl=class extends _{constructor(t,n){super(),this.id=t,this.result=n}},Ql=class extends _{constructor(t){super(),this.article=t}},Xl=class extends _{constructor(t){super(),this.article=t}},ou=class extends _{constructor(t,n){super(),this.username=t,this.password=n}},$s=class extends _{constructor(t){super(),this.result=t}},ws=class extends _{},eo=class extends _{constructor(t){super(),this.result=t}},to=class extends _{},gs=class extends _{constructor(t){super(),this.result=t}},no=class extends _{constructor(t){super(),this.content=t}},ro=class extends _{constructor(t,n){super(),this.short_code=t,this.target_url=n}},io=class extends _{constructor(t){super(),this.result=t}},so=class extends _{constructor(t){super(),this.result=t}},xs=class extends _{constructor(t){super(),this.id=t}},lo=class extends _{constructor(t,n){super(),this.id=t,this.result=n}},oo=class extends _{constructor(t){super(),this.id=t}},oi=class extends _{},ao=class extends _{constructor(t){super(),this.text=t}},uo=class extends _{constructor(t){super(),this.text=t}},gr=class extends _{constructor(t){super(),this.short_code=t}},co=class extends _{},xr=class extends _{constructor(t,n){super(),this.id=t,this.is_active=n}},fo=class extends _{constructor(t,n){super(),this.id=t,this.result=n}},Bn=class extends _{constructor(t){super(),this.id=t}},po=class extends _{},bs=class extends _{},_o=class extends _{constructor(t){super(),this.res=t}},wr=class extends _{},$o=class extends _{constructor(t){super(),this[0]=t}},mo=class extends _{constructor(t){super(),this[0]=t}},ho=class extends _{},au=class extends _{},uu=class extends _{},wo=class extends _{},go=class extends _{};function um(e){_e("fetch_articles_model called","src/jst_lustre.gleam",1053);let t=e[0],n=e[1],r,i=t;r=new z(i.base_uri,i.route,i.session,new X,i.short_urls,i.short_url_form_short_code,i.short_url_form_target_url,i.djot_demo_content,i.edit_view_mode,i.profile_menu_open,i.notice,i.debug_use_local_storage,i.delete_confirmation,i.copy_feedback,i.expanded_urls,i.login_form_open,i.login_username,i.login_password,i.login_loading);let s=r,o=Kn(l([n,ns(a=>new Tn(a),s.base_uri)]));return[s,o]}function Ol(e,t){let n=Ja(t);if(n instanceof rn)return[(()=>{let r=e;return new z(r.base_uri,n,r.session,r.articles,r.short_urls,r.short_url_form_short_code,r.short_url_form_target_url,r.djot_demo_content,r.edit_view_mode,r.profile_menu_open,r.notice,r.debug_use_local_storage,r.delete_confirmation,r.copy_feedback,r.expanded_urls,r.login_form_open,r.login_username,r.login_password,r.login_loading)})(),S()];if(n instanceof bt)return e.articles instanceof G?[(()=>{let i=e;return new z(i.base_uri,n,i.session,new X,i.short_urls,i.short_url_form_short_code,i.short_url_form_target_url,i.djot_demo_content,i.edit_view_mode,i.profile_menu_open,i.notice,i.debug_use_local_storage,i.delete_confirmation,i.copy_feedback,i.expanded_urls,i.login_form_open,i.login_username,i.login_password,i.login_loading)})(),ns(i=>new Tn(i),e.base_uri)]:[(()=>{let i=e;return new z(i.base_uri,n,i.session,i.articles,i.short_urls,i.short_url_form_short_code,i.short_url_form_target_url,i.djot_demo_content,i.edit_view_mode,i.profile_menu_open,i.notice,i.debug_use_local_storage,i.delete_confirmation,i.copy_feedback,i.expanded_urls,i.login_form_open,i.login_username,i.login_password,i.login_loading)})(),S()];if(n instanceof Ot){let r=n.slug,i=e.articles;if(i instanceof G)return[(()=>{let s=e;return new z(s.base_uri,n,s.session,new X,s.short_urls,s.short_url_form_short_code,s.short_url_form_target_url,s.djot_demo_content,s.edit_view_mode,s.profile_menu_open,s.notice,s.debug_use_local_storage,s.delete_confirmation,s.copy_feedback,s.expanded_urls,s.login_form_open,s.login_username,s.login_password,s.login_loading)})(),ns(s=>new Tn(s),e.base_uri)];if(i instanceof N){let s=i[0],o=So(s,S(),(c,d)=>{let p=d.slug===r;return d.content instanceof G?p?[Kn(l([c,sr(v=>new Wt(d.id,v),d.id,e.base_uri)])),(()=>{let v=d;return new ge(v.id,v.slug,v.revision,v.author,v.tags,v.published_at,v.title,v.subtitle,v.leading,new X,v.draft)})()]:[c,d]:[c,d]}),a=o[0],u=o[1];return[(()=>{let c=e;return new z(c.base_uri,n,c.session,new N(u),c.short_urls,c.short_url_form_short_code,c.short_url_form_target_url,c.djot_demo_content,c.edit_view_mode,c.profile_menu_open,c.notice,c.debug_use_local_storage,c.delete_confirmation,c.copy_feedback,c.expanded_urls,c.login_form_open,c.login_username,c.login_password,c.login_loading)})(),a]}else return[(()=>{let s=e;return new z(s.base_uri,n,s.session,s.articles,s.short_urls,s.short_url_form_short_code,s.short_url_form_target_url,s.djot_demo_content,s.edit_view_mode,s.profile_menu_open,s.notice,s.debug_use_local_storage,s.delete_confirmation,s.copy_feedback,s.expanded_urls,s.login_form_open,s.login_username,s.login_password,s.login_loading)})(),S()]}else if(n instanceof yt){let r=n.id,i=e.articles;if(i instanceof G)return[(()=>{let s=e;return new z(s.base_uri,n,s.session,new X,s.short_urls,s.short_url_form_short_code,s.short_url_form_target_url,s.djot_demo_content,s.edit_view_mode,s.profile_menu_open,s.notice,s.debug_use_local_storage,s.delete_confirmation,s.copy_feedback,s.expanded_urls,s.login_form_open,s.login_username,s.login_password,s.login_loading)})(),ns(s=>new Tn(s),e.base_uri)];if(i instanceof N){let s=i[0],o=So(s,S(),(c,d)=>{let p;if(d.draft instanceof $)p=d;else{let j=d;p=new ge(j.id,j.slug,j.revision,j.author,j.tags,j.published_at,j.title,j.subtitle,j.leading,j.content,Gr(d))}let v=p,k=v.id===r;return v.content instanceof G?k?[Kn(l([c,sr(j=>new Wt(v.id,j),v.id,e.base_uri)])),(()=>{let j=v;return new ge(j.id,j.slug,j.revision,j.author,j.tags,j.published_at,j.title,j.subtitle,j.leading,new X,Gr(v))})()]:[c,v]:[c,v]}),a=o[0],u=o[1];return _e(Kr(n),"src/jst_lustre.gleam",1139),[(()=>{let c=e;return new z(c.base_uri,n,c.session,new N(u),c.short_urls,c.short_url_form_short_code,c.short_url_form_target_url,c.djot_demo_content,c.edit_view_mode,c.profile_menu_open,c.notice,c.debug_use_local_storage,c.delete_confirmation,c.copy_feedback,c.expanded_urls,c.login_form_open,c.login_username,c.login_password,c.login_loading)})(),a]}else return[(()=>{let s=e;return new z(s.base_uri,n,s.session,s.articles,s.short_urls,s.short_url_form_short_code,s.short_url_form_target_url,s.djot_demo_content,s.edit_view_mode,s.profile_menu_open,s.notice,s.debug_use_local_storage,s.delete_confirmation,s.copy_feedback,s.expanded_urls,s.login_form_open,s.login_username,s.login_password,s.login_loading)})(),S()]}else{if(n instanceof Ut)return[(()=>{let r=e;return new z(r.base_uri,n,r.session,r.articles,r.short_urls,r.short_url_form_short_code,r.short_url_form_target_url,r.djot_demo_content,r.edit_view_mode,r.profile_menu_open,r.notice,r.debug_use_local_storage,r.delete_confirmation,r.copy_feedback,r.expanded_urls,r.login_form_open,r.login_username,r.login_password,r.login_loading)})(),S()];if(n instanceof Dt)return[(()=>{let r=e;return new z(r.base_uri,n,r.session,r.articles,r.short_urls,r.short_url_form_short_code,r.short_url_form_target_url,r.djot_demo_content,r.edit_view_mode,r.profile_menu_open,r.notice,r.debug_use_local_storage,r.delete_confirmation,r.copy_feedback,r.expanded_urls,r.login_form_open,r.login_username,r.login_password,r.login_loading)})(),S()];if(n instanceof dt)return e.short_urls instanceof G?[(()=>{let i=e;return new z(i.base_uri,n,i.session,i.articles,new X,i.short_url_form_short_code,i.short_url_form_target_url,i.djot_demo_content,i.edit_view_mode,i.profile_menu_open,i.notice,i.debug_use_local_storage,i.delete_confirmation,i.copy_feedback,i.expanded_urls,i.login_form_open,i.login_username,i.login_password,i.login_loading)})(),Qf(i=>new so(i),e.base_uri,10,0)]:[(()=>{let i=e;return new z(i.base_uri,n,i.session,i.articles,i.short_urls,i.short_url_form_short_code,i.short_url_form_target_url,i.djot_demo_content,i.edit_view_mode,i.profile_menu_open,i.notice,i.debug_use_local_storage,i.delete_confirmation,i.copy_feedback,i.expanded_urls,i.login_form_open,i.login_username,i.login_password,i.login_loading)})(),S()];if(n instanceof vn){let r=n[0];return[(()=>{let i=e;return new z(i.base_uri,n,i.session,i.articles,i.short_urls,i.short_url_form_short_code,i.short_url_form_target_url,i.djot_demo_content,i.edit_view_mode,i.profile_menu_open,i.notice,i.debug_use_local_storage,i.delete_confirmation,i.copy_feedback,i.expanded_urls,i.login_form_open,i.login_username,i.login_password,i.login_loading)})(),S()]}else return n instanceof H?[(()=>{let r=e;return new z(r.base_uri,n,r.session,r.articles,r.short_urls,r.short_url_form_short_code,r.short_url_form_target_url,r.djot_demo_content,r.edit_view_mode,r.profile_menu_open,r.notice,r.debug_use_local_storage,r.delete_confirmation,r.copy_feedback,r.expanded_urls,r.login_form_open,r.login_username,r.login_password,r.login_loading)})(),S()]:[(()=>{let r=e;return new z(r.base_uri,n,r.session,r.articles,r.short_urls,r.short_url_form_short_code,r.short_url_form_target_url,r.djot_demo_content,r.edit_view_mode,r.profile_menu_open,r.notice,r.debug_use_local_storage,r.delete_confirmation,r.copy_feedback,r.expanded_urls,r.login_form_open,r.login_username,r.login_password,r.login_loading)})(),S()]}}function wp(e,t){if(t instanceof ue){let n=t.uri;return Ol(e,n)}else if(t instanceof on){let n=t.uri;return _e("user mouse down navigation","src/jst_lustre.gleam",296),_e(n,"src/jst_lustre.gleam",297),[e,gn(Ee(n),new x,new x)]}else{if(t instanceof Ul)return[(()=>{let n=e;return new z(n.base_uri,n.route,n.session,n.articles,n.short_urls,n.short_url_form_short_code,n.short_url_form_target_url,n.djot_demo_content,n.edit_view_mode,!e.profile_menu_open,n.notice,n.debug_use_local_storage,n.delete_confirmation,n.copy_feedback,n.expanded_urls,n.login_form_open,n.login_username,n.login_password,n.login_loading)})(),S()];if(t instanceof su)return[(()=>{let n=e;return new z(n.base_uri,n.route,n.session,n.articles,n.short_urls,n.short_url_form_short_code,n.short_url_form_target_url,n.djot_demo_content,n.edit_view_mode,n.profile_menu_open,"",n.debug_use_local_storage,n.delete_confirmation,n.copy_feedback,n.expanded_urls,n.login_form_open,n.login_username,n.login_password,n.login_loading)})(),S()];if(t instanceof lu){let n=t.opt;if(n instanceof $){let r=n[0];if(r instanceof jn)return[e,S()];{let i=r.articles;return[(()=>{let s=e;return new z(s.base_uri,s.route,s.session,new N(i),s.short_urls,s.short_url_form_short_code,s.short_url_form_target_url,s.djot_demo_content,s.edit_view_mode,s.profile_menu_open,s.notice,s.debug_use_local_storage,s.delete_confirmation,s.copy_feedback,s.expanded_urls,s.login_form_open,s.login_username,s.login_password,s.login_loading)})(),S()]}}else return[e,S()]}else if(t instanceof Dl){let n=t.article,r=n.content;if(r instanceof G){let i,s=e.articles;i=it(s,a=>M(a,u=>{if(n.id===u.id){let d=u;return new ge(d.id,d.slug,d.revision,d.author,d.tags,d.published_at,d.title,d.subtitle,d.leading,new X,d.draft)}else return u}));let o=i;return[(()=>{let a=e;return new z(a.base_uri,a.route,a.session,o,a.short_urls,a.short_url_form_short_code,a.short_url_form_target_url,a.djot_demo_content,a.edit_view_mode,a.profile_menu_open,a.notice,a.debug_use_local_storage,a.delete_confirmation,a.copy_feedback,a.expanded_urls,a.login_form_open,a.login_username,a.login_password,a.login_loading)})(),sr(a=>new Wt(n.id,a),n.id,e.base_uri)]}else return r instanceof X?[e,S()]:r instanceof N?[e,S()]:r instanceof ze?[e,S()]:[e,sr(i=>new Wt(n.id,i),n.id,e.base_uri)]}else if(t instanceof Wt){let n=t.id,r=t.result;if(r instanceof g){let i=r[0],s=n===i.id;if(!s)throw K("let_assert",xo,"jst_lustre",403,"update","Pattern match failed, no pattern matched the value.",{value:s,start:12101,end:12135,pattern_start:12112,pattern_end:12116});let o,a=e.articles;o=it(a,c=>M(c,d=>n===d.id?i:d));let u=o;return[(()=>{let c=e;return new z(c.base_uri,c.route,c.session,u,c.short_urls,c.short_url_form_short_code,c.short_url_form_target_url,c.djot_demo_content,c.edit_view_mode,c.profile_menu_open,c.notice,c.debug_use_local_storage,c.delete_confirmation,c.copy_feedback,c.expanded_urls,c.login_form_open,c.login_username,c.login_password,c.login_loading)})(),S()]}else{let i=r[0],s,o=e.articles;s=it(o,u=>M(u,c=>{if(n===c.id){let p=c;return new ge(p.id,p.slug,p.revision,p.author,p.tags,p.published_at,p.title,p.subtitle,p.leading,new yn(i),p.draft)}else return c}));let a=s;return[(()=>{let u=e;return new z(u.base_uri,u.route,u.session,a,u.short_urls,u.short_url_form_short_code,u.short_url_form_target_url,u.djot_demo_content,u.edit_view_mode,u.profile_menu_open,u.notice,u.debug_use_local_storage,u.delete_confirmation,u.copy_feedback,u.expanded_urls,u.login_form_open,u.login_username,u.login_password,u.login_loading)})(),S()]}}else if(t instanceof Tn){let n=t.result,r=e.route;if(n instanceof g)if(r instanceof Ot){let i=n[0],s=r.slug,o=mt(i,a=>a.slug===s);if(o instanceof g)if(o[0].content instanceof G){let u=o[0].id,c=M(i,d=>{if(d.slug===s){let w=d;return new ge(w.id,w.slug,w.revision,w.author,w.tags,w.published_at,w.title,w.subtitle,w.leading,new X,w.draft)}else return d});return[(()=>{let d=e;return new z(d.base_uri,d.route,d.session,new N(c),d.short_urls,d.short_url_form_short_code,d.short_url_form_target_url,d.djot_demo_content,d.edit_view_mode,d.profile_menu_open,d.notice,d.debug_use_local_storage,d.delete_confirmation,d.copy_feedback,d.expanded_urls,d.login_form_open,d.login_username,d.login_password,d.login_loading)})(),sr(d=>new Wt(u,d),u,e.base_uri)]}else return _e("article exists. content is pending or loading.","src/jst_lustre.gleam",369),[e,S()];else return[e,gn((()=>{let a=e.route,u=R(a),c=new nn(u);return Kr(c)})(),new x,new x)]}else if(r instanceof yt){let i=n[0],s=r.id;return[(()=>{let o=e;return new z(o.base_uri,o.route,o.session,new N(i),o.short_urls,o.short_url_form_short_code,o.short_url_form_target_url,o.djot_demo_content,o.edit_view_mode,o.profile_menu_open,o.notice,o.debug_use_local_storage,o.delete_confirmation,o.copy_feedback,o.expanded_urls,o.login_form_open,o.login_username,o.login_password,o.login_loading)})(),sr(o=>new Wt(s,o),s,e.base_uri)]}else{let i=n[0];return[(()=>{let s=e;return new z(s.base_uri,s.route,s.session,new N(i),s.short_urls,s.short_url_form_short_code,s.short_url_form_target_url,s.djot_demo_content,s.edit_view_mode,s.profile_menu_open,s.notice,s.debug_use_local_storage,s.delete_confirmation,s.copy_feedback,s.expanded_urls,s.login_form_open,s.login_username,s.login_password,s.login_loading)})(),S()]}else{let i=n[0];return[(()=>{let s=e;return new z(s.base_uri,s.route,s.session,new yn(i),s.short_urls,s.short_url_form_short_code,s.short_url_form_target_url,s.djot_demo_content,s.edit_view_mode,s.profile_menu_open,s.notice,s.debug_use_local_storage,s.delete_confirmation,s.copy_feedback,s.expanded_urls,s.login_form_open,s.login_username,s.login_password,s.login_loading)})(),S()]}}else if(t instanceof Rl){let n=t.article,r=t.text;if(n.draft instanceof $){let s=Hr(n,o=>gf(o,r));return[(()=>{let o=e;return new z(o.base_uri,o.route,o.session,it(e.articles,a=>M(a,u=>n.id===u.id?s:u)),o.short_urls,o.short_url_form_short_code,o.short_url_form_target_url,o.djot_demo_content,o.edit_view_mode,o.profile_menu_open,o.notice,o.debug_use_local_storage,o.delete_confirmation,o.copy_feedback,o.expanded_urls,o.login_form_open,o.login_username,o.login_password,o.login_loading)})(),S()]}else return[e,S()]}else if(t instanceof Fl){let n=t.article,r=t.text,i=Hr(n,o=>xf(o,r)),s=it(e.articles,o=>M(o,a=>n.id===a.id?i:a));return[(()=>{let o=e;return new z(o.base_uri,o.route,o.session,s,o.short_urls,o.short_url_form_short_code,o.short_url_form_target_url,o.djot_demo_content,o.edit_view_mode,o.profile_menu_open,o.notice,o.debug_use_local_storage,o.delete_confirmation,o.copy_feedback,o.expanded_urls,o.login_form_open,o.login_username,o.login_password,o.login_loading)})(),S()]}else if(t instanceof Gl){let n=t.article,r=t.text,i=Hr(n,o=>yf(o,r)),s=it(e.articles,o=>M(o,a=>n.id===a.id?i:a));return[(()=>{let o=e;return new z(o.base_uri,o.route,o.session,s,o.short_urls,o.short_url_form_short_code,o.short_url_form_target_url,o.djot_demo_content,o.edit_view_mode,o.profile_menu_open,o.notice,o.debug_use_local_storage,o.delete_confirmation,o.copy_feedback,o.expanded_urls,o.login_form_open,o.login_username,o.login_password,o.login_loading)})(),S()]}else if(t instanceof Wl){let n=t.article,r=t.text,i=Hr(n,o=>bf(o,r)),s=it(e.articles,o=>M(o,a=>n.id===a.id?i:a));return[(()=>{let o=e;return new z(o.base_uri,o.route,o.session,s,o.short_urls,o.short_url_form_short_code,o.short_url_form_target_url,o.djot_demo_content,o.edit_view_mode,o.profile_menu_open,o.notice,o.debug_use_local_storage,o.delete_confirmation,o.copy_feedback,o.expanded_urls,o.login_form_open,o.login_username,o.login_password,o.login_loading)})(),S()]}else if(t instanceof Hl){let n=t.article,r=t.content,i=Hr(n,s=>vf(s,r));return[(()=>{let s=e;return new z(s.base_uri,s.route,s.session,it(e.articles,o=>M(o,a=>n.id===a.id?i:a)),s.short_urls,s.short_url_form_short_code,s.short_url_form_target_url,s.djot_demo_content,s.edit_view_mode,s.profile_menu_open,s.notice,s.debug_use_local_storage,s.delete_confirmation,s.copy_feedback,s.expanded_urls,s.login_form_open,s.login_username,s.login_password,s.login_loading)})(),S()]}else if(t instanceof li){let n=t.id,r=t.result;if(r instanceof g){let i=r[0],s=it(e.articles,o=>M(o,a=>n===a.id?i:a));return[(()=>{let o=e;return new z(o.base_uri,o.route,o.session,s,o.short_urls,o.short_url_form_short_code,o.short_url_form_target_url,o.djot_demo_content,o.edit_view_mode,o.profile_menu_open,o.notice,o.debug_use_local_storage,o.delete_confirmation,o.copy_feedback,o.expanded_urls,o.login_form_open,o.login_username,o.login_password,o.login_loading)})(),S()]}else{let i=r[0];return _e("article update response error","src/jst_lustre.gleam",658),_e(i,"src/jst_lustre.gleam",659),[e,S()]}}else if(t instanceof Jl){let n=t.article,r=n.draft;if(r instanceof $){let i=r[0],s,o=n;s=new ge(o.id,al(i),o.revision,o.author,o.tags,o.published_at,ul(i),cl(i),Ki(i),new N(Vi(i)),new $(i));let a=s,u=it(e.articles,c=>M(c,d=>n.id===d.id?a:d));return[(()=>{let c=e;return new z(c.base_uri,c.route,c.session,u,c.short_urls,c.short_url_form_short_code,c.short_url_form_target_url,c.djot_demo_content,c.edit_view_mode,c.profile_menu_open,c.notice,c.debug_use_local_storage,c.delete_confirmation,c.copy_feedback,c.expanded_urls,c.login_form_open,c.login_username,c.login_password,c.login_loading)})(),Kn(l([yl(c=>new li(a.id,c),a,e.base_uri),gn((()=>{let c=Bl(new sn(a,e.session));return Ee(c)})(),new x,new x)]))]}else return[e,S()]}else if(t instanceof Kl){let n=t.article;_e("article draft discard clicked","src/jst_lustre.gleam",577);let r=it(e.articles,i=>M(i,s=>{if(n.id===s.id){let a=n;return new ge(a.id,a.slug,a.revision,a.author,a.tags,a.published_at,a.title,a.subtitle,a.leading,a.content,new x)}else return s}));return[(()=>{let i=e;return new z(i.base_uri,i.route,i.session,r,i.short_urls,i.short_url_form_short_code,i.short_url_form_target_url,i.djot_demo_content,i.edit_view_mode,i.profile_menu_open,i.notice,i.debug_use_local_storage,i.delete_confirmation,i.copy_feedback,i.expanded_urls,i.login_form_open,i.login_username,i.login_password,i.login_loading)})(),gn((()=>{let i=Bl(new sn(n,e.session));return Ee(i)})(),new x,new x)]}else if(t instanceof hs){_e("article create clicked","src/jst_lustre.gleam",752);let n=new ge("","new-article",1,"current-user",l([]),new x,"","","",new N(""),new x);return[e,Mf(r=>new Vl(r),n,e.base_uri)]}else if(t instanceof Vl){let n=t.result;if(n instanceof g){let r=n[0];_e("article created successfully with id: "+r.id,"src/jst_lustre.gleam",782);let i,s=e.articles;if(s instanceof N){let a=s[0];i=new N(b(r,a))}else i=s;let o=i;return[(()=>{let a=e;return new z(a.base_uri,a.route,a.session,o,a.short_urls,a.short_url_form_short_code,a.short_url_form_target_url,a.djot_demo_content,a.edit_view_mode,a.profile_menu_open,a.notice,a.debug_use_local_storage,a.delete_confirmation,a.copy_feedback,a.expanded_urls,a.login_form_open,a.login_username,a.login_password,a.login_loading)})(),gn((()=>{let a=new yt(r.id),u=R(a);return Ee(u)})(),new x,new x)]}else{let r=n[0];return _e("article creation error","src/jst_lustre.gleam",802),_e(r,"src/jst_lustre.gleam",803),[e,S()]}}else if(t instanceof Yl){let n=t.article;return _e("article delete clicked","src/jst_lustre.gleam",810),[e,Kn(l([If(r=>new Zl(n.id,r),n.id,e.base_uri),gn((()=>{let r=new bt,i=R(r);return Ee(i)})(),new x,new x)]))]}else if(t instanceof Zl){let n=t.id,r=t.result;if(r instanceof g){let i=it(e.articles,s=>zt(s,o=>o.id!==n));return[(()=>{let s=e;return new z(s.base_uri,s.route,s.session,i,s.short_urls,s.short_url_form_short_code,s.short_url_form_target_url,s.djot_demo_content,s.edit_view_mode,s.profile_menu_open,s.notice,s.debug_use_local_storage,s.delete_confirmation,s.copy_feedback,s.expanded_urls,s.login_form_open,s.login_username,s.login_password,s.login_loading)})(),S()]}else{let i=r[0];return _e("article delete response error","src/jst_lustre.gleam",838),_e(i,"src/jst_lustre.gleam",839),[e,S()]}}else if(t instanceof Ql){let n=t.article;_e("article publish clicked","src/jst_lustre.gleam",845);let r,i=n;return r=new ge(i.id,i.slug,i.revision,i.author,i.tags,new $($c()),i.title,i.subtitle,i.leading,i.content,i.draft),[e,yl(o=>new li(n.id,o),r,e.base_uri)]}else if(t instanceof Xl){let n=t.article;return _e("article unpublish clicked","src/jst_lustre.gleam",857),[e,yl(r=>new li(n.id,r),(()=>{let r=n;return new ge(r.id,r.slug,r.revision,r.author,r.tags,new x,r.title,r.subtitle,r.leading,r.content,r.draft)})(),e.base_uri)]}else if(t instanceof ou){let n=t.username,r=t.password;return[(()=>{let i=e;return new z(i.base_uri,i.route,new bn,i.articles,i.short_urls,i.short_url_form_short_code,i.short_url_form_target_url,i.djot_demo_content,i.edit_view_mode,i.profile_menu_open,"login, CLICK",i.debug_use_local_storage,i.delete_confirmation,i.copy_feedback,i.expanded_urls,i.login_form_open,i.login_username,i.login_password,i.login_loading)})(),Ca(i=>new $s(i),n,r,e.base_uri)]}else if(t instanceof $s){let n=t.result;if(n instanceof g){let r=n[0];return[(()=>{let i=e;return new z(i.base_uri,i.route,r,i.articles,i.short_urls,i.short_url_form_short_code,i.short_url_form_target_url,i.djot_demo_content,i.edit_view_mode,i.profile_menu_open,"Successfully logged in",i.debug_use_local_storage,i.delete_confirmation,i.copy_feedback,i.expanded_urls,!1,"","",!1)})(),S()]}else{let r=n[0];return _e(r,"src/jst_lustre.gleam",686),[(()=>{let i=e;return new z(i.base_uri,i.route,new Je,i.articles,i.short_urls,i.short_url_form_short_code,i.short_url_form_target_url,i.djot_demo_content,i.edit_view_mode,i.profile_menu_open,"Login failed. Please check your credentials.",i.debug_use_local_storage,i.delete_confirmation,i.copy_feedback,i.expanded_urls,i.login_form_open,i.login_username,i.login_password,!1)})(),S()]}}else{if(t instanceof ws)return[(()=>{let n=e;return new z(n.base_uri,n.route,new Je,n.articles,n.short_urls,n.short_url_form_short_code,n.short_url_form_target_url,n.djot_demo_content,n.edit_view_mode,n.profile_menu_open,n.notice,n.debug_use_local_storage,n.delete_confirmation,n.copy_feedback,n.expanded_urls,n.login_form_open,n.login_username,n.login_password,n.login_loading)})(),qf(n=>new eo(n),e.base_uri)];if(t instanceof eo)return[(()=>{let n=e;return new z(n.base_uri,n.route,new Je,n.articles,n.short_urls,n.short_url_form_short_code,n.short_url_form_target_url,n.djot_demo_content,n.edit_view_mode,n.profile_menu_open,n.notice,n.debug_use_local_storage,n.delete_confirmation,n.copy_feedback,n.expanded_urls,n.login_form_open,n.login_username,n.login_password,n.login_loading)})(),S()];if(t instanceof to)return[(()=>{let n=e;return new z(n.base_uri,n.route,n.session,n.articles,n.short_urls,n.short_url_form_short_code,n.short_url_form_target_url,n.djot_demo_content,n.edit_view_mode,n.profile_menu_open,"auth check, CLICK",n.debug_use_local_storage,n.delete_confirmation,n.copy_feedback,n.expanded_urls,n.login_form_open,n.login_username,n.login_password,n.login_loading)})(),qa(n=>new gs(n),e.base_uri)];if(t instanceof gs){let n=t.result;if(n instanceof g){let r=n[0];return[(()=>{let i=e;return new z(i.base_uri,i.route,r,i.articles,i.short_urls,i.short_url_form_short_code,i.short_url_form_target_url,i.djot_demo_content,i.edit_view_mode,i.profile_menu_open,"auth check, OK",i.debug_use_local_storage,i.delete_confirmation,i.copy_feedback,i.expanded_urls,i.login_form_open,i.login_username,i.login_password,i.login_loading)})(),S()]}else{let r=n[0];return _e("session check response error","src/jst_lustre.gleam",720),_e(r,"src/jst_lustre.gleam",721),[(()=>{let i=e;return new z(i.base_uri,i.route,new Je,i.articles,i.short_urls,i.short_url_form_short_code,i.short_url_form_target_url,i.djot_demo_content,i.edit_view_mode,i.profile_menu_open,"auth check, ERROR",i.debug_use_local_storage,i.delete_confirmation,i.copy_feedback,i.expanded_urls,i.login_form_open,i.login_username,i.login_password,i.login_loading)})(),S()]}}else if(t instanceof no){let n=t.content;return[(()=>{let r=e;return new z(r.base_uri,r.route,r.session,r.articles,r.short_urls,r.short_url_form_short_code,r.short_url_form_target_url,n,r.edit_view_mode,r.profile_menu_open,r.notice,r.debug_use_local_storage,r.delete_confirmation,r.copy_feedback,r.expanded_urls,r.login_form_open,r.login_username,r.login_password,r.login_loading)})(),S()]}else if(t instanceof ro){let n=t.short_code,r=t.target_url,s=Sl(r)[0],o=e.session;if(s)if(o instanceof Ae){let a=new jl(n,r);return[e,Zf(u=>new io(u),e.base_uri,a)]}else return[e,S()];else return[e,S()]}else if(t instanceof io){let n=t.result;if(n instanceof g){let r=n[0],i,s=e.short_urls;if(s instanceof G)i=new N(l([r]));else if(s instanceof X)i=new N(l([r]));else if(s instanceof N){let a=s[0];i=new N(b(r,a))}else s instanceof ze?i=new N(l([r])):i=new N(l([r]));let o=i;return[(()=>{let a=e;return new z(a.base_uri,a.route,a.session,a.articles,o,a.short_url_form_short_code,a.short_url_form_target_url,a.djot_demo_content,a.edit_view_mode,a.profile_menu_open,a.notice,a.debug_use_local_storage,a.delete_confirmation,a.copy_feedback,a.expanded_urls,a.login_form_open,a.login_username,a.login_password,a.login_loading)})(),S()]}else{let r=n[0];return[(()=>{let i=e;return new z(i.base_uri,i.route,i.session,i.articles,new yn(r),i.short_url_form_short_code,i.short_url_form_target_url,i.djot_demo_content,i.edit_view_mode,i.profile_menu_open,i.notice,i.debug_use_local_storage,i.delete_confirmation,i.copy_feedback,i.expanded_urls,i.login_form_open,i.login_username,i.login_password,i.login_loading)})(),S()]}}else if(t instanceof so){let n=t.result;if(n instanceof g){let r=n[0];return[(()=>{let i=e;return new z(i.base_uri,i.route,i.session,i.articles,new N(r.short_urls),i.short_url_form_short_code,i.short_url_form_target_url,i.djot_demo_content,i.edit_view_mode,i.profile_menu_open,i.notice,i.debug_use_local_storage,i.delete_confirmation,i.copy_feedback,i.expanded_urls,i.login_form_open,i.login_username,i.login_password,i.login_loading)})(),S()]}else{let r=n[0];return[(()=>{let i=e;return new z(i.base_uri,i.route,i.session,i.articles,new yn(r),i.short_url_form_short_code,i.short_url_form_target_url,i.djot_demo_content,i.edit_view_mode,i.profile_menu_open,i.notice,i.debug_use_local_storage,i.delete_confirmation,i.copy_feedback,i.expanded_urls,i.login_form_open,i.login_username,i.login_password,i.login_loading)})(),S()]}}else if(t instanceof xs){let n=t.id;return[(()=>{let r=e;return new z(r.base_uri,r.route,r.session,r.articles,r.short_urls,r.short_url_form_short_code,r.short_url_form_target_url,r.djot_demo_content,r.edit_view_mode,r.profile_menu_open,r.notice,r.debug_use_local_storage,new $(n),r.copy_feedback,r.expanded_urls,r.login_form_open,r.login_username,r.login_password,r.login_loading)})(),S()]}else if(t instanceof lo){let n=t.id;if(t.result instanceof g){let i,s=e.short_urls;if(s instanceof G)i=new G;else if(s instanceof X)i=new X;else if(s instanceof N){let a=s[0];i=new N(zt(a,u=>u.id!==n))}else s instanceof ze?i=new G:i=new G;let o=i;return[(()=>{let a=e;return new z(a.base_uri,a.route,a.session,a.articles,o,a.short_url_form_short_code,a.short_url_form_target_url,a.djot_demo_content,a.edit_view_mode,a.profile_menu_open,a.notice,a.debug_use_local_storage,a.delete_confirmation,a.copy_feedback,a.expanded_urls,a.login_form_open,a.login_username,a.login_password,a.login_loading)})(),gn(Ee(R(new dt)),new x,new x)]}else return[e,S()]}else if(t instanceof oo){let n=t.id;return[(()=>{let r=e;return new z(r.base_uri,r.route,r.session,r.articles,r.short_urls,r.short_url_form_short_code,r.short_url_form_target_url,r.djot_demo_content,r.edit_view_mode,r.profile_menu_open,r.notice,r.debug_use_local_storage,new x,r.copy_feedback,r.expanded_urls,r.login_form_open,r.login_username,r.login_password,r.login_loading)})(),Xf(r=>new lo(n,r),e.base_uri,n)]}else{if(t instanceof oi)return[(()=>{let n=e;return new z(n.base_uri,n.route,n.session,n.articles,n.short_urls,n.short_url_form_short_code,n.short_url_form_target_url,n.djot_demo_content,n.edit_view_mode,n.profile_menu_open,n.notice,n.debug_use_local_storage,new x,n.copy_feedback,n.expanded_urls,n.login_form_open,n.login_username,n.login_password,n.login_loading)})(),S()];if(t instanceof ao){let n=t.text;return[(()=>{let r=e;return new z(r.base_uri,r.route,r.session,r.articles,r.short_urls,n,r.short_url_form_target_url,r.djot_demo_content,r.edit_view_mode,r.profile_menu_open,r.notice,r.debug_use_local_storage,r.delete_confirmation,r.copy_feedback,r.expanded_urls,r.login_form_open,r.login_username,r.login_password,r.login_loading)})(),S()]}else if(t instanceof uo){let n=t.text;return[(()=>{let r=e;return new z(r.base_uri,r.route,r.session,r.articles,r.short_urls,r.short_url_form_short_code,n,r.djot_demo_content,r.edit_view_mode,r.profile_menu_open,r.notice,r.debug_use_local_storage,r.delete_confirmation,r.copy_feedback,r.expanded_urls,r.login_form_open,r.login_username,r.login_password,r.login_loading)})(),S()]}else if(t instanceof gr){let n=t.short_code,r="u.jst.dev/"+n;return pf(r),[(()=>{let i=e;return new z(i.base_uri,i.route,i.session,i.articles,i.short_urls,i.short_url_form_short_code,i.short_url_form_target_url,i.djot_demo_content,i.edit_view_mode,i.profile_menu_open,i.notice,i.debug_use_local_storage,i.delete_confirmation,new $(n),i.expanded_urls,i.login_form_open,i.login_username,i.login_password,i.login_loading)})(),Vt(i=>df(()=>i(new co),2e3))]}else{if(t instanceof co)return[(()=>{let n=e;return new z(n.base_uri,n.route,n.session,n.articles,n.short_urls,n.short_url_form_short_code,n.short_url_form_target_url,n.djot_demo_content,n.edit_view_mode,n.profile_menu_open,n.notice,n.debug_use_local_storage,n.delete_confirmation,new x,n.expanded_urls,n.login_form_open,n.login_username,n.login_password,n.login_loading)})(),S()];if(t instanceof xr){let n=t.id,r=t.is_active,i=new El(n,new $(!r));return[e,ep(s=>new fo(n,s),e.base_uri,i)]}else if(t instanceof fo){let n=t.id,r=t.result;if(r instanceof g){let i=r[0],s,o=e.short_urls;if(o instanceof G)s=new G;else if(o instanceof X)s=new X;else if(o instanceof N){let u=o[0];s=new N(M(u,c=>c.id===n?i:c))}else o instanceof ze?s=new G:s=new G;let a=s;return[(()=>{let u=e;return new z(u.base_uri,u.route,u.session,u.articles,a,u.short_url_form_short_code,u.short_url_form_target_url,u.djot_demo_content,u.edit_view_mode,u.profile_menu_open,u.notice,u.debug_use_local_storage,u.delete_confirmation,u.copy_feedback,u.expanded_urls,u.login_form_open,u.login_username,u.login_password,u.login_loading)})(),S()]}else{let i=r[0];return[(()=>{let s=e;return new z(s.base_uri,s.route,s.session,s.articles,new yn(i),s.short_url_form_short_code,s.short_url_form_target_url,s.djot_demo_content,s.edit_view_mode,s.profile_menu_open,s.notice,s.debug_use_local_storage,s.delete_confirmation,s.copy_feedback,s.expanded_urls,s.login_form_open,s.login_username,s.login_password,s.login_loading)})(),S()]}}else if(t instanceof Bn){let n=t.id,r;na(e.expanded_urls,n)?r=hc(e.expanded_urls,n):r=ra(e.expanded_urls,n);let s=r;return[(()=>{let o=e;return new z(o.base_uri,o.route,o.session,o.articles,o.short_urls,o.short_url_form_short_code,o.short_url_form_target_url,o.djot_demo_content,o.edit_view_mode,o.profile_menu_open,o.notice,o.debug_use_local_storage,o.delete_confirmation,o.copy_feedback,s,o.login_form_open,o.login_username,o.login_password,o.login_loading)})(),S()]}else if(t instanceof po){let n;e.edit_view_mode instanceof En?n=new ms:n=new En;let i=n;return[(()=>{let s=e;return new z(s.base_uri,s.route,s.session,s.articles,s.short_urls,s.short_url_form_short_code,s.short_url_form_target_url,s.djot_demo_content,i,s.profile_menu_open,s.notice,s.debug_use_local_storage,s.delete_confirmation,s.copy_feedback,s.expanded_urls,s.login_form_open,s.login_username,s.login_password,s.login_loading)})(),S()]}else if(t instanceof bs){if(e.debug_use_local_storage)Ir(si,"");else{let r=new ii((()=>{let i=e.articles;return i instanceof G?l([]):i instanceof X?l([]):i instanceof N?i[0]:i instanceof ze?l([]):l([])})());Ir(si,Ml(r))}return[(()=>{let r=e;return new z(r.base_uri,r.route,r.session,r.articles,r.short_urls,r.short_url_form_short_code,r.short_url_form_target_url,r.djot_demo_content,r.edit_view_mode,r.profile_menu_open,r.notice,!e.debug_use_local_storage,r.delete_confirmation,r.copy_feedback,r.expanded_urls,r.login_form_open,r.login_username,r.login_password,r.login_loading)})(),S()]}else if(t instanceof _o){let n=t.res;_e("GotLocalModelResult called","src/jst_lustre.gleam",234),_e(n,"src/jst_lustre.gleam",235);let r=R(e.route);if(n instanceof $){let i=n[0];if(i instanceof jn)return Ol(e,r);{let s=i.articles;return Ol((()=>{let o=e;return new z(o.base_uri,o.route,o.session,new N(s),o.short_urls,o.short_url_form_short_code,o.short_url_form_target_url,o.djot_demo_content,o.edit_view_mode,o.profile_menu_open,o.notice,!0,o.delete_confirmation,o.copy_feedback,o.expanded_urls,o.login_form_open,o.login_username,o.login_password,o.login_loading)})(),r)}}else{let i,s=e;i=new z(s.base_uri,s.route,s.session,s.articles,s.short_urls,s.short_url_form_short_code,s.short_url_form_target_url,s.djot_demo_content,s.edit_view_mode,s.profile_menu_open,s.notice,!1,s.delete_confirmation,s.copy_feedback,s.expanded_urls,s.login_form_open,s.login_username,s.login_password,s.login_loading);let a=Ol(i,r);return um(a)}}else{if(t instanceof wr)return[(()=>{let n=e;return new z(n.base_uri,n.route,n.session,n.articles,n.short_urls,n.short_url_form_short_code,n.short_url_form_target_url,n.djot_demo_content,n.edit_view_mode,n.profile_menu_open,n.notice,n.debug_use_local_storage,n.delete_confirmation,n.copy_feedback,n.expanded_urls,!e.login_form_open,"","",n.login_loading)})(),S()];if(t instanceof $o){let n=t[0];return[(()=>{let r=e;return new z(r.base_uri,r.route,r.session,r.articles,r.short_urls,r.short_url_form_short_code,r.short_url_form_target_url,r.djot_demo_content,r.edit_view_mode,r.profile_menu_open,r.notice,r.debug_use_local_storage,r.delete_confirmation,r.copy_feedback,r.expanded_urls,r.login_form_open,n,r.login_password,r.login_loading)})(),S()]}else if(t instanceof mo){let n=t[0];return[(()=>{let r=e;return new z(r.base_uri,r.route,r.session,r.articles,r.short_urls,r.short_url_form_short_code,r.short_url_form_target_url,r.djot_demo_content,r.edit_view_mode,r.profile_menu_open,r.notice,r.debug_use_local_storage,r.delete_confirmation,r.copy_feedback,r.expanded_urls,r.login_form_open,r.login_username,n,r.login_loading)})(),S()]}else if(t instanceof ho){let n=e.login_username,r=e.login_password;if(n==="")return[e,S()];if(r==="")return[e,S()];{let i=n,s=r;return[(()=>{let o=e;return new z(o.base_uri,o.route,new bn,o.articles,o.short_urls,o.short_url_form_short_code,o.short_url_form_target_url,o.djot_demo_content,o.edit_view_mode,o.profile_menu_open,o.notice,o.debug_use_local_storage,o.delete_confirmation,o.copy_feedback,o.expanded_urls,o.login_form_open,o.login_username,o.login_password,!0)})(),Ca(o=>new $s(o),i,s,e.base_uri)]}}else return[e,S()]}}}}}}function cm(e,t){if(e.debug_use_local_storage){let r=wp(e,t),i=r[0],s=r[1],o=a=>new ii((()=>{let u=a.articles;return u instanceof G?l([]):u instanceof X?l([]):u instanceof N?u[0]:u instanceof ze?l([]):l([])})());return t instanceof Wt?Ir(si,Ml(o(i))):t instanceof Tn&&Ir(si,Ml(o(i))),[i,s]}else return wp(e,t)}function fm(e){let t=e.route;if(t instanceof rn)return new or;if(t instanceof bt){let n=e.articles;if(n instanceof G)return new fe(new ei("articles not initialized"));if(n instanceof X)return new kn;if(n instanceof N){let r=n[0];return new ar(r,e.session)}else if(n instanceof ze){let r=n[0];return new ar(r,e.session)}else{let r=n[0];return new fe(new An(r,"Failed to load article list"))}}else if(t instanceof Ot){let n=t.slug,r=e.articles;if(r instanceof G)return new fe(new ei("articles not initialized"));if(r instanceof X)return new kn;if(r instanceof N){let i=r[0],s=mt(i,o=>o.slug===n);if(s instanceof g){let o=s[0];return new sn(o,e.session)}else return new fe(new ur(n,Za(i)))}else if(r instanceof ze){let i=r[0],s=mt(i,o=>o.slug===n);if(s instanceof g){let o=s[0];return new sn(o,e.session)}else return new fe(new ur(n,Za(i)))}else{let i=r[0];return new fe(new An(i,"Failed to load articles"))}}else if(t instanceof yt){let n=t.id,r=e.articles;if(r instanceof G)return new fe(new ei("articles not initialized"));if(r instanceof X)return new kn;if(r instanceof N){let i=r[0],s=mt(i,o=>o.id===n);if(s instanceof g){let o=s[0],a=es(o,e.session),u=o.draft;if(a)if(u instanceof $){let c=e.session;if(c instanceof Ae){let d=c.session;return new Rt(o,d)}else return new fe(new Ve("edit article"))}else{let c=e.session;if(c instanceof Ae){let d=c.session;return new Rt((()=>{let p=o;return new ge(p.id,p.slug,p.revision,p.author,p.tags,p.published_at,p.title,p.subtitle,p.leading,p.content,Gr(o))})(),d)}else return new fe(new Ve("edit article"))}else return new fe(new Ve("edit article"))}else return new fe(new cr(n))}else if(r instanceof ze){let i=r[0],s=mt(i,o=>o.id===n);if(s instanceof g){let o=s[0],a=es(o,e.session),u=o.draft;if(a)if(u instanceof $){let c=e.session;if(c instanceof Ae){let d=c.session;return new Rt(o,d)}else return new fe(new Ve("edit article"))}else{let c=e.session;if(c instanceof Ae){let d=c.session;return new Rt((()=>{let p=o;return new ge(p.id,p.slug,p.revision,p.author,p.tags,p.published_at,p.title,p.subtitle,p.leading,p.content,Gr(o))})(),d)}else return new fe(new Ve("edit article"))}else return new fe(new Ve("edit article"))}else return new fe(new cr(n))}else{let i=r[0];return new fe(new An(i,"Failed to load articles for editing"))}}else{if(t instanceof Ut)return new Qr;if(t instanceof Dt)return new us(e.djot_demo_content);if(t instanceof dt){let n=e.session;if(n instanceof Ae){let r=n.session;return new Vr(r)}else return new fe(new Ve("access URL shortener"))}else if(t instanceof vn){let n=t[0],r=e.session;if(r instanceof Ae){let i=r.session;return new Yr(n,i)}else return new fe(new Ve("access URL shortener info"))}else if(t instanceof H){let n=e.session;if(n instanceof Ae){let r=n.session;return new Zr(r)}else return new fe(new Ve("access UI components"))}else{let n=t.uri;return new Xr(n)}}}function nu(e){return _e(e,"src/jst_lustre.gleam",1362),le()}function pm(e){return h(l([]),l([Ga(new wr),Wa("Sign In",l([lr("Username",e.login_username,"Enter your username","text",!0,new x,t=>new $o(t)),lr("Password",e.login_password,"Enter your password","password",!0,new x,t=>new mo(t))]),l([ne("Cancel",new ae,new D,new wr),ne(e.login_loading?"Signing In...":"Sign In \u2192",new U,e.login_username===""||e.login_password===""?new Ke:new D,new ho)]),new wr)]))}function ru(e){return e.login_form_open?pm(e):le()}function dm(){let e=de("/article/nats-all-the-way-down");if(!(e instanceof g))throw K("let_assert",xo,"jst_lustre",1677,"view_index","Pattern match failed, no pattern matched the value.",{value:e,start:53265,end:53334,pattern_start:53276,pattern_end:53288});let t=e[0];return l([Da("Welcome to jst.dev!",new $("...or, A lesson on overengineering for fun and... well just for fun.")),Df(l([h(l([f("prose prose-lg text-zinc-300 max-w-none")]),l([se(l([f("text-xl leading-relaxed mb-8")]),l([m(`This site and its underlying IT infrastructure is the primary 
            place for me to experiment with technologies and topologies. I 
            also share some of my thoughts and learnings here.`)])),se(l([f("mb-6")]),l([m(`This site and its underlying IT infrastructure is the primary 
            place for me to experiment with technologies and topologies. I 
            also share some of my thoughts and learnings here. Feel free to 
            check out my overview: `),Ha("NATS all the way down \u2192",new on(t))])),se(l([f("mb-6")]),l([m("It too is a work in progress and I mostly keep it here for my own reference.")])),se(l([f("mb-6")]),l([m(`I'm a software developer and writer, exploring modern technologies 
            and sharing insights from my experiments. This space serves as both 
            a playground for new ideas and a platform for documenting the journey.`)]))]))]))])}function _m(){return l([kl("Loading page...")])}function $m(){return h(l([f("mt-8 p-4 bg-zinc-800 rounded-lg border border-zinc-700")]),l([Y(l([f("text-lg text-pink-700 font-light")]),l([m("Djot Quick Reference")])),se(l([f("text-zinc-300 mb-6")]),l([Wi(l([]),l([m("Note: ")])),m("This editor uses Djot format. See the "),nr(l([er("https://htmlpreview.github.io/?https://github.com/jgm/djot/blob/master/doc/syntax.html"),f("text-zinc-300 underline")]),l([m("djot syntax documentation")])),m(" for complete details.")])),h(l([f("grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 text-sm")]),l([h(l([]),l([me(l([f("text-pink-700 font-medium mb-2")]),l([m("Headings")])),Be(l([f("text-zinc-300")]),l([Ie(l([f("text-zinc-300")]),l([m(`# H1
## H2
### H3`)]))]))])),h(l([]),l([me(l([f("text-pink-700 font-medium mb-2")]),l([m("Text")])),Be(l([f("text-zinc-300")]),l([Ie(l([f("text-zinc-300")]),l([m("_italic_\n*bold*\n`code`")]))]))])),h(l([]),l([me(l([f("text-pink-700 font-medium mb-2")]),l([m("Lists")])),Be(l([f("text-zinc-300")]),l([Ie(l([f("text-zinc-300")]),l([m(`- item 1
- item 2

  - nested`)]))]))])),h(l([]),l([me(l([f("text-pink-700 font-medium mb-2")]),l([m("Links")])),Be(l([f("text-zinc-300")]),l([Ie(l([f("text-zinc-300")]),l([m(`[text](url)
[text](url){title="tooltip"}`)]))]))])),h(l([]),l([me(l([f("text-pink-700 font-medium mb-2")]),l([m("Code Blocks")])),Be(l([f("text-zinc-300")]),l([Ie(l([f("text-zinc-300")]),l([m("```\ncode here\n```")]))]))])),h(l([]),l([me(l([f("text-pink-700 font-medium mb-2")]),l([m("Blockquotes")])),Be(l([f("text-zinc-300")]),l([Ie(l([f("text-zinc-300")]),l([m("> quoted text")]))]))]))]))]))}function gp(e,t,n,r,i){let s=f("block text-sm font-medium text-zinc-400 mb-1"),o;t instanceof uu?o=f("w-full bg-zinc-800 border border-zinc-600 rounded-md p-2 font-light text-zinc-100 focus:border-pink-700 focus:ring-1 focus:ring-pink-700 focus:outline-none transition-colors duration-200"):t instanceof wo?o=f("w-full bg-zinc-800 border border-zinc-600 rounded-md p-2 text-3xl text-pink-700 font-light focus:border-pink-700 focus:ring-1 focus:ring-pink-700 focus:outline-none transition-colors duration-200"):t instanceof go?o=f("w-full bg-zinc-800 border border-zinc-600 rounded-md p-2 text-md text-zinc-500 font-light focus:border-pink-700 focus:ring-1 focus:ring-pink-700 focus:outline-none transition-colors duration-200"):o=f("w-full bg-zinc-800 border border-zinc-600 rounded-md p-2 font-bold text-zinc-100 focus:border-pink-700 focus:ring-1 focus:ring-pink-700 focus:outline-none transition-colors duration-200");let a=o;return h(l([f("mb-4")]),l([wn(l([s]),l([m(e)])),Hi(l([a,Yt(n),mn("edit-"+i+"-"+e),Zt(r)]))]))}function mm(e){return h(l([f("mt-8 p-6 bg-zinc-800 rounded-lg border border-zinc-700")]),l([Y(l([f("text-lg text-pink-700 font-light mb-4")]),l([m("Create Short URL")])),h(l([f("space-y-4")]),l([lr("Target URL",e.short_url_form_target_url,"https://example.com","url",!0,(()=>{let n=Sl(e.short_url_form_target_url)[1];if(n instanceof $){let r=n[0];return new $(r)}else return new x})(),t=>new uo(t)),lr("Short Code (optional)",e.short_url_form_short_code,"Leave empty for random code","text",!1,new x,t=>new ao(t)),ne("Create Short URL",new U,(()=>{let t=Sl(e.short_url_form_target_url);return t[1]instanceof x?t[0]?new D:new Ke:new Ke})(),new ro(e.short_url_form_short_code,e.short_url_form_target_url))]))]))}function hm(e,t){return el(l([f("bg-zinc-800 border border-zinc-700 rounded-lg transition-colors")]),l([h(l([f("flex items-center justify-between p-4")]),l([h(l([f("flex items-center space-x-4 flex-1 min-w-0")]),l([he(l([f("font-mono text-sm font-medium text-zinc-100 hover:text-pink-300 transition-colors cursor-pointer"),te(new gr(t.short_code)),hn("Click to copy short URL")]),l([q(l([f("text-zinc-500")]),l([m("u.jst.dev/")])),q(l([f("text-pink-400")]),l([m(t.short_code)])),P(e.copy_feedback,new $(t.short_code))?q(l([f("ml-2 text-green-400 text-xs")]),l([m("\u2713 Copied!")])):le()])),h(l([f("text-sm text-zinc-400 truncate flex-1 cursor-pointer hover:text-zinc-300 transition-colors"),hn(t.target_url),te(new Bn(t.id))]),l([q(l([f("text-zinc-600")]),l([m("\u2192 ")])),m(t.target_url)])),he(l([f(t.is_active?"inline-flex shrink-0 items-center rounded-full bg-green-600/20 px-2 py-1 text-xs font-medium text-green-400 ring-1 ring-inset ring-green-600/30 cursor-pointer hover:bg-green-600/30 transition-colors":"inline-flex shrink-0 items-center rounded-full bg-red-600/20 px-2 py-1 text-xs font-medium text-red-400 ring-1 ring-inset ring-red-600/30 cursor-pointer hover:bg-red-600/30 transition-colors"),te(new xr(t.id,t.is_active)),hn("Toggle active/inactive")]),l([m(t.is_active?"Active":"Inactive")])),h(l([f("text-xs text-zinc-500 shrink-0 cursor-pointer hover:text-zinc-400 transition-colors"),te(new Bn(t.id))]),l([m(F(t.access_count)+" clicks")]))])),h(l([f("flex items-center space-x-2 ml-4 cursor-pointer hover:text-zinc-300 transition-colors"),te(new Bn(t.id))]),l([h(l([f("text-zinc-500 text-sm")]),l([m("\u25BC")]))]))]))]))}function wm(e,t){return el(l([f("bg-zinc-800 border border-zinc-700 rounded-lg transition-colors")]),l([h(l([f("flex items-center justify-between p-4")]),l([h(l([f("flex items-center space-x-4 flex-1 min-w-0")]),l([he(l([f("font-mono text-sm font-medium text-zinc-100 hover:text-pink-300 transition-colors cursor-pointer"),te(new gr(t.short_code)),hn("Click to copy short URL")]),l([q(l([f("text-zinc-500")]),l([m("u.jst.dev/")])),q(l([f("text-pink-400")]),l([m(t.short_code)])),P(e.copy_feedback,new $(t.short_code))?q(l([f("ml-2 text-green-400 text-xs")]),l([m("\u2713 Copied!")])):le()])),h(l([f("text-sm text-zinc-400 truncate flex-1"),hn(t.target_url)]),l([q(l([f("text-zinc-600")]),l([m("\u2192 ")])),m(t.target_url)])),he(l([f(t.is_active?"inline-flex shrink-0 items-center rounded-full bg-green-600/20 px-2 py-1 text-xs font-medium text-green-400 ring-1 ring-inset ring-green-600/30 cursor-pointer hover:bg-green-600/30 transition-colors":"inline-flex shrink-0 items-center rounded-full bg-red-600/20 px-2 py-1 text-xs font-medium text-red-400 ring-1 ring-inset ring-red-600/30 cursor-pointer hover:bg-red-600/30 transition-colors"),te(new xr(t.id,t.is_active)),hn("Toggle active/inactive")]),l([m(t.is_active?"Active":"Inactive")])),h(l([f("text-xs text-zinc-500 shrink-0")]),l([m(F(t.access_count)+" clicks")]))])),h(l([f("flex items-center space-x-2 ml-4 cursor-pointer hover:text-zinc-300 transition-colors"),te(new Bn(t.id))]),l([h(l([f("text-zinc-500 text-sm")]),l([m("\u25B2")]))]))])),h(l([f("px-4 pb-4")]),l([h(l([f("mb-4 pt-2 border-t border-zinc-700")]),l([h(l([f("text-sm text-zinc-500 mb-2")]),l([m("Target URL:")])),h(l([f("text-zinc-300 break-all bg-zinc-900 rounded px-3 py-2 text-sm cursor-pointer hover:bg-zinc-850 transition-colors"),hn(t.target_url+" (click to collapse)"),te(new Bn(t.id))]),l([m(t.target_url)]))])),h(l([f("grid grid-cols-2 gap-4 text-sm mb-4")]),l([h(l([f("space-y-2")]),l([h(l([f("flex justify-between")]),l([q(l([f("text-zinc-500")]),l([m("Created By:")])),q(l([f("text-zinc-300")]),l([m(t.created_by)]))])),h(l([f("flex justify-between")]),l([q(l([f("text-zinc-500")]),l([m("Access Count:")])),q(l([f("text-zinc-300 font-mono")]),l([m(F(t.access_count))]))]))])),h(l([f("space-y-2")]),l([h(l([f("flex justify-between")]),l([q(l([f("text-zinc-500")]),l([m("Created:")])),q(l([f("text-zinc-300")]),l([m((()=>{let n=Jn(t.created_at*1e3);return Tr(n)})())]))])),h(l([f("flex justify-between")]),l([q(l([f("text-zinc-500")]),l([m("Updated:")])),q(l([f("text-zinc-300")]),l([m((()=>{let n=Jn(t.updated_at*1e3);return Tr(n)})())]))]))]))])),h(l([f("flex gap-2")]),l([he(l([f("flex-1 inline-flex items-center justify-center gap-x-2 py-3 text-sm font-medium text-zinc-400 border border-zinc-600 rounded hover:text-teal-300 hover:border-teal-400 transition-colors"),te(new gr(t.short_code))]),l([h(l([f("text-sm")]),l([m("\u{1F4CB}")])),m(P(e.copy_feedback,new $(t.short_code))?"Copied!":"Copy URL")])),he(l([f(t.is_active?"flex-1 inline-flex items-center justify-center gap-x-2 py-3 text-sm font-medium text-zinc-400 border border-zinc-600 rounded hover:text-orange-300 hover:border-orange-400 transition-colors":"flex-1 inline-flex items-center justify-center gap-x-2 py-3 text-sm font-medium text-zinc-400 border border-zinc-600 rounded hover:text-teal-300 hover:border-teal-400 transition-colors"),te(new xr(t.id,t.is_active))]),l([h(l([f("text-sm")]),l([m(t.is_active?"\u23F8":"\u25B6")])),m(t.is_active?"Deactivate":"Activate")])),he(l([f("flex-1 inline-flex items-center justify-center gap-x-2 py-3 text-sm font-medium text-zinc-400 border border-zinc-600 rounded hover:text-red-300 hover:border-red-400 transition-colors"),te(new xs(t.id))]),l([h(l([f("text-sm")]),l([m("\u{1F5D1}")])),m("Delete")]))]))]))]))}function gm(e,t){let n,r=mt(t,s=>s.id===e);r instanceof g?n=r[0].short_code:n="unknown";let i=n;return h(l([]),l([Ga(new oi),Wa("Delete Short URL",l([se(l([f("text-zinc-300")]),l([m("Are you sure you want to delete the short URL "),q(l([f("font-mono text-pink-400")]),l([m("u.jst.dev/"+i)])),m("? This action cannot be undone.")]))]),l([ne("Cancel",new U,new D,new oi),ne("Delete",new ae,new D,new oo(e))]),new oi)]))}function xm(e){let t=e.short_urls;if(t instanceof G)return h(l([f("mt-8 p-6 bg-zinc-800 rounded-lg border border-zinc-700")]),l([Y(l([f("text-lg text-pink-700 font-light mb-6")]),l([m("URLs")])),ss()]));if(t instanceof X)return h(l([f("mt-8 p-6 bg-zinc-800 rounded-lg border border-zinc-700")]),l([Y(l([f("text-lg text-pink-700 font-light mb-6")]),l([m("URLs")])),ss()]));if(t instanceof N){let n=t[0];if(n instanceof y)return h(l([f("mt-8 p-6 bg-zinc-800 rounded-lg border border-zinc-700")]),l([Y(l([f("text-lg text-pink-700 font-light mb-6")]),l([m("URLs")])),zl("No short URLs created yet","Create your first short URL using the form above.",new x)]));{let r=M(n,i=>na(e.expanded_urls,i.id)?wm(e,i):hm(e,i));return h(l([f("mt-8 p-6 bg-zinc-800 rounded-lg border border-zinc-700")]),l([Y(l([f("text-lg text-pink-700 font-light mb-6")]),l([m("URLs")])),tl(l([f("space-y-2"),Mc("list")]),r),(()=>{let i=e.delete_confirmation;if(i instanceof $){let s=i[0];return gm(s,n)}else return le()})()]))}}else{if(t instanceof ze)return h(l([f("mt-8 p-6 bg-zinc-800 rounded-lg border border-zinc-700")]),l([Y(l([f("text-lg text-pink-700 font-light mb-6")]),l([m("URLs")])),ss()]));{let n=t[0];return h(l([f("mt-8 p-6 bg-zinc-800 rounded-lg border border-zinc-700")]),l([Y(l([f("text-lg text-pink-700 font-light mb-6")]),l([m("URLs")])),h(l([f("text-center py-12")]),l([h(l([f("text-red-400 text-lg mb-2")]),l([m("Error loading short URLs")])),h(l([f("text-zinc-500 text-sm")]),l([m(cs(n))]))]))]))}}}function xp(e){let t=e.published_at;if(t instanceof $){let n=t[0],r=Tr(n);return q(l([f("text-xs text-zinc-500 px-2 pt-2 w-max border-t border-r border-zinc-700 group-hover:border-pink-700 transition-colors duration-25")]),l([m(r)]))}else return q(l([f("text-xs text-zinc-500 px-2 pt-2 w-max italic border-t border-r border-zinc-700 group-hover:border-pink-700 transition-colors duration-25")]),l([m("not published")]))}function bp(e){return h(l([f("text-xs text-zinc-400 pt-0 border-r border-zinc-700 pr-2 group-hover:border-pink-700 transition-colors duration-25")]),l([q(l([f("text-zinc-500 font-light")]),l([m("by ")])),q(l([f("text-zinc-300")]),l([m(e)]))]))}function yp(e){return e instanceof y?le():h(l([f("flex justify-end align-end gap-0 ml-auto flex-wrap border-b border-r border-zinc-700 pb-1 pr-2 hover:border-pink-700 group-hover:border-pink-700 transition-colors duration-25 mt-2")]),M(e,n=>q(l([f("text-xs cursor-pointer text-zinc-500 px-2 hover:border-pink-700 hover:text-pink-700 transition-colors duration-25")]),l([m(n)]))))}function vp(e,t){let n=es(e,t),r=Lf(e,t),i=Nf(e,t);return h(l([f("flex justify-start h-10")]),l([n?he(l([f("text-gray-500 pe-4 text-underline pb-2 hover:text-teal-300 hover:border-teal-300 border-b border-zinc-700"),te(new on(R(new yt(e.id))))]),l([m("Edit")])):le(),r&&P(e.published_at,new x)?he(l([f("text-gray-500 pe-4 text-underline pb-2 hover:text-green-300 hover:border-green-300 border-b border-zinc-700"),te(new Ql(e))]),l([m("Publish")])):le(),r&&!P(e.published_at,new x)?he(l([f("text-gray-500 pe-4 text-underline pb-2 hover:text-yellow-300 hover:border-yellow-300 border-b border-zinc-700"),te(new Xl(e))]),l([m("Unpublish")])):le(),i?he(l([f("text-gray-500 pe-4 text-underline pb-2 hover:text-red-400 hover:border-red-400 border-b border-zinc-700"),te(new Yl(e))]),l([m("Delete")])):le()]))}function bm(e,t){return l([h(l([f("mb-4")]),l([h(l([f("flex items-center justify-between mb-1")]),l([wn(l([f("block text-sm font-medium text-zinc-400")]),l([m("Slug")])),q(l([f("text-xs text-zinc-500")]),l([m("rev "+F(t.revision))]))])),Hi(l([f("w-full bg-zinc-800 border border-zinc-600 rounded-md p-2 font-light text-zinc-100 focus:border-pink-700 focus:ring-1 focus:ring-pink-700 focus:outline-none transition-colors duration-200"),Yt(al(e)),mn("edit-"+t.slug+"-Slug"),Zt(n=>new Rl(t,n))]))])),gp("Title",new wo,ul(e),n=>new Fl(t,n),t.slug),gp("Subtitle",new go,cl(e),n=>new Wl(t,n),t.slug),h(l([f("mb-4")]),l([wn(l([f("block text-sm font-medium text-zinc-400 mb-1")]),l([m("Leading")])),Lr(l([f("w-full h-24 bg-zinc-800 border border-zinc-600 rounded-md p-2 font-bold text-zinc-100 resize-none focus:border-pink-700 focus:ring-1 focus:ring-pink-700 focus:outline-none transition-colors duration-200"),Yt(Ki(e)),mn("edit-"+t.slug+"-Leading"),Zt(n=>new Gl(t,n)),Qn("Write a compelling leading paragraph...")]),Ki(e))])),h(l([f("mb-4")]),l([wn(l([f("block text-sm font-medium text-zinc-400 mb-1")]),l([m("Content")])),Lr(l([f("w-full h-96 bg-zinc-800 border border-zinc-600 rounded-md p-4 font-mono text-sm text-zinc-100 resize-none focus:border-pink-700 focus:ring-1 focus:ring-pink-700 focus:outline-none transition-colors duration-200"),Yt(Vi(e)),Zt(n=>new Hl(t,n)),Qn("Write your article content in Djot format...")]),Vi(e))])),h(l([f("flex justify-between gap-4")]),l([vp(t,new Je),h(l([f("flex gap-4")]),l([he(l([f("px-4 py-2 bg-zinc-700 text-zinc-300 rounded-md hover:bg-zinc-600 transition-colors duration-200"),te(new Kl(t)),Xn(ol(e))]),l([m("Discard Changes")])),he(l([f("px-4 py-2 bg-teal-700 text-white rounded-md hover:bg-teal-600 transition-colors duration-200"),te(new Jl(t)),Xn(ol(e))]),l([ol(e)?m("Saving..."):m("Save Article")]))]))]))])}function Ye(e,t){return tr(l([mn("article-title-"+t),f("page-title text-2xl sm:text-3xl md:text-4xl text-pink-600 font-light article-title leading-tight")]),l([m(e)]))}function cu(e,t){return h(l([mn("article-subtitle-"+t),f("page-subtitle")]),l([m(e)]))}function ym(e,t){return se(l([mn("article-lead-"+t),f("font-medium text-zinc-300 pt-6 md:pt-8 border-b border-zinc-800 pb-4"),f("article-leading")]),l([m(e)]))}function lt(e){return se(l([f("pt-8")]),l([m(e)]))}function vm(e,t){let n;t instanceof Je?n=zt(e,w=>w.published_at instanceof $):n=e;let r=n,i,o=Ar(r,(p,w)=>{let v=p.published_at,k=w.published_at;if(k instanceof $)if(v instanceof $){let B=k[0],j=v[0];return _c(B,j)}else return new ie;else return v instanceof $?new qe:di(p.slug,w.slug)});i=M(o,p=>{let w=p.slug,v=p.tags,k=p.title,B=p.subtitle,j=p.leading,Z,Q=new Ot(w);Z=R(Q);let I=Z;return wa(l([f("mt-14")]),l([nr(l([f("group block border-l border-zinc-700 pl-4 hover:border-pink-700 transition-colors duration-25"),er(Ee(I)),rf(new Dl(p)),te(new on(I))]),l([h(l([f("flex justify-between gap-4")]),l([h(l([f("flex flex-col")]),l([Y(l([mn("article-title-"+w),f("article-title"),f("text-xl text-pink-700 font-light")]),l([m(k)])),cu(B,w)])),h(l([f("flex flex-col items-end")]),l([xp(p),bp(p.author)]))])),lt(j),h(l([f("flex justify-end mt-2")]),l([yp(v)]))]))]))});let a=i,u=l([Rf(Ra("Articles"),t instanceof Ae?ne("New Article",new U,new D,new hs):le())]),c;return a instanceof y?c=l([zl("No articles yet",t instanceof Ae?"Ready to share your thoughts? Create your first article to get started.":"No published articles are available yet. Check back later for new content!",t instanceof Ae?new $(ne("Create Your First Article",new U,new D,new hs)):new x)]):c=a,pe(u,c)}function km(e,t){return l([Ye("Article not found",t),lt("The article you are looking for does not exist.")])}function Am(e,t){if(e instanceof G)return l([Ye("Loading article",t),lt("Loading article...")]);if(e instanceof X)return l([Ye("Loading article",t),lt("Loading article...")]);if(e instanceof N)return l([Ye("Article not found",t),lt("The article you are looking for does not exist.")]);if(e instanceof ze)return l([Ye("Article not found",t),lt("The article you are looking for might not exist yet. Please check back later.")]);{let n=e[0];return l([Ye("There was an error loading the article",t),lt(cs(n))])}}function zm(){return l([Ye("About","about"),lt(`I'm a software developer and a writer. I'm also a father and a husband. 
      I'm also a software developer and a writer. I'm also a father and a 
      husband. I'm also a software developer and a writer. I'm also a father 
      and a husband. I'm also a software developer and a writer. I'm also a 
      father and a husband.`),lt(`If you enjoy these glimpses into my mind, feel free to come back
       semi-regularly. But not too regularly, you creep.`)])}function Sm(e){return l([Ye("URL Shortener","url-shortener"),lt("Create and manage short URLs for easy sharing."),mm(e),xm(e)])}function jm(e,t){let n=e.short_urls;if(n instanceof N){let r=n[0],i=mt(r,s=>s.short_code===t);if(i instanceof g){let s=i[0];return l([Ye("URL Info","url-info"),h(l([f("mt-8 p-6 bg-zinc-800 rounded-lg border border-zinc-700")]),l([Y(l([f("text-lg text-pink-700 font-light mb-4")]),l([m("URL Details")])),h(l([f("space-y-4 text-zinc-300")]),l([h(l([f("flex justify-between items-center")]),l([q(l([f("text-zinc-500")]),l([m("Short Code:")])),q(l([f("font-mono text-pink-700")]),l([m(s.short_code)]))])),h(l([f("flex justify-between items-center")]),l([q(l([f("text-zinc-500")]),l([m("Target URL:")])),q(l([f("break-all")]),l([m(s.target_url)]))])),h(l([f("flex justify-between items-center")]),l([q(l([f("text-zinc-500")]),l([m("Created By:")])),q(l([]),l([m(s.created_by)]))])),h(l([f("flex justify-between items-center")]),l([q(l([f("text-zinc-500")]),l([m("Created:")])),q(l([]),l([m((()=>{let o=Jn(s.created_at*1e3);return Tr(o)})())]))])),h(l([f("flex justify-between items-center")]),l([q(l([f("text-zinc-500")]),l([m("Updated:")])),q(l([]),l([m((()=>{let o=Jn(s.updated_at*1e3);return Tr(o)})())]))])),h(l([f("flex justify-between items-center")]),l([q(l([f("text-zinc-500")]),l([m("Access Count:")])),q(l([]),l([m(F(s.access_count))]))])),h(l([f("flex justify-between items-center")]),l([q(l([f("text-zinc-500")]),l([m("Status:")])),s.is_active?q(l([f("text-green-400")]),l([m("Active")])):q(l([f("text-red-400")]),l([m("Inactive")]))]))])),h(l([f("mt-6 flex gap-4")]),l([ne("Back to URLs",new U,new D,new on(R(new dt))),ne(P(e.copy_feedback,new $(s.short_code))?"Copied!":"Copy URL",new U,new D,new gr(s.short_code)),ne(s.is_active?"Deactivate":"Activate",s.is_active?new oe:new U,new D,new xr(s.id,s.is_active)),ne("Delete URL",new ae,new D,new xs(s.id))]))]))])}else return l([Ye("URL Not Found","url-not-found"),lt("The requested URL was not found.")])}else return l([Ye("URL Info","url-info"),lt("Loading URL information...")])}function Em(e){return l([Ye("404 - Page Not Found","not-found"),cu("The page you're looking for doesn't exist.","not-found"),lt("The page at "+Ee(e)+" could not be found.")])}function ai(e){return Al(new vl,"Something went wrong",e,new x)}function kp(e,t){let n,r=e.content;if(r instanceof G)n=l([ai("content not initialized")]);else if(r instanceof X)n=l([Ua(),Oa()]);else if(r instanceof N){let s=r[0];n=Il(s)}else if(r instanceof ze){let s=r[0];n=Il(s)}else{let s=r[0];n=l([ai(cs(s))])}let i=n;return l([wa(l([f("with-transition")]),b(h(l([f("flex flex-col justify-between")]),l([vp(e,t),h(l([f("flex gap-2 justify-between")]),l([h(l([f("flex flex-col justify-between")]),l([Ye(e.title,e.slug),cu(e.subtitle,e.slug)])),h(l([f("flex flex-col items-end")]),l([xp(e),bp(e.author)]))])),h(l([f("flex justify-between mt-2")]),l([yp(e.tags)]))])),b(ym(e.leading,e.slug),i)))])}function Tm(e,t){let n=t.draft;if(n instanceof $){let r=n[0],i,s=Vi(r);s===""?i="Start typing in the editor to see the preview here...":i=s;let o=i,a=new ge(t.id,al(r),t.revision,t.author,t.tags,t.published_at,ul(r),cl(r),Ki(r),new N(o),new x),u=kp(a,new Je);return l([h(l([f("lg:hidden mb-4 flex justify-center")]),l([ne(e.edit_view_mode instanceof En?"Show Preview":"Show Editor",new U,new D,new po)])),h(l([Ni(l([["grid gap-8 h-screen",!0],["grid-cols-2 lg:grid-cols-2",!0]]))]),l([h(l([Ni(l([["space-y-4",!0],["lg:block",!0],["lg:col-span-1",!0],["col-span-2",P(e.edit_view_mode,new En)],["hidden",P(e.edit_view_mode,new ms)]]))]),bm(r,t)),h(l([Ni(l([["max-w-screen-md mx-auto px-10 py-10 overflow-y-auto",!0],["lg:block",!0],["lg:col-span-1",!0],["col-span-2",P(e.edit_view_mode,new ms)],["hidden",P(e.edit_view_mode,new En)]]))]),u)])),$m()])}else return l([ai("no draft..")])}function Bm(){return l([Ra("Articles"),kl("Loading articles...")])}function Ap(e,t){return nr(l([f(""),er(Ee(e)),te(new on(e))]),t)}function Gt(e,t,n,r){return el(pe(r,l([Ni(l([["relative cursor-pointer transition-all duration-300 ease-out px-3 py-2 rounded-lg",!0],["active text-pink-500",Vf(e,t)]])),te(new on(R(e)))])),l([Ap(R(e),l([m(n)]))]))}function iu(e){let t=l([f("block w-full text-left px-4 py-2 text-sm text-zinc-400 hover:text-teal-300 hover:bg-teal-800/20 transition-colors cursor-pointer")]);return Qc(l([f("py-2 border-b bg-zinc-800 border-pink-700 font-mono relative")]),l([h(l([f("flex justify-between px-4 sm:px-6 md:px-10 items-center max-w-screen-md mx-auto")]),l([h(l([]),l([Ap(Bl(new or),l([m("jst.dev")]))])),h(l([f("flex items-center space-x-8")]),l([tl(l([f("hidden sm:flex space-x-8 pr-2")]),kr(l([l([Gt(new bt,e.route,"Articles",l([])),Gt(new Ut,e.route,"About",l([]))]),e.session instanceof Ae?l([Gt(new dt,e.route,"Short Urls",l([])),Gt(new H,e.route,"UI Components",l([]))]):l([]),l([Gt(new Dt,e.route,"Djot Demo",l([]))])]))),h(l([f("relative")]),l([he(l([f("px-4 py-2 bg-zinc-800 hover:bg-teal-500/10 transition-colors duration-200"),te(new Ul)]),l([e.profile_menu_open?ps(l([f("w-6 h-6")]),new ni):ps(l([f("w-6 h-6")]),new fs)])),e.profile_menu_open?h(l([f("absolute right-0 mt-2 w-48 shadow-lg bg-zinc-800 border border-l-2 border-zinc-700  z-50")]),l([h(l([f("py-1")]),l([tl(l([f("sm:hidden flex flex-col border-b border-zinc-400")]),kr(l([l([Gt(new bt,e.route,"Articles",t),Gt(new Ut,e.route,"About",t)]),e.session instanceof Ae?l([Gt(new dt,e.route,"Short urls",t),Gt(new H,e.route,"UI Components",t)]):l([]),l([Gt(new Dt,e.route,"Djot Demo",t)])]))),(()=>{let r=e.session;return r instanceof bn?Jr("logging in..",new U,new Re,new ws):r instanceof Je?Jr("Login",new U,new D,new wr):Jr("Logout",new oe,new D,new ws)})(),Jr("Check",new U,new D,new to),e.debug_use_local_storage?Fa(l([h(l([f("flex justify-between")]),l([m("LocalStorage"),ps(l([f("w-6 text-green-400")]),new Cl)]))]),new oe,new D,new bs):Fa(l([h(l([f("flex justify-between ")]),l([m("LocalStorage"),ps(l([f("w-6 text-orange-400")]),new ni)]))]),new U,new D,new bs)]))])):h(l([]),l([]))]))]))]))]))}function Cm(e){let t;e===""?t=l([h(l([f("text-zinc-500 italic text-center mt-8")]),l([m("Start typing in the editor to see the preview here...")]))]):t=Il(e);let n=t;return l([Ye("Djot Demo","djot-demo"),h(l([f("grid grid-cols-1 lg:grid-cols-2 gap-6")]),l([gt(l([f("space-y-4")]),l([h(l([f("flex items-center justify-between")]),l([Le(l([f("text-xl text-pink-700 font-light")]),l([m("Editor")])),h(l([f("text-xs text-zinc-500")]),l([m("Live preview updates as you type")]))])),h(l([f("relative")]),l([Lr(l([f("w-full h-[400px] lg:h-[600px] bg-zinc-800 border border-zinc-600 rounded-lg p-4 font-mono text-sm text-zinc-100 resize-none focus:border-pink-700 focus:ring-1 focus:ring-pink-700 focus:outline-none transition-colors duration-200"),Qn(`# Start typing your article content here...

## Headings

- Lists
- Work too

**Bold** and *italic* text

[Link text](url)`),Yt(e),Zt(r=>new no(r)),E("spellcheck","false")]),e),h(l([f("absolute bottom-2 right-2 text-xs text-zinc-500 bg-zinc-800 px-2 py-1 rounded")]),l([m((()=>{let r=St(e);return Po(r)})()),m(" chars")]))]))])),gt(l([f("space-y-4")]),l([h(l([f("flex items-center justify-between")]),l([Le(l([f("text-xl text-pink-700 font-light")]),l([m("Preview")])),h(l([f("text-xs text-zinc-500")]),l([m("Rendered output")]))])),h(l([f("w-full h-[400px] lg:h-[600px] bg-zinc-900 border border-zinc-600 rounded-lg p-6 overflow-y-auto prose prose-invert prose-pink max-w-none")]),n)]))])),h(l([f("mt-8 p-4 bg-zinc-800 rounded-lg border border-zinc-700")]),l([Y(l([f("text-lg text-pink-700 font-light")]),l([m("Quick Reference")])),se(l([f("text-zinc-300")]),l([Wi(l([]),l([m("Note: ")])),m("The djot implementation is a work in progress. Not all features are supported yet.")])),se(l([f("mb-6")]),l([m("See the "),nr(l([er("https://htmlpreview.github.io/?https://github.com/jgm/djot/blob/master/doc/syntax.html"),f("text-zinc-300 underline")]),l([m("djot syntax documentation")])),m(" for more details.")])),h(l([f("grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 text-sm")]),l([h(l([]),l([me(l([f("text-pink-700 font-medium mb-2")]),l([m("Headings")])),Be(l([f("text-zinc-300")]),l([Ie(l([f("text-zinc-300")]),l([m(`# H1
## H2
### H3`)]))]))])),h(l([]),l([me(l([f("text-pink-700 font-medium mb-2")]),l([m("Text")])),Be(l([f("text-zinc-300")]),l([Ie(l([f("text-zinc-300")]),l([m("_italic_\n*bold*\n`code`")]))]))])),h(l([]),l([me(l([f("text-pink-700 font-medium mb-2")]),l([m("Lists")])),Be(l([f("text-zinc-300")]),l([Ie(l([f("text-zinc-300")]),l([m(`- item 1
- item 2

  - nested`)]))]))])),h(l([]),l([me(l([f("text-pink-700 font-medium mb-2")]),l([m("Links")])),Be(l([f("text-zinc-300")]),l([Ie(l([f("text-zinc-300")]),l([m(`[text](url)
[text](url){title="tooltip"}`)]))]))])),h(l([]),l([me(l([f("text-pink-700 font-medium mb-2")]),l([m("Code Blocks")])),Be(l([f("text-zinc-300")]),l([Ie(l([f("text-zinc-300")]),l([m("```\ncode here\n```")]))]))])),h(l([]),l([me(l([f("text-pink-700 font-medium mb-2")]),l([m("Blockquotes")])),Be(l([f("text-zinc-300")]),l([Ie(l([f("text-zinc-300")]),l([m("> quoted text")]))]))]))]))]))])}function qm(){return l([Da("UI Components",new $("Showcase of all available UI components")),gt(l([f("space-y-6")]),l([Le(l([f("text-2xl font-light text-zinc-200 mb-6")]),l([m("Loading States")])),tn(l([Y(l([f("text-lg font-medium text-zinc-100 mb-4")]),l([m("Spinners")])),h(l([f("flex items-center space-x-8 mb-6")]),l([h(l([f("text-center")]),l([Of(),se(l([f("text-sm text-zinc-400 mt-2")]),l([m("Small")]))])),h(l([f("text-center")]),l([Ma(),se(l([f("text-sm text-zinc-400 mt-2")]),l([m("Large")]))]))])),Y(l([f("text-lg font-medium text-zinc-100 mb-4")]),l([m("Indicators")])),h(l([f("space-y-4")]),l([ss(),Oa(),Ua(),kl("Loading data...")]))]))])),gt(l([f("space-y-6")]),l([Le(l([f("text-2xl font-light text-zinc-200 mb-6")]),l([m("Buttons")])),tn(l([Y(l([f("text-lg font-medium text-zinc-100 mb-4")]),l([m("Button Variants")])),h(l([f("mb-6")]),l([me(l([f("text-md font-medium text-teal-400 mb-3")]),l([m("Teal")])),h(l([f("flex flex-wrap gap-3")]),l([ne("Normal",new U,new D,new ue(R(new H))),ne("Pending",new U,new Re,new ue(R(new H))),ne("Disabled",new U,new Ke,new ue(R(new H)))]))])),h(l([f("mb-6")]),l([me(l([f("text-md font-medium text-orange-400 mb-3")]),l([m("Orange")])),h(l([f("flex flex-wrap gap-3")]),l([ne("Normal",new oe,new D,new ue(R(new H))),ne("Pending",new oe,new Re,new ue(R(new H))),ne("Disabled",new oe,new Ke,new ue(R(new H)))]))])),h(l([f("mb-6")]),l([me(l([f("text-md font-medium text-red-400 mb-3")]),l([m("Red")])),h(l([f("flex flex-wrap gap-3")]),l([ne("Normal",new ae,new D,new ue(R(new H))),ne("Pending",new ae,new Re,new ue(R(new H))),ne("Disabled",new ae,new Ke,new ue(R(new H)))]))])),h(l([f("mb-6")]),l([me(l([f("text-md font-medium text-green-400 mb-3")]),l([m("Green")])),h(l([f("flex flex-wrap gap-3")]),l([ne("Normal",new xt,new D,new ue(R(new H))),ne("Pending",new xt,new Re,new ue(R(new H))),ne("Disabled",new xt,new Ke,new ue(R(new H)))]))])),Y(l([f("text-lg font-medium text-zinc-100 mb-4 mt-8")]),l([m("Menu Buttons")])),h(l([f("max-w-sm")]),M(l([[new U,new D,"Teal Menu (Normal)"],[new U,new Re,"Teal Menu (Pending)"],[new U,new Ke,"Teal Menu (Disabled)"],[new oe,new D,"Orange Menu (Normal)"],[new oe,new Re,"Orange Menu (Pending)"],[new oe,new Ke,"Orange Menu (Disabled)"],[new ae,new D,"Red Menu (Normal)"],[new ae,new Re,"Red Menu (Pending)"],[new ae,new Ke,"Red Menu (Disabled)"],[new xt,new D,"Green Menu (Normal)"],[new xt,new Re,"Green Menu (Pending)"],[new xt,new Ke,"Green Menu (Disabled)"]]),e=>{let t=e[0],n=e[1],r=e[2];return Jr(r,t,n,new au)}))]))])),gt(l([f("space-y-6")]),l([Le(l([f("text-2xl font-light text-zinc-200 mb-6")]),l([m("Form Components")])),tn(l([Y(l([f("text-lg font-medium text-zinc-100 mb-4")]),l([m("Input Fields")])),h(l([f("max-w-md space-y-6")]),l([lr("Email","user@example.com","Enter your email","email",!0,new x,e=>new ue(R(new H))),lr("Error State","","This field has an error","text",!0,new $("This field is required"),e=>new ue(R(new H))),Uf("Description","Sample content","Enter description","h-32",!1,new x,e=>new ue(R(new H)))]))]))])),gt(l([f("space-y-6")]),l([Le(l([f("text-2xl font-light text-zinc-200 mb-6")]),l([m("Status & Feedback")])),tn(l([Y(l([f("text-lg font-medium text-zinc-100 mb-4")]),l([m("Status Badges")])),h(l([f("flex flex-wrap gap-4 mb-8")]),l([ls("Active",new xt),ls("Pending",new oe),ls("Error",new ae),ls("Info",new U)])),Y(l([f("text-lg font-medium text-zinc-100 mb-4")]),l([m("Notices")])),h(l([f("space-y-4")]),l([os("Success message",new xt,!0,new $(new ue(R(new H)))),os("Warning message",new oe,!0,new $(new ue(R(new H)))),os("Error message",new ae,!0,new $(new ue(R(new H)))),os("Info message",new U,!1,new x)]))]))])),gt(l([f("space-y-6")]),l([Le(l([f("text-2xl font-light text-zinc-200 mb-6")]),l([m("Error States")])),tn(l([h(l([f("space-y-8")]),l([Al(new rs,"Network Error","Failed to connect to server",new $(new ue(R(new H)))),Al(new is,"Not Found","The requested resource was not found",new x)]))]))])),gt(l([f("space-y-6")]),l([Le(l([f("text-2xl font-light text-zinc-200 mb-6")]),l([m("Layout Components")])),tn(l([Y(l([f("text-lg font-medium text-zinc-100 mb-4")]),l([m("Cards")])),h(l([f("space-y-6")]),l([Wf("Card with Title",l([se(l([f("text-zinc-300")]),l([m("This is a card with a title section.")]))])),Gf(l([me(l([f("text-lg font-medium text-zinc-100 mb-2")]),l([m("Glass Panel")])),se(l([f("text-zinc-300")]),l([m("This panel has a glass-like effect.")]))]))])),Y(l([f("text-lg font-medium text-zinc-100 mb-4 mt-8")]),l([m("Empty States")])),zl("No Items Found","There are no items to display at the moment.",new $(ne("Create New",new U,new D,new ue(R(new H)))))]))])),gt(l([f("space-y-6")]),l([Le(l([f("text-2xl font-light text-zinc-200 mb-6")]),l([m("Skeleton Loaders")])),tn(l([Y(l([f("text-lg font-medium text-zinc-100 mb-4")]),l([m("Loading Placeholders")])),h(l([f("space-y-6")]),l([h(l([]),l([me(l([f("text-md font-medium text-zinc-200 mb-4")]),l([m("Text Skeleton")])),Hf(3)])),h(l([]),l([me(l([f("text-md font-medium text-zinc-200 mb-4")]),l([m("Card Skeleton")])),Jf()]))]))]))])),gt(l([f("space-y-6")]),l([Le(l([f("text-2xl font-light text-zinc-200 mb-6")]),l([m("Typography & Links")])),tn(l([Y(l([f("text-lg font-medium text-zinc-100 mb-4")]),l([m("Text Styles")])),h(l([f("space-y-4")]),l([Ff("Gradient Text Effect"),se(l([f("text-zinc-300")]),l([m("Regular text with "),Ha("primary link",new ue(R(new H))),m(" embedded.")]))]))]))]))])}function Pm(e){let t=fm(e),n;if(t instanceof as)n=_m();else if(t instanceof or)n=dm();else if(t instanceof sn){let o=t.article,a=t.session;n=kp(o,a)}else if(t instanceof Rt){let o=t.article;n=Tm(e,o)}else if(t instanceof ar){let o=t.articles,a=t.session;n=vm(o,a)}else if(t instanceof kn)n=Bm();else if(t instanceof Vr)n=Sm(e);else if(t instanceof Yr){let o=t.short;n=jm(e,o)}else if(t instanceof Zr)n=qm();else if(t instanceof fe){let o=t.error;if(o instanceof ur){let a=o.slug;n=Am(e.articles,a)}else if(o instanceof cr){let a=o.id;n=km(e.articles,a)}else if(o instanceof An){let a=o.error;n=l([ai(cs(a))])}else if(o instanceof Ve){let a=o.attempted_action;n=l([ai("Authentication required: "+a)])}else{let a=o.msg;n=l([ai(a)])}}else if(t instanceof Qr)n=zm();else if(t instanceof Xr){let o=t.requested_uri;n=Em(o)}else{let o=t.content;n=Cm(o)}let r=n,i;return t instanceof Rt?i=o=>h(l([f("min-h-screen bg-zinc-900 text-zinc-100 selection:bg-pink-700 selection:text-zinc-100 ")]),l([nu(e.notice),iu(e),Xs(l([f("mx-auto px-10 py-10")]),o),ru(e)])):t instanceof us?i=o=>h(l([f("min-h-screen bg-zinc-900 text-zinc-100 selection:bg-pink-700 selection:text-zinc-100 ")]),l([nu(e.notice),iu(e),Xs(l([f("mx-auto px-10 py-10")]),o),ru(e)])):i=o=>h(l([f("min-h-screen bg-zinc-900 text-zinc-100 selection:bg-pink-700 selection:text-zinc-100 ")]),l([nu(e.notice),iu(e),Xs(l([f("max-w-screen-md mx-auto px-10 py-10")]),o),ru(e)])),i(r)}var Nm=`# Quick Start for Markdown users

Djot is a lot like Markdown.  Here are some of the main
differences you need to be aware of in making the transition.

#### Blank lines

In djot you need blank lines around block-level
elements.  Hence, instead of

\`\`\`
This is some text.
## My next heading
\`\`\`

you must write

\`\`\`
This is some text.

## My next heading
\`\`\`

Instead of

\`\`\`\`
This is some text.
\`\`\` lua
local foo = bar.baz or false
\`\`\`
\`\`\`\`

you must write

\`\`\`\`
This is some text.

\`\`\` lua
local foo = bar.baz or false
\`\`\`
\`\`\`\`

Instead of

\`\`\`
Text.
> a blockquote.
\`\`\`

you must write

\`\`\`
Text.

> a blockquote.
\`\`\`

And instead of

\`\`\`
Before a thematic break.
****
After a thematic break.
\`\`\`

you must write

\`\`\`
Before a thematic break.

****

After a thematic break.
\`\`\`

#### Lists

A special case of this is that you always need a blank line before a
list, even if it's a sublist. So, while in Markdown you can write

\`\`\`
- one
  - two
  - three
\`\`\`

in djot you must write

\`\`\`
- one

  - two
  - three
\`\`\`

#### Headings

There are no Setext-style (underlined) headings, only ATX- (\`#\`) style.

Heading content can extend over several lines, which may or
may not be preceded by \`#\` characters:

\`\`\`
## This is a single
## level-2 heading

### This is a single
level-3 heading
\`\`\`

As a result, headings must always have a blank line following.

Trailing \`#\` characters in a heading are read as part of the
content and not ignored.

#### Code blocks

There are no indented code blocks, only fenced with \` \`\`\` \`.

#### Block quotes

You need a space after the \`>\` character, unless it is followed
by a newline.

#### Emphasis

Use single \`_\` delimiters for regular emphasis and
single \`*\` delimiters for strong emphasis.

#### Links

There is no special syntax for adding a title to a link, as
in Markdown:

\`\`\`
[link](http://example.com "Go to my website")
\`\`\`

If you want a title attribute on a link, use the general attribute syntax:

\`\`\`
[link](http://example.com){title="Go to my website"}
\`\`\`

#### Hard line breaks

In Markdown you can create a hard line break by ending a line
with two spaces. In djot you use a backslash before the newline.

\`\`\`
A new\\
line.
\`\`\`

#### Raw HTML

In Markdown you can just insert raw HTML "as is."  In djot,
you must mark it as raw HTML:

\`\`\`\`
This is raw HTML: \`<a id="foo">\`{=html}.

Here is a raw HTML block:

\`\`\` =html
<table>
<tr><td>foo</td></tr>
</table>
\`\`\`
\`\`\`\`

#### Tables

Pipe tables always require a pipe character at the start and end
of each line, unlike in many Markdown implementations.  So, this
is not a table:

\`\`\`
a|b
-|-
1|2
\`\`\`

but this is:

\`\`\`
| a | b |
| - | - |
| 1 | 2 |
\`\`\`


#### That's enough to get started!

Here we have just focused on things that might trip up
Markdown users.  If you keep these in mind, you should be
able to start using djot without looking at any more
documentation.

However, we haven't discussed any of the things
you can do in djot but not Markdown. See the [syntax
description](https://htmlpreview.github.io/?https://github.com/jgm/djot/blob/master/doc/syntax.html)
to find about the new constructions that are available.
`;function Lm(e){let t=xa();if(!(t instanceof g))throw K("let_assert",xo,"jst_lustre",53,"init","Pattern match failed, no pattern matched the value.",{value:t,start:1580,end:1620,pattern_start:1591,pattern_end:1598});let n=t[0],r=hp(si,mp(),o=>new _o(o)),i=new z(n,Ja(n),new Je,new G,new G,"","",Nm,new En,!1,"",!0,new x,new x,Ls(),!1,"","",!1),s=uf(o=>{let a=o;return new ue(a)});return[i,Kn(l([s,r,qa(o=>new gs(o),i.base_uri)]))]}function zp(){let e=Hc(Lm,cm,Pm),t=Jc(e,"#app",void 0);if(!(t instanceof g))throw K("let_assert",xo,"jst_lustre",46,"main","Pattern match failed, no pattern matched the value.",{value:t,start:1436,end:1485,pattern_start:1447,pattern_end:1452})}function _e(e,t,n){let r="\x1B[90m",i="\x1B[39m",s=`${t}:${n}`,o=ln(e);if(globalThis.process?.stderr?.write){let a=`${r}${s}${i}
${o}
`;process.stderr.write(a)}else if(globalThis.Deno){let a=`${r}${s}${i}
${o}
`;globalThis.Deno.stderr.writeSync(new TextEncoder().encode(a))}else{let a=`${s}
${o}`;globalThis.console.log(a)}return e}function Im(e){let t='"';for(let n=0;n<e.length;n++){let r=e[n];r==`
`?t+="\\n":r=="\r"?t+="\\r":r=="	"?t+="\\t":r=="\f"?t+="\\f":r=="\\"?t+="\\\\":r=='"'?t+='\\"':r<" "||r>"~"&&r<"\xA0"?t+="\\u{"+r.charCodeAt(0).toString(16).toUpperCase().padStart(4,"0")+"}":t+=r}return t+='"',t}function Mm(e){let t="dict.from_list([",n=!0,r=[];return e.forEach((i,s)=>{r.push([s,i])}),r.sort(),r.forEach(([i,s])=>{n||(t=t+", "),t=t+"#("+ln(i)+", "+ln(s)+")",n=!1}),t+"])"}function Om(e){let t=globalThis.Object.keys(e).map(n=>{let r=ln(e[n]);return isNaN(parseInt(n))?`${n}: ${r}`:r}).join(", ");return t?`${e.constructor.name}(${t})`:e.constructor.name}function Um(e){let t=Object.getPrototypeOf(e)?.constructor?.name||"Object",n=[];for(let s of Object.keys(e))n.push(`${ln(s)}: ${ln(e[s])}`);let r=n.length?" "+n.join(", ")+" ":"";return`//js(${t==="Object"?"":t+" "}{${r}})`}function ln(e){let t=typeof e;if(e===!0)return"True";if(e===!1)return"False";if(e===null)return"//js(null)";if(e===void 0)return"Nil";if(t==="string")return Im(e);if(t==="bigint"||t==="number")return e.toString();if(globalThis.Array.isArray(e))return`#(${e.map(ln).join(", ")})`;if(e instanceof re)return`[${e.toArray().map(ln).join(", ")}]`;if(e instanceof an)return`//utfcodepoint(${String.fromCodePoint(e.value)})`;if(e instanceof Ze)return Dm(e);if(e instanceof _)return Om(e);if(Rm(e))return Mm(e);if(e instanceof Set)return`//js(Set(${[...e].map(ln).join(", ")}))`;if(e instanceof RegExp)return`//js(${e})`;if(e instanceof Date)return`//js(Date("${e.toISOString()}"))`;if(e instanceof Function){let n=[];for(let r of Array(e.length).keys())n.push(String.fromCharCode(r+97));return`//fn(${n.join(", ")}) { ... }`}return Um(e)}function Dm(e){let t=e.bitOffset+8*Math.trunc(e.bitSize/8),n=qn(e,e.bitOffset,t),r=e.bitSize%8;if(r>0){let i=ys(e,t,e.bitSize,!1,!1),s=Array.from(n.rawBuffer),o=`${i}:size(${r})`;return s.length===0?`<<${o}>>`:`<<${Array.from(n.rawBuffer).join(", ")}, ${o}>>`}else return`<<${Array.from(n.rawBuffer).join(", ")}>>`}function Rm(e){try{return e instanceof We}catch{return!1}}zp();
