var _=class{withFields(t){let n=Object.keys(this).map(r=>r in t?t[r]:this[r]);return new this.constructor(...n)}},Q=class{static fromArray(t,n){let r=n||new y;for(let i=t.length-1;i>=0;--i)r=new Bt(t[i],r);return r}[Symbol.iterator](){return new no(this)}toArray(){return[...this]}atLeastLength(t){let n=this;for(;t-- >0&&n;)n=n.tail;return n!==void 0}hasLength(t){let n=this;for(;t-- >0&&n;)n=n.tail;return t===-1&&n instanceof y}countLength(){let t=this,n=0;for(;t;)t=t.tail,n++;return n-1}};function b(e,t){return new Bt(e,t)}function o(e,t){return Q.fromArray(e,t)}var no=class{#e;constructor(t){this.#e=t}next(){if(this.#e instanceof y)return{done:!0};{let{head:t,tail:n}=this.#e;return this.#e=n,{value:t,done:!1}}}},y=class extends Q{},Bt=class extends Q{constructor(t,n){super(),this.head=t,this.tail=n}},Ie=class{bitSize;byteSize;bitOffset;rawBuffer;constructor(t,n,r){if(!(t instanceof Uint8Array))throw globalThis.Error("BitArray can only be constructed from a Uint8Array");if(this.bitSize=n??t.length*8,this.byteSize=Math.trunc((this.bitSize+7)/8),this.bitOffset=r??0,this.bitSize<0)throw globalThis.Error(`BitArray bit size is invalid: ${this.bitSize}`);if(this.bitOffset<0||this.bitOffset>7)throw globalThis.Error(`BitArray bit offset is invalid: ${this.bitOffset}`);if(t.length!==Math.trunc((this.bitOffset+this.bitSize+7)/8))throw globalThis.Error("BitArray buffer length is invalid");this.rawBuffer=t}byteAt(t){if(!(t<0||t>=this.byteSize))return Vr(this.rawBuffer,this.bitOffset,t)}equals(t){if(this.bitSize!==t.bitSize)return!1;let n=Math.trunc(this.bitSize/8);if(this.bitOffset===0&&t.bitOffset===0){for(let i=0;i<n;i++)if(this.rawBuffer[i]!==t.rawBuffer[i])return!1;let r=this.bitSize%8;if(r){let i=8-r;if(this.rawBuffer[n]>>i!==t.rawBuffer[n]>>i)return!1}}else{for(let i=0;i<n;i++){let s=Vr(this.rawBuffer,this.bitOffset,i),l=Vr(t.rawBuffer,t.bitOffset,i);if(s!==l)return!1}let r=this.bitSize%8;if(r){let i=Vr(this.rawBuffer,this.bitOffset,n),s=Vr(t.rawBuffer,t.bitOffset,n),l=8-r;if(i>>l!==s>>l)return!1}}return!0}get buffer(){if(Wa("buffer","Use BitArray.byteAt() or BitArray.rawBuffer instead"),this.bitOffset!==0||this.bitSize%8!==0)throw new globalThis.Error("BitArray.buffer does not support unaligned bit arrays");return this.rawBuffer}get length(){if(Wa("length","Use BitArray.bitSize or BitArray.byteSize instead"),this.bitOffset!==0||this.bitSize%8!==0)throw new globalThis.Error("BitArray.length does not support unaligned bit arrays");return this.rawBuffer.length}};function Vr(e,t,n){if(t===0)return e[n]??0;{let r=e[n]<<t&255,i=e[n+1]>>8-t;return r|i}}var Kt=class{constructor(t){this.value=t}},Ra={};function Wa(e,t){Ra[e]||(console.warn(`Deprecated BitArray.${e} property used in JavaScript FFI code. ${t}.`),Ra[e]=!0)}function bn(e,t,n){if(n??=e.bitSize,Ga(e,t,n),t===n)return new Ie(new Uint8Array);if(t===0&&n===e.bitSize)return e;t+=e.bitOffset,n+=e.bitOffset;let r=Math.trunc(t/8),s=Math.trunc((n+7)/8)-r,l;return r===0&&s===e.rawBuffer.byteLength?l=e.rawBuffer:l=new Uint8Array(e.rawBuffer.buffer,e.rawBuffer.byteOffset+r,s),new Ie(l,n-t,t%8)}function is(e,t,n,r,i){if(Ga(e,t,n),t===n)return 0;t+=e.bitOffset,n+=e.bitOffset;let s=t%8===0,l=n%8===0;if(s&&l)return fp(e,t/8,n/8,r,i);let a=n-t,u=Math.trunc(t/8),c=Math.trunc((n-1)/8);if(u==c){let p=255>>t%8,d=(8-n%8)%8,h=(e.rawBuffer[u]&p)>>d;if(i){let v=2**(a-1);h>=v&&(h-=v*2)}return h}return a<=53?_p(e.rawBuffer,t,n,r,i):$p(e.rawBuffer,t,n,r,i)}function fp(e,t,n,r,i){return n-t<=6?pp(e.rawBuffer,t,n,r,i):dp(e.rawBuffer,t,n,r,i)}function pp(e,t,n,r,i){let s=n-t,l=0;if(r)for(let a=t;a<n;a++)l*=256,l+=e[a];else for(let a=n-1;a>=t;a--)l*=256,l+=e[a];if(i){let a=2**(s*8-1);l>=a&&(l-=a*2)}return l}function dp(e,t,n,r,i){let s=n-t,l=0n;if(r)for(let a=t;a<n;a++)l*=256n,l+=BigInt(e[a]);else for(let a=n-1;a>=t;a--)l*=256n,l+=BigInt(e[a]);if(i){let a=1n<<BigInt(s*8-1);l>=a&&(l-=a*2n)}return Number(l)}function _p(e,t,n,r,i){let s=t%8===0,l=n-t,a=Math.trunc(t/8),u=0;if(r){if(!s){let c=8-t%8;u=e[a++]&(1<<c)-1,l-=c}for(;l>=8;)u*=256,u+=e[a++],l-=8;l>0&&(u*=2**l,u+=e[a]>>8-l)}else if(s){let c=n-t,p=1;for(;c>=8;)u+=e[a++]*p,p*=256,c-=8;u+=(e[a]>>8-c)*p}else{let c=t%8,p=8-c,d=n-t,h=1;for(;d>=8;){let v=e[a]<<c|e[a+1]>>p;u+=(v&255)*h,h*=256,d-=8,a++}if(d>0){let v=d-Math.max(0,d-p),k=(e[a]&(1<<p)-1)>>p-v;d-=v,d>0&&(k*=2**d,k+=e[a+1]>>8-d),u+=k*h}}if(i){let c=2**(n-t-1);u>=c&&(u-=c*2)}return u}function $p(e,t,n,r,i){let s=t%8===0,l=n-t,a=Math.trunc(t/8),u=0n;if(r){if(!s){let c=8-t%8;u=BigInt(e[a++]&(1<<c)-1),l-=c}for(;l>=8;)u*=256n,u+=BigInt(e[a++]),l-=8;l>0&&(u<<=BigInt(l),u+=BigInt(e[a]>>8-l))}else if(s){let c=n-t,p=0n;for(;c>=8;)u+=BigInt(e[a++])<<p,p+=8n,c-=8;u+=BigInt(e[a]>>8-c)<<p}else{let c=t%8,p=8-c,d=n-t,h=0n;for(;d>=8;){let v=e[a]<<c|e[a+1]>>p;u+=BigInt(v&255)<<h,h+=8n,d-=8,a++}if(d>0){let v=d-Math.max(0,d-p),k=(e[a]&(1<<p)-1)>>p-v;d-=v,d>0&&(k<<=d,k+=e[a+1]>>8-d),u+=BigInt(k)<<h}}if(i){let c=2n**BigInt(n-t-1);u>=c&&(u-=c*2n)}return Number(u)}function Ga(e,t,n){if(t<0||t>e.bitSize||n<t||n>e.bitSize){let r=`Invalid bit array slice: start = ${t}, end = ${n}, bit size = ${e.bitSize}`;throw new globalThis.Error(r)}}var cr=class e extends _{static isResult(t){return t instanceof e}},w=class extends cr{constructor(t){super(),this[0]=t}isOk(){return!0}},A=class extends cr{constructor(t){super(),this[0]=t}isOk(){return!1}};function B(e,t){let n=[e,t];for(;n.length;){let r=n.pop(),i=n.pop();if(r===i)continue;if(!Ha(r)||!Ha(i)||!vp(r,i)||hp(r,i)||wp(r,i)||gp(r,i)||xp(r,i)||bp(r,i)||yp(r,i))return!1;let l=Object.getPrototypeOf(r);if(l!==null&&typeof l.equals=="function")try{if(r.equals(i))continue;return!1}catch{}let[a,u]=mp(r);for(let c of a(r))n.push(u(r,c),u(i,c))}return!0}function mp(e){if(e instanceof Map)return[t=>t.keys(),(t,n)=>t.get(n)];{let t=e instanceof globalThis.Error?["message"]:[];return[n=>[...t,...Object.keys(n)],(n,r)=>n[r]]}}function hp(e,t){return e instanceof Date&&(e>t||e<t)}function wp(e,t){return!(e instanceof Ie)&&e.buffer instanceof ArrayBuffer&&e.BYTES_PER_ELEMENT&&!(e.byteLength===t.byteLength&&e.every((n,r)=>n===t[r]))}function gp(e,t){return Array.isArray(e)&&e.length!==t.length}function xp(e,t){return e instanceof Map&&e.size!==t.size}function bp(e,t){return e instanceof Set&&(e.size!=t.size||[...e].some(n=>!t.has(n)))}function yp(e,t){return e instanceof RegExp&&(e.source!==t.source||e.flags!==t.flags)}function Ha(e){return typeof e=="object"&&e!==null}function vp(e,t){return typeof e!="object"&&typeof t!="object"&&(!e||!t)||[Promise,WeakSet,WeakMap,Function].some(r=>e instanceof r)?!1:e.constructor===t.constructor}function yn(e,t){return t===0?0:e%t}function vn(e,t){return Math.trunc(ro(e,t))}function ro(e,t){return t===0?0:e/t}function K(e,t,n,r,i,s,l){let a=new globalThis.Error(s);a.gleam_error=e,a.file=t,a.module=n,a.line=r,a.function=i,a.fn=i;for(let u in l)a[u]=l[u];return a}var $=class extends _{constructor(t){super(),this[0]=t}},g=class extends _{};function ss(e,t){if(e instanceof $){let n=e[0];return new w(n)}else return new A(t)}function fr(e,t){if(e instanceof $){let n=e[0];return new $(t(n))}else return new g}function Ja(e){return e instanceof $?e[0]:new g}function Ka(e,t){if(e instanceof $){let n=e[0];return t(n)}else return new g}function ut(e,t,n){return e?t:n()}var X=class extends _{},re=class extends _{},qe=class extends _{};function Me(e,t,n){return Za(t,n,e)}function Ap(e,t){for(;;){let n=e,r=t;if(n instanceof y)return r;{let i=n.head;e=n.tail,t=b(i,r)}}}function zp(e,t){for(;;){let n=e,r=t;if(n instanceof y)return Ap(r,o([]));{let i=n.tail,s=n.head[0];e=i,t=b(s,r)}}}function io(e){return zp(kn(e),o([]))}function so(e,t){return Ya(t,e)}function lo(e,t,n){let r=rt(e,t);if(r instanceof w){let i=r[0];return Me(e,t,n(new $(i)))}else return Me(e,t,n(new g))}function Qa(e,t){let n=e[0],r=e[1];return[n,t(r)]}var fe=class extends _{},An=class extends _{};function Tp(e,t){for(;;){let n=e,r=t;if(n instanceof y)return r;e=n.tail,t=r+1}}function oo(e){return Tp(e,0)}function dr(e,t){for(;;){let n=e,r=t;if(n instanceof y)return r;{let i=n.head;e=n.tail,t=b(i,r)}}}function q(e){return dr(e,o([]))}function qp(e,t,n){for(;;){let r=e,i=t,s=n;if(r instanceof y)return q(s);{let l=r.head,a=r.tail,u;i(l)?u=b(l,s):u=s;let p=u;e=a,t=i,n=p}}}function pt(e,t){return qp(e,t,o([]))}function Cp(e,t,n){for(;;){let r=e,i=t,s=n;if(r instanceof y)return q(s);{let l=r.head,a=r.tail,u,c=i(l);if(c instanceof w){let d=c[0];u=b(d,s)}else u=s;let p=u;e=a,t=i,n=p}}}function zn(e,t){return Cp(e,t,o([]))}function Bp(e,t,n){for(;;){let r=e,i=t,s=n;if(r instanceof y)return q(s);{let l=r.head;e=r.tail,t=i,n=b(i(l),s)}}}function O(e,t){return Bp(e,t,o([]))}function Pp(e,t){for(;;){let n=e,r=t;if(n instanceof y)return r;{let i=n.head;e=n.tail,t=b(i,r)}}}function ee(e,t){return Pp(q(e),t)}function Ce(e,t,n){for(;;){let r=e,i=t,s=n;if(r instanceof y)return i;{let l=r.head;e=r.tail,t=s(i,l),n=s}}}function ao(e,t,n){let r=Ce(e,[t,o([])],(i,s)=>{let l=i[0],a=i[1],u=n(l,s),c=u[0],p=u[1];return[c,b(p,a)]});return Qa(r,q)}function Lp(e,t,n,r){for(;;){let i=e,s=t,l=n,a=r;if(i instanceof y)return s;{let u=i.head;e=i.tail,t=l(s,u,a),n=l,r=a+1}}}function uo(e,t,n){return Lp(e,t,n,0)}function it(e,t){for(;;){let n=e,r=t;if(n instanceof y)return new A(void 0);{let i=n.head,s=n.tail;if(r(i))return new w(i);e=s,t=r}}}function Xa(e,t){for(;;){let n=e,r=t;if(n instanceof y)return!0;{let i=n.head,s=n.tail;if(r(i))e=s,t=r;else return!1}}}function Yr(e,t){for(;;){let n=e,r=t;if(n instanceof y)return!1;{let i=n.head,s=n.tail;if(r(i))return!0;e=s,t=r}}}function Np(e,t,n,r,i,s){for(;;){let l=e,a=t,u=n,c=r,p=i,d=s,h=b(p,u);if(l instanceof y)return c instanceof fe?b(q(h),d):b(h,d);{let v=l.head,k=l.tail,T=a(p,v);if(c instanceof fe)if(T instanceof X)e=k,t=a,n=h,r=c,i=v,s=d;else if(T instanceof re)e=k,t=a,n=h,r=c,i=v,s=d;else{let S;c instanceof fe?S=b(q(h),d):S=b(h,d);let G=S;if(k instanceof y)return b(o([v]),G);{let J=k.head,N=k.tail,L,C=a(v,J);C instanceof X?L=new fe:C instanceof re?L=new fe:L=new An;let ne=L;e=N,t=a,n=o([v]),r=ne,i=J,s=G}}else if(T instanceof X){let S;c instanceof fe?S=b(q(h),d):S=b(h,d);let G=S;if(k instanceof y)return b(o([v]),G);{let J=k.head,N=k.tail,L,C=a(v,J);C instanceof X?L=new fe:C instanceof re?L=new fe:L=new An;let ne=L;e=N,t=a,n=o([v]),r=ne,i=J,s=G}}else if(T instanceof re){let S;c instanceof fe?S=b(q(h),d):S=b(h,d);let G=S;if(k instanceof y)return b(o([v]),G);{let J=k.head,N=k.tail,L,C=a(v,J);C instanceof X?L=new fe:C instanceof re?L=new fe:L=new An;let ne=L;e=N,t=a,n=o([v]),r=ne,i=J,s=G}}else e=k,t=a,n=h,r=c,i=v,s=d}}}function Ip(e,t,n,r){for(;;){let i=e,s=t,l=n,a=r;if(i instanceof y)return dr(s,a);if(s instanceof y)return dr(i,a);{let u=i.head,c=i.tail,p=s.head,d=s.tail,h=l(u,p);h instanceof X?(e=c,t=s,n=l,r=b(u,a)):h instanceof re?(e=i,t=d,n=l,r=b(p,a)):(e=i,t=d,n=l,r=b(p,a))}}}function Mp(e,t,n){for(;;){let r=e,i=t,s=n;if(r instanceof y)return q(s);{let l=r.tail;if(l instanceof y){let a=r.head;return q(b(q(a),s))}else{let a=r.head,u=l.head,c=l.tail,p=Ip(a,u,i,o([]));e=c,t=i,n=b(p,s)}}}}function Op(e,t,n,r){for(;;){let i=e,s=t,l=n,a=r;if(i instanceof y)return dr(s,a);if(s instanceof y)return dr(i,a);{let u=i.head,c=i.tail,p=s.head,d=s.tail,h=l(u,p);h instanceof X?(e=i,t=d,n=l,r=b(p,a)):h instanceof re?(e=c,t=s,n=l,r=b(u,a)):(e=c,t=s,n=l,r=b(u,a))}}}function Up(e,t,n){for(;;){let r=e,i=t,s=n;if(r instanceof y)return q(s);{let l=r.tail;if(l instanceof y){let a=r.head;return q(b(q(a),s))}else{let a=r.head,u=l.head,c=l.tail,p=Op(a,u,i,o([]));e=c,t=i,n=b(p,s)}}}}function Dp(e,t,n){for(;;){let r=e,i=t,s=n;if(r instanceof y)return o([]);if(i instanceof fe){if(r.tail instanceof y)return r.head;e=Mp(r,s,o([])),t=new An,n=s}else if(r.tail instanceof y){let a=r.head;return q(a)}else e=Up(r,s,o([])),t=new fe,n=s}}function _r(e,t){if(e instanceof y)return o([]);{let n=e.tail;if(n instanceof y){let r=e.head;return o([r])}else{let r=e.head,i=n.head,s=n.tail,l,a=t(r,i);a instanceof X?l=new fe:a instanceof re?l=new fe:l=new An;let u=l,c=Np(s,t,o([r]),u,i,o([]));return Dp(c,new fe,t)}}}function Fp(e,t,n,r){for(;;){let i=e,s=t,l=n,a=r;if(i instanceof y)return q(b([s,l],a));{let u=i.head[0];if(B(u,s)){let c=i.tail;return dr(a,b([u,l],c))}else{let c=i.head;e=i.tail,t=s,n=l,r=b(c,a)}}}}function co(e,t,n){return Fp(e,t,n,o([]))}function Rp(e,t){if(e instanceof y)return new A(void 0);{let n=e.head,r=e.tail;return new w(Ce(r,n,t))}}function eu(e){return Rp(e,(t,n)=>n)}function ls(e,t,n){let i=e,s=po(i,t,n);return s}function Qr(e,t){return e===t?new re:lu(e,t)?new X:new qe}function su(e,t,n){if(n<0)return"";if(t<0){let s=Lt(e)+t;return s<0?"":$o(e,s,n)}else return $o(e,t,n)}function Vp(e,t){for(;;){let n=e,r=t;if(n instanceof y)return r;{let i=n.head;e=n.tail,t=r+i}}}function Vt(e){return Vp(e,"")}function Yp(e,t,n){for(;;){let r=e,i=t,s=n;if(i<=0)return s;e=r,t=i-1,n=s+r}}function Xr(e,t){return Yp(e,t,"")}function Zp(e,t,n){for(;;){let r=e,i=t,s=n;if(r instanceof y)return s;{let l=r.head;e=r.tail,t=i,n=s+i+l}}}function Ve(e,t){if(e instanceof y)return"";{let n=e.head,r=e.tail;return Zp(r,t,n)}}function Qp(e,t){let n=Lt(t),r=vn(e,n),i=yn(e,n);return Xr(t,r)+su(t,0,i)}function Yt(e,t,n){let r=Lt(e),i=t-r;return i<=0?e:Qp(i,n)+e}function Sn(e){let n=ti(e);return ni(n)}function os(e,t){for(;;){let n=e,r=t;if(r>0){let s=as(n);if(s instanceof w)e=s[0][1],t=r-1;else return n}else return n}}function Pt(e,t){if(t==="")return $r(e);{let r=e,i=_o(r,t);return O(i,ue)}}function mo(e){let t=dt(e);return t}function cu(e){return e instanceof w}function Qt(e,t){if(e instanceof w){let n=e[0];return new w(t(n))}else{let n=e[0];return new A(n)}}function cs(e,t){if(e instanceof w){let n=e[0];return new w(n)}else{let n=e[0];return new A(t(n))}}function ri(e,t){if(e instanceof w){let n=e[0];return t(n)}else{let n=e[0];return new A(n)}}function Ye(e,t){return ri(e,t)}var En=class extends _{constructor(t,n,r){super(),this.expected=t,this.found=n,this.path=r}};function rd(e,t){return cs(e,n=>O(n,t))}function pu(e){return bo(e)}function du(e){return t=>{if(e instanceof y)return new A(o([new En("another type",Ue(t),o([]))]));{let n=e.head,r=e.tail,i=n(t);if(i instanceof w){let s=i[0];return new w(s)}else return du(r)(t)}}}function id(e,t){let n=t,r=du(o([bo,u=>Qt(_u(u),D)])),i,s=r(n);if(s instanceof w)i=s[0];else{let u=o(["<",Ue(n),">"]),c=jn(u);i=c}let l=i,a=e;return new En(a.expected,a.found,b(l,e.path))}function xo(e,t){return n=>{let r=new En("field","nothing",o([]));return ri($u(n,e),i=>{let l=ss(i,o([r])),a=ri(l,t);return rd(a,u=>id(u,e))})}}var mu=new WeakMap,yo=new DataView(new ArrayBuffer(8)),vo=0;function ko(e){let t=mu.get(e);if(t!==void 0)return t;let n=vo++;return vo===2147483647&&(vo=0),mu.set(e,n),n}function Ao(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}function jo(e){let t=0,n=e.length;for(let r=0;r<n;r++)t=Math.imul(31,t)+e.charCodeAt(r)|0;return t}function wu(e){yo.setFloat64(0,e);let t=yo.getInt32(0),n=yo.getInt32(4);return Math.imul(73244475,t>>16^t)^n}function sd(e){return jo(e.toString())}function ld(e){let t=Object.getPrototypeOf(e);if(t!==null&&typeof t.hashCode=="function")try{let r=e.hashCode(e);if(typeof r=="number")return r}catch{}if(e instanceof Promise||e instanceof WeakSet||e instanceof WeakMap)return ko(e);if(e instanceof Date)return wu(e.getTime());let n=0;if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),Array.isArray(e)||e instanceof Uint8Array)for(let r=0;r<e.length;r++)n=Math.imul(31,n)+Qe(e[r])|0;else if(e instanceof Set)e.forEach(r=>{n=n+Qe(r)|0});else if(e instanceof Map)e.forEach((r,i)=>{n=n+Ao(Qe(r),Qe(i))|0});else{let r=Object.keys(e);for(let i=0;i<r.length;i++){let s=r[i],l=e[s];n=n+Ao(Qe(l),jo(s))|0}}return n}function Qe(e){if(e===null)return 1108378658;if(e===void 0)return 1108378659;if(e===!0)return 1108378657;if(e===!1)return 1108378656;switch(typeof e){case"number":return wu(e);case"string":return jo(e);case"bigint":return sd(e);case"object":return ld(e);case"symbol":return ko(e);case"function":return ko(e);default:return 0}}var $t=5,So=Math.pow(2,$t),od=So-1,ad=So/2,ud=So/4,ke=0,_t=1,De=2,qn=3,Eo={type:De,bitmap:0,array:[]};function ii(e,t){return e>>>t&od}function ps(e,t){return 1<<ii(e,t)}function cd(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),e=e+(e>>4)&252645135,e+=e>>8,e+=e>>16,e&127}function To(e,t){return cd(e&t-1)}function Xe(e,t,n){let r=e.length,i=new Array(r);for(let s=0;s<r;++s)i[s]=e[s];return i[t]=n,i}function fd(e,t,n){let r=e.length,i=new Array(r+1),s=0,l=0;for(;s<t;)i[l++]=e[s++];for(i[l++]=n;s<r;)i[l++]=e[s++];return i}function zo(e,t){let n=e.length,r=new Array(n-1),i=0,s=0;for(;i<t;)r[s++]=e[i++];for(++i;i<n;)r[s++]=e[i++];return r}function gu(e,t,n,r,i,s){let l=Qe(t);if(l===r)return{type:qn,hash:l,array:[{type:ke,k:t,v:n},{type:ke,k:i,v:s}]};let a={val:!1};return si(qo(Eo,e,l,t,n,a),e,r,i,s,a)}function si(e,t,n,r,i,s){switch(e.type){case _t:return pd(e,t,n,r,i,s);case De:return qo(e,t,n,r,i,s);case qn:return dd(e,t,n,r,i,s)}}function pd(e,t,n,r,i,s){let l=ii(n,t),a=e.array[l];if(a===void 0)return s.val=!0,{type:_t,size:e.size+1,array:Xe(e.array,l,{type:ke,k:r,v:i})};if(a.type===ke)return B(r,a.k)?i===a.v?e:{type:_t,size:e.size,array:Xe(e.array,l,{type:ke,k:r,v:i})}:(s.val=!0,{type:_t,size:e.size,array:Xe(e.array,l,gu(t+$t,a.k,a.v,n,r,i))});let u=si(a,t+$t,n,r,i,s);return u===a?e:{type:_t,size:e.size,array:Xe(e.array,l,u)}}function qo(e,t,n,r,i,s){let l=ps(n,t),a=To(e.bitmap,l);if((e.bitmap&l)!==0){let u=e.array[a];if(u.type!==ke){let p=si(u,t+$t,n,r,i,s);return p===u?e:{type:De,bitmap:e.bitmap,array:Xe(e.array,a,p)}}let c=u.k;return B(r,c)?i===u.v?e:{type:De,bitmap:e.bitmap,array:Xe(e.array,a,{type:ke,k:r,v:i})}:(s.val=!0,{type:De,bitmap:e.bitmap,array:Xe(e.array,a,gu(t+$t,c,u.v,n,r,i))})}else{let u=e.array.length;if(u>=ad){let c=new Array(32),p=ii(n,t);c[p]=qo(Eo,t+$t,n,r,i,s);let d=0,h=e.bitmap;for(let v=0;v<32;v++){if((h&1)!==0){let k=e.array[d++];c[v]=k}h=h>>>1}return{type:_t,size:u+1,array:c}}else{let c=fd(e.array,a,{type:ke,k:r,v:i});return s.val=!0,{type:De,bitmap:e.bitmap|l,array:c}}}}function dd(e,t,n,r,i,s){if(n===e.hash){let l=Co(e,r);if(l!==-1)return e.array[l].v===i?e:{type:qn,hash:n,array:Xe(e.array,l,{type:ke,k:r,v:i})};let a=e.array.length;return s.val=!0,{type:qn,hash:n,array:Xe(e.array,a,{type:ke,k:r,v:i})}}return si({type:De,bitmap:ps(e.hash,t),array:[e]},t,n,r,i,s)}function Co(e,t){let n=e.array.length;for(let r=0;r<n;r++)if(B(t,e.array[r].k))return r;return-1}function fs(e,t,n,r){switch(e.type){case _t:return _d(e,t,n,r);case De:return $d(e,t,n,r);case qn:return md(e,r)}}function _d(e,t,n,r){let i=ii(n,t),s=e.array[i];if(s!==void 0){if(s.type!==ke)return fs(s,t+$t,n,r);if(B(r,s.k))return s}}function $d(e,t,n,r){let i=ps(n,t);if((e.bitmap&i)===0)return;let s=To(e.bitmap,i),l=e.array[s];if(l.type!==ke)return fs(l,t+$t,n,r);if(B(r,l.k))return l}function md(e,t){let n=Co(e,t);if(!(n<0))return e.array[n]}function Bo(e,t,n,r){switch(e.type){case _t:return hd(e,t,n,r);case De:return wd(e,t,n,r);case qn:return gd(e,r)}}function hd(e,t,n,r){let i=ii(n,t),s=e.array[i];if(s===void 0)return e;let l;if(s.type===ke){if(!B(s.k,r))return e}else if(l=Bo(s,t+$t,n,r),l===s)return e;if(l===void 0){if(e.size<=ud){let a=e.array,u=new Array(e.size-1),c=0,p=0,d=0;for(;c<i;){let h=a[c];h!==void 0&&(u[p]=h,d|=1<<c,++p),++c}for(++c;c<a.length;){let h=a[c];h!==void 0&&(u[p]=h,d|=1<<c,++p),++c}return{type:De,bitmap:d,array:u}}return{type:_t,size:e.size-1,array:Xe(e.array,i,l)}}return{type:_t,size:e.size,array:Xe(e.array,i,l)}}function wd(e,t,n,r){let i=ps(n,t);if((e.bitmap&i)===0)return e;let s=To(e.bitmap,i),l=e.array[s];if(l.type!==ke){let a=Bo(l,t+$t,n,r);return a===l?e:a!==void 0?{type:De,bitmap:e.bitmap,array:Xe(e.array,s,a)}:e.bitmap===i?void 0:{type:De,bitmap:e.bitmap^i,array:zo(e.array,s)}}return B(r,l.k)?e.bitmap===i?void 0:{type:De,bitmap:e.bitmap^i,array:zo(e.array,s)}:e}function gd(e,t){let n=Co(e,t);if(n<0)return e;if(e.array.length!==1)return{type:qn,hash:e.hash,array:zo(e.array,n)}}function xu(e,t){if(e===void 0)return;let n=e.array,r=n.length;for(let i=0;i<r;i++){let s=n[i];if(s!==void 0){if(s.type===ke){t(s.v,s.k);continue}xu(s,t)}}}var Be=class e{static fromObject(t){let n=Object.keys(t),r=e.new();for(let i=0;i<n.length;i++){let s=n[i];r=r.set(s,t[s])}return r}static fromMap(t){let n=e.new();return t.forEach((r,i)=>{n=n.set(i,r)}),n}static new(){return new e(void 0,0)}constructor(t,n){this.root=t,this.size=n}get(t,n){if(this.root===void 0)return n;let r=fs(this.root,0,Qe(t),t);return r===void 0?n:r.v}set(t,n){let r={val:!1},i=this.root===void 0?Eo:this.root,s=si(i,0,Qe(t),t,n,r);return s===this.root?this:new e(s,r.val?this.size+1:this.size)}delete(t){if(this.root===void 0)return this;let n=Bo(this.root,0,Qe(t),t);return n===this.root?this:n===void 0?e.new():new e(n,this.size-1)}has(t){return this.root===void 0?!1:fs(this.root,0,Qe(t),t)!==void 0}entries(){if(this.root===void 0)return[];let t=[];return this.forEach((n,r)=>t.push([r,n])),t}forEach(t){xu(this.root,t)}hashCode(){let t=0;return this.forEach((n,r)=>{t=t+Ao(Qe(n),Qe(r))|0}),t}equals(t){if(!(t instanceof e)||this.size!==t.size)return!1;try{return this.forEach((n,r)=>{if(!B(t.get(r,!n),n))throw hu}),!0}catch(n){if(n===hu)return!1;throw n}}},hu=Symbol();var zu=void 0,yu={};function ue(e){return e}function D(e){return e.toString()}function Po(e){let t=e.toString().replace("+","");if(t.indexOf(".")>=0)return t;{let n=t.indexOf("e");return n>=0?t.slice(0,n)+".0"+t.slice(n):t+".0"}}function po(e,t,n){return typeof e.replaceAll<"u"?e.replaceAll(t,n):e.replace(new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"),n)}function Lt(e){if(e==="")return 0;let t=ds(e);if(t){let n=0;for(let r of t)n++;return n}else return e.match(/./gsu).length}function $r(e){let t=ds(e);return t?Q.fromArray(Array.from(t).map(n=>n.segment)):Q.fromArray(e.match(/./gsu))}var vu;function ds(e){if(globalThis.Intl&&Intl.Segmenter)return vu||=new Intl.Segmenter,vu.segment(e)[Symbol.iterator]()}function as(e){let t,n=ds(e);return n?t=n.next().value?.segment:t=e.match(/./su)?.[0],t?new w([t,e.slice(t.length)]):new A(zu)}function Cn(e){return[e.charCodeAt(0)|0,e.slice(1)]}function Oe(e){return e.toLowerCase()}function lu(e,t){return e<t}function _o(e,t){return Q.fromArray(e.split(t))}function jn(e){let t="";for(let n of e)t=t+n;return t}function $o(e,t,n){if(n<=0||t>=e.length)return"";let r=ds(e);if(r){for(;t-- >0;)r.next();let i="";for(;n-- >0;){let s=r.next().value;if(s===void 0)break;i+=s.segment}return i}else return e.match(/./gsu).slice(t,t+n).join("")}function me(e,t,n){return e.slice(t,t+n)}function us(e,t){return e.indexOf(t)>=0}function Zt(e,t){return e.startsWith(t)}function ei(e,t){return e.endsWith(t)}var ju=[" ","	",`
`,"\v","\f","\r","\x85","\u2028","\u2029"].join(""),xd=new RegExp(`^[${ju}]*`),bd=new RegExp(`[${ju}]*$`);function ti(e){return e.replace(xd,"")}function ni(e){return e.replace(bd,"")}function Y(){return Be.new()}function kn(e){return Q.fromArray(e.entries())}function Ya(e,t){return t.delete(e)}function rt(e,t){let n=e.get(t,yu);return n===yu?new A(zu):new w(n)}function Za(e,t,n){return n.set(e,t)}function Ue(e){if(typeof e=="string")return"String";if(typeof e=="boolean")return"Bool";if(e instanceof cr)return"Result";if(e instanceof Q)return"List";if(e instanceof Ie)return"BitArray";if(e instanceof Be)return"Dict";if(Number.isInteger(e))return"Int";if(Array.isArray(e))return`Tuple of ${e.length} elements`;if(typeof e=="number")return"Float";if(e===null)return"Null";if(e===void 0)return"Nil";{let t=typeof e;return t.charAt(0).toUpperCase()+t.slice(1)}}function Lo(e,t){return yd(e,Ue(t))}function yd(e,t){return new A(Q.fromArray([new En(e,t,Q.fromArray([]))]))}function bo(e){return typeof e=="string"?new w(e):Lo("String",e)}function _u(e){return Number.isInteger(e)?new w(e):Lo("Int",e)}function $u(e,t){let n=()=>Lo("Dict",e);if(e instanceof Be||e instanceof WeakMap||e instanceof Map){let r=rt(e,t);return new w(r.isOk()?new $(r[0]):new g)}else return e===null?n():Object.getPrototypeOf(e)==Object.prototype?ku(e,t,()=>new w(new g)):ku(e,t,n)}function ku(e,t,n){try{return t in e?new w(new $(e[t])):n()}catch{return n()}}function dt(e){let t=typeof e;if(e===!0)return"True";if(e===!1)return"False";if(e===null)return"//js(null)";if(e===void 0)return"Nil";if(t==="string")return vd(e);if(t==="bigint"||Number.isInteger(e))return e.toString();if(t==="number")return Po(e);if(Array.isArray(e))return`#(${e.map(dt).join(", ")})`;if(e instanceof Q)return jd(e);if(e instanceof Kt)return Sd(e);if(e instanceof Ie)return`<<${uu(e,"")}>>`;if(e instanceof _)return zd(e);if(e instanceof Be)return kd(e);if(e instanceof Set)return`//js(Set(${[...e].map(dt).join(", ")}))`;if(e instanceof RegExp)return`//js(${e})`;if(e instanceof Date)return`//js(Date("${e.toISOString()}"))`;if(e instanceof Function){let n=[];for(let r of Array(e.length).keys())n.push(String.fromCharCode(r+97));return`//fn(${n.join(", ")}) { ... }`}return Ad(e)}function vd(e){let t='"';for(let n=0;n<e.length;n++){let r=e[n];switch(r){case`
`:t+="\\n";break;case"\r":t+="\\r";break;case"	":t+="\\t";break;case"\f":t+="\\f";break;case"\\":t+="\\\\";break;case'"':t+='\\"';break;default:r<" "||r>"~"&&r<"\xA0"?t+="\\u{"+r.charCodeAt(0).toString(16).toUpperCase().padStart(4,"0")+"}":t+=r}}return t+='"',t}function kd(e){let t="dict.from_list([",n=!0;return e.forEach((r,i)=>{n||(t=t+", "),t=t+"#("+dt(i)+", "+dt(r)+")",n=!1}),t+"])"}function Ad(e){let t=Object.getPrototypeOf(e)?.constructor?.name||"Object",n=[];for(let s of Object.keys(e))n.push(`${dt(s)}: ${dt(e[s])}`);let r=n.length?" "+n.join(", ")+" ":"";return`//js(${t==="Object"?"":t+" "}{${r}})`}function zd(e){let t=Object.keys(e).map(n=>{let r=dt(e[n]);return isNaN(parseInt(n))?`${n}: ${r}`:r}).join(", ");return t?`${e.constructor.name}(${t})`:e.constructor.name}function jd(e){return`[${e.toArray().map(dt).join(", ")}]`}function Sd(e){return`//utfcodepoint(${String.fromCodePoint(e.value)})`}function uu(e,t){if(e.bitSize===0)return t;for(let n=0;n<e.byteSize-1;n++)t+=e.byteAt(n).toString(),t+=", ";if(e.byteSize*8===e.bitSize)t+=e.byteAt(e.byteSize-1).toString();else{let n=e.bitSize%8;t+=e.byteAt(e.byteSize-1)>>8-n,t+=`:size(${n})`}return t}function Tn(e){return e>=0?e:e*-1}var _s=class extends _{constructor(t){super(),this[0]=t}},hr=class extends _{},li=class extends _{},oi=class extends _{},wr=class extends _{},Bn=class extends _{},ai=class extends _{},ui=class extends _{},ci=class extends _{},$s=class extends _{};function Xt(e,t){return[vn(e,t),yn(e,t)]}var Su=1e3;var Eu=1e6;var Tu=6e7;var qu=36e8;var Cu=864e8;var Bu=6048e8;var Pu=2592e9;var Lu=31536e9;function Nu(e){let n=Ce(e,0,(r,i)=>{let s=i[1];if(s instanceof hr){let l=i[0];return r+l}else if(s instanceof li){let l=i[0];return r+l*Su}else if(s instanceof oi){let l=i[0];return r+l*Eu}else if(s instanceof wr){let l=i[0];return r+l*Tu}else if(s instanceof Bn){let l=i[0];return r+l*qu}else if(s instanceof ai){let l=i[0];return r+l*Cu}else if(s instanceof ui){let l=i[0];return r+l*Bu}else if(s instanceof ci){let l=i[0];return r+l*Pu}else{let l=i[0];return r+l*Lu}});return new _s(n)}function Iu(e){let t=e[0],n=Tn(t),r=Xt(n,Lu),i=r[0],s=r[1],l=Xt(s,Pu),a=l[0],u=l[1],c=Xt(u,Bu),p=c[0],d=c[1],h=Xt(d,Cu),v=h[0],k=h[1],T=Xt(k,qu),S=T[0],G=T[1],J=Xt(G,Tu),N=J[0],L=J[1],C=Xt(L,Eu),ne=C[0],xn=C[1],Fa=Xt(xn,Su),op=Fa[0],ap=Fa[1],up=o([[i,new $s],[a,new ci],[p,new ui],[v,new ai],[S,new Bn],[N,new wr],[ne,new oi],[op,new li],[ap,new hr]]),cp=pt(up,Kr=>Kr[0]>0);return O(cp,Kr=>t<0?[-1*Kr[0],Kr[1]]:Kr)}var Mu=o([["Africa/Abidjan",0],["Africa/Algiers",3600],["Africa/Bissau",0],["Africa/Cairo",7200],["Africa/Casablanca",3600],["Africa/Ceuta",3600],["Africa/El_Aaiun",3600],["Africa/Johannesburg",7200],["Africa/Juba",7200],["Africa/Khartoum",7200],["Africa/Lagos",3600],["Africa/Maputo",7200],["Africa/Monrovia",0],["Africa/Nairobi",10800],["Africa/Ndjamena",3600],["Africa/Sao_Tome",0],["Africa/Tripoli",7200],["Africa/Tunis",3600],["Africa/Windhoek",7200],["America/Adak",-36e3],["America/Anchorage",-32400],["America/Araguaina",-10800],["America/Argentina/Buenos_Aires",-10800],["America/Argentina/Catamarca",-10800],["America/Argentina/Cordoba",-10800],["America/Argentina/Jujuy",-10800],["America/Argentina/La_Rioja",-10800],["America/Argentina/Mendoza",-10800],["America/Argentina/Rio_Gallegos",-10800],["America/Argentina/Salta",-10800],["America/Argentina/San_Juan",-10800],["America/Argentina/San_Luis",-10800],["America/Argentina/Tucuman",-10800],["America/Argentina/Ushuaia",-10800],["America/Asuncion",-14400],["America/Bahia",-10800],["America/Bahia_Banderas",-21600],["America/Barbados",-14400],["America/Belem",-10800],["America/Belize",-21600],["America/Boa_Vista",-14400],["America/Bogota",-18e3],["America/Boise",-25200],["America/Cambridge_Bay",-25200],["America/Campo_Grande",-14400],["America/Cancun",-18e3],["America/Caracas",-14400],["America/Cayenne",-10800],["America/Chicago",-21600],["America/Chihuahua",-21600],["America/Ciudad_Juarez",-25200],["America/Costa_Rica",-21600],["America/Cuiaba",-14400],["America/Danmarkshavn",0],["America/Dawson",-25200],["America/Dawson_Creek",-25200],["America/Denver",-25200],["America/Detroit",-18e3],["America/Edmonton",-25200],["America/Eirunepe",-18e3],["America/El_Salvador",-21600],["America/Fort_Nelson",-25200],["America/Fortaleza",-10800],["America/Glace_Bay",-14400],["America/Goose_Bay",-14400],["America/Grand_Turk",-18e3],["America/Guatemala",-21600],["America/Guayaquil",-18e3],["America/Guyana",-14400],["America/Halifax",-14400],["America/Havana",-18e3],["America/Hermosillo",-25200],["America/Indiana/Indianapolis",-18e3],["America/Indiana/Knox",-21600],["America/Indiana/Marengo",-18e3],["America/Indiana/Petersburg",-18e3],["America/Indiana/Tell_City",-21600],["America/Indiana/Vevay",-18e3],["America/Indiana/Vincennes",-18e3],["America/Indiana/Winamac",-18e3],["America/Inuvik",-25200],["America/Iqaluit",-18e3],["America/Jamaica",-18e3],["America/Juneau",-32400],["America/Kentucky/Louisville",-18e3],["America/Kentucky/Monticello",-18e3],["America/La_Paz",-14400],["America/Lima",-18e3],["America/Los_Angeles",-28800],["America/Maceio",-10800],["America/Managua",-21600],["America/Manaus",-14400],["America/Martinique",-14400],["America/Matamoros",-21600],["America/Mazatlan",-25200],["America/Menominee",-21600],["America/Merida",-21600],["America/Metlakatla",-32400],["America/Mexico_City",-21600],["America/Miquelon",-10800],["America/Moncton",-14400],["America/Monterrey",-21600],["America/Montevideo",-10800],["America/New_York",-18e3],["America/Nome",-32400],["America/Noronha",-7200],["America/North_Dakota/Beulah",-21600],["America/North_Dakota/Center",-21600],["America/North_Dakota/New_Salem",-21600],["America/Nuuk",-7200],["America/Ojinaga",-21600],["America/Panama",-18e3],["America/Paramaribo",-10800],["America/Phoenix",-25200],["America/Port-au-Prince",-18e3],["America/Porto_Velho",-14400],["America/Puerto_Rico",-14400],["America/Punta_Arenas",-10800],["America/Rankin_Inlet",-21600],["America/Recife",-10800],["America/Regina",-21600],["America/Resolute",-21600],["America/Rio_Branco",-18e3],["America/Santarem",-10800],["America/Santiago",-14400],["America/Santo_Domingo",-14400],["America/Sao_Paulo",-10800],["America/Scoresbysund",-7200],["America/Sitka",-32400],["America/St_Johns",-12600],["America/Swift_Current",-21600],["America/Tegucigalpa",-21600],["America/Thule",-14400],["America/Tijuana",-28800],["America/Toronto",-18e3],["America/Vancouver",-28800],["America/Whitehorse",-25200],["America/Winnipeg",-21600],["America/Yakutat",-32400],["Antarctica/Casey",28800],["Antarctica/Davis",25200],["Antarctica/Macquarie",36e3],["Antarctica/Mawson",18e3],["Antarctica/Palmer",-10800],["Antarctica/Rothera",-10800],["Antarctica/Troll",0],["Antarctica/Vostok",18e3],["Asia/Almaty",18e3],["Asia/Amman",10800],["Asia/Anadyr",43200],["Asia/Aqtau",18e3],["Asia/Aqtobe",18e3],["Asia/Ashgabat",18e3],["Asia/Atyrau",18e3],["Asia/Baghdad",10800],["Asia/Baku",14400],["Asia/Bangkok",25200],["Asia/Barnaul",25200],["Asia/Beirut",7200],["Asia/Bishkek",21600],["Asia/Chita",32400],["Asia/Colombo",19800],["Asia/Damascus",10800],["Asia/Dhaka",21600],["Asia/Dili",32400],["Asia/Dubai",14400],["Asia/Dushanbe",18e3],["Asia/Famagusta",7200],["Asia/Gaza",7200],["Asia/Hebron",7200],["Asia/Ho_Chi_Minh",25200],["Asia/Hong_Kong",28800],["Asia/Hovd",25200],["Asia/Irkutsk",28800],["Asia/Jakarta",25200],["Asia/Jayapura",32400],["Asia/Jerusalem",7200],["Asia/Kabul",16200],["Asia/Kamchatka",43200],["Asia/Karachi",18e3],["Asia/Kathmandu",20700],["Asia/Khandyga",32400],["Asia/Kolkata",19800],["Asia/Krasnoyarsk",25200],["Asia/Kuching",28800],["Asia/Macau",28800],["Asia/Magadan",39600],["Asia/Makassar",28800],["Asia/Manila",28800],["Asia/Nicosia",7200],["Asia/Novokuznetsk",25200],["Asia/Novosibirsk",25200],["Asia/Omsk",21600],["Asia/Oral",18e3],["Asia/Pontianak",25200],["Asia/Pyongyang",32400],["Asia/Qatar",10800],["Asia/Qostanay",18e3],["Asia/Qyzylorda",18e3],["Asia/Riyadh",10800],["Asia/Sakhalin",39600],["Asia/Samarkand",18e3],["Asia/Seoul",32400],["Asia/Shanghai",28800],["Asia/Singapore",28800],["Asia/Srednekolymsk",39600],["Asia/Taipei",28800],["Asia/Tashkent",18e3],["Asia/Tbilisi",14400],["Asia/Tehran",12600],["Asia/Thimphu",21600],["Asia/Tokyo",32400],["Asia/Tomsk",25200],["Asia/Ulaanbaatar",28800],["Asia/Urumqi",21600],["Asia/Ust-Nera",36e3],["Asia/Vladivostok",36e3],["Asia/Yakutsk",32400],["Asia/Yangon",23400],["Asia/Yekaterinburg",18e3],["Asia/Yerevan",14400],["Atlantic/Azores",-3600],["Atlantic/Bermuda",-14400],["Atlantic/Canary",0],["Atlantic/Cape_Verde",-3600],["Atlantic/Faroe",0],["Atlantic/Madeira",0],["Atlantic/South_Georgia",-7200],["Atlantic/Stanley",-10800],["Australia/Adelaide",34200],["Australia/Brisbane",36e3],["Australia/Broken_Hill",34200],["Australia/Darwin",34200],["Australia/Eucla",31500],["Australia/Hobart",36e3],["Australia/Lindeman",36e3],["Australia/Lord_Howe",37800],["Australia/Melbourne",36e3],["Australia/Perth",28800],["Australia/Sydney",36e3],["Etc/GMT",0],["Etc/GMT+1",-3600],["Etc/GMT+10",-36e3],["Etc/GMT+11",-39600],["Etc/GMT+12",-43200],["Etc/GMT+2",-7200],["Etc/GMT+3",-10800],["Etc/GMT+4",-14400],["Etc/GMT+5",-18e3],["Etc/GMT+6",-21600],["Etc/GMT+7",-25200],["Etc/GMT+8",-28800],["Etc/GMT+9",-32400],["Etc/GMT-1",3600],["Etc/GMT-10",36e3],["Etc/GMT-11",39600],["Etc/GMT-12",43200],["Etc/GMT-13",46800],["Etc/GMT-14",50400],["Etc/GMT-2",7200],["Etc/GMT-3",10800],["Etc/GMT-4",14400],["Etc/GMT-5",18e3],["Etc/GMT-6",21600],["Etc/GMT-7",25200],["Etc/GMT-8",28800],["Etc/GMT-9",32400],["Etc/UTC",0],["Europe/Andorra",3600],["Europe/Astrakhan",14400],["Europe/Athens",7200],["Europe/Belgrade",3600],["Europe/Berlin",3600],["Europe/Brussels",3600],["Europe/Bucharest",7200],["Europe/Budapest",3600],["Europe/Chisinau",7200],["Europe/Dublin",3600],["Europe/Gibraltar",3600],["Europe/Helsinki",7200],["Europe/Istanbul",10800],["Europe/Kaliningrad",7200],["Europe/Kirov",10800],["Europe/Kyiv",7200],["Europe/Lisbon",0],["Europe/London",0],["Europe/Madrid",3600],["Europe/Malta",3600],["Europe/Minsk",10800],["Europe/Moscow",10800],["Europe/Paris",3600],["Europe/Prague",3600],["Europe/Riga",7200],["Europe/Rome",3600],["Europe/Samara",14400],["Europe/Saratov",14400],["Europe/Simferopol",10800],["Europe/Sofia",7200],["Europe/Tallinn",7200],["Europe/Tirane",3600],["Europe/Ulyanovsk",14400],["Europe/Vienna",3600],["Europe/Vilnius",7200],["Europe/Volgograd",10800],["Europe/Warsaw",3600],["Europe/Zurich",3600],["Indian/Chagos",21600],["Indian/Maldives",18e3],["Indian/Mauritius",14400],["Pacific/Apia",46800],["Pacific/Auckland",43200],["Pacific/Bougainville",39600],["Pacific/Chatham",45900],["Pacific/Easter",-21600],["Pacific/Efate",39600],["Pacific/Fakaofo",46800],["Pacific/Fiji",43200],["Pacific/Galapagos",-21600],["Pacific/Gambier",-32400],["Pacific/Guadalcanal",39600],["Pacific/Guam",36e3],["Pacific/Honolulu",-36e3],["Pacific/Kanton",46800],["Pacific/Kiritimati",50400],["Pacific/Kosrae",39600],["Pacific/Kwajalein",43200],["Pacific/Marquesas",-34200],["Pacific/Nauru",43200],["Pacific/Niue",-39600],["Pacific/Norfolk",39600],["Pacific/Noumea",39600],["Pacific/Pago_Pago",-39600],["Pacific/Palau",32400],["Pacific/Pitcairn",-28800],["Pacific/Port_Moresby",36e3],["Pacific/Rarotonga",-36e3],["Pacific/Tahiti",-36e3],["Pacific/Tarawa",43200],["Pacific/Tongatapu",46800]]);function Ou(){return Date.now()*1e3}function Uu(){return-new Date().getTimezoneOffset()}function Du(){return new $(Intl.DateTimeFormat().resolvedOptions().timeZone)}function Fu(){return Math.floor(globalThis.performance.now()*1e3)}function Ru(e,t){let n=new Date((e+t)/1e3);return[[n.getUTCFullYear(),n.getUTCMonth()+1,n.getUTCDate()],[n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),n.getUTCMilliseconds()]]}var Id="src/birl.gleam",ms=class extends _{constructor(t,n,r,i){super(),this.wall_time=t,this.offset=n,this.timezone=r,this.monotonic_time=i}};function Hu(e){let t=e.wall_time;return vn(t,1e3)}function Pn(e){return new ms(e*1e3,0,new g,new g)}function Gu(e,t){let n=e.wall_time,r=e.monotonic_time,i=t.wall_time,s=t.monotonic_time,l;if(s instanceof $)if(r instanceof $){let h=s[0];l=[r[0],h]}else l=[n,i];else l=[n,i];let a=l,u=a[0],c=a[1],p=u===c,d=u<c;return p?new re:d?new X:new qe}function Md(e){return ut(e===0,new w("Z"),()=>{let t=(()=>{let n=o([[e,new hr]]),r=Nu(n);return Iu(r)})();if(t instanceof y)return new A(void 0);{let n=t.tail;if(n instanceof y)if(t.head[1]instanceof Bn){let i=t.head[0],s=o([i>0?Vt(o(["+",(()=>{let c=D(i);return Yt(c,2,"0")})()])):Vt(o(["-",(()=>{let c=Tn(i),p=D(c);return Yt(p,2,"0")})()])),"00"]),l=Ve(s,":");return new w(l)}else return new A(void 0);else if(n.tail instanceof y)if(n.head[1]instanceof wr)if(t.head[1]instanceof Bn){let l=n.head[0],a=t.head[0],u=o([a>0?Vt(o(["+",(()=>{let h=D(a);return Yt(h,2,"0")})()])):Vt(o(["-",(()=>{let h=Tn(a),v=D(h);return Yt(v,2,"0")})()])),(()=>{let d=Tn(l),h=D(d);return Yt(h,2,"0")})()]),c=Ve(u,":");return new w(c)}else return new A(void 0);else return new A(void 0);else return new A(void 0)}})}function Od(e){let t=e.wall_time,n=e.offset,r=Ru(t,n),i=r[0],s=r[1],l=Md(n);if(!(l instanceof w))throw K("let_assert",Id,"birl",1324,"to_parts","Pattern match failed, no pattern matched the value.",{value:l,start:33803,end:33845,pattern_start:33814,pattern_end:33824});let a=l[0];return[i,s,a]}function gr(e){let t=Od(e),n=t[0][0],r=t[0][1],i=t[0][2];return D(n)+"-"+(()=>{let l=D(r);return Yt(l,2,"0")})()+"-"+(()=>{let l=D(i);return Yt(l,2,"0")})()}function Ju(){let e=Ou(),t=Uu(),n=Fu(),r=Du();return new ms(e,t*6e7,(()=>{let i=fr(r,s=>Yr(Mu,a=>a[0]===s)?new $(s):new g);return Ja(i)})(),new $(n))}var fi=class extends _{constructor(t){super(),this.dict=t}};function hs(){return new fi(Y())}function Mo(e,t){let n=e.dict,r=rt(n,t);return cu(r)}function Vu(e,t){return new fi(so(e.dict,t))}var Ud=void 0;function Oo(e,t){return new fi(Me(e.dict,t,Ud))}var M=class extends _{constructor(t,n,r,i,s,l,a){super(),this.scheme=t,this.userinfo=n,this.host=r,this.port=i,this.path=s,this.query=l,this.fragment=a}};function Rd(e){return 48>=e&&e<=57||65>=e&&e<=90||97>=e&&e<=122||e===58||e===46}function ht(e,t){return new w((()=>{let n=t;return new M(n.scheme,n.userinfo,n.host,n.port,n.path,n.query,new $(e))})())}function Wd(e,t,n,r){for(;;){let i=e,s=t,l=n,a=r;if(s.startsWith("#"))if(a===0){let u=s.slice(1);return ht(u,l)}else{let u=s.slice(1),c=me(i,0,a),p,d=l;return p=new M(d.scheme,d.userinfo,d.host,d.port,d.path,new $(c),d.fragment),ht(u,p)}else{if(s==="")return new w((()=>{let u=l;return new M(u.scheme,u.userinfo,u.host,u.port,u.path,new $(i),u.fragment)})());{let c=Cn(s)[1];e=i,t=c,n=l,r=a+1}}}}function en(e,t){return Wd(e,e,t,0)}function Hd(e,t,n,r){for(;;){let i=e,s=t,l=n,a=r;if(s.startsWith("?")){let u=s.slice(1),c=me(i,0,a),p,d=l;return p=new M(d.scheme,d.userinfo,d.host,d.port,c,d.query,d.fragment),en(u,p)}else if(s.startsWith("#")){let u=s.slice(1),c=me(i,0,a),p,d=l;return p=new M(d.scheme,d.userinfo,d.host,d.port,c,d.query,d.fragment),ht(u,p)}else{if(s==="")return new w((()=>{let u=l;return new M(u.scheme,u.userinfo,u.host,u.port,i,u.query,u.fragment)})());{let c=Cn(s)[1];e=i,t=c,n=l,r=a+1}}}}function br(e,t){return Hd(e,e,t,0)}function mt(e,t,n){for(;;){let r=e,i=t,s=n;if(r.startsWith("0"))e=r.slice(1),t=i,n=s*10;else if(r.startsWith("1"))e=r.slice(1),t=i,n=s*10+1;else if(r.startsWith("2"))e=r.slice(1),t=i,n=s*10+2;else if(r.startsWith("3"))e=r.slice(1),t=i,n=s*10+3;else if(r.startsWith("4"))e=r.slice(1),t=i,n=s*10+4;else if(r.startsWith("5"))e=r.slice(1),t=i,n=s*10+5;else if(r.startsWith("6"))e=r.slice(1),t=i,n=s*10+6;else if(r.startsWith("7"))e=r.slice(1),t=i,n=s*10+7;else if(r.startsWith("8"))e=r.slice(1),t=i,n=s*10+8;else if(r.startsWith("9"))e=r.slice(1),t=i,n=s*10+9;else if(r.startsWith("?")){let l=r.slice(1),a,u=i;return a=new M(u.scheme,u.userinfo,u.host,new $(s),u.path,u.query,u.fragment),en(l,a)}else if(r.startsWith("#")){let l=r.slice(1),a,u=i;return a=new M(u.scheme,u.userinfo,u.host,new $(s),u.path,u.query,u.fragment),ht(l,a)}else if(r.startsWith("/")){let l,a=i;return l=new M(a.scheme,a.userinfo,a.host,new $(s),a.path,a.query,a.fragment),br(r,l)}else return r===""?new w((()=>{let l=i;return new M(l.scheme,l.userinfo,l.host,new $(s),l.path,l.query,l.fragment)})()):new A(void 0)}}function ws(e,t){if(e.startsWith(":0")){let n=e.slice(2);return mt(n,t,0)}else if(e.startsWith(":1")){let n=e.slice(2);return mt(n,t,1)}else if(e.startsWith(":2")){let n=e.slice(2);return mt(n,t,2)}else if(e.startsWith(":3")){let n=e.slice(2);return mt(n,t,3)}else if(e.startsWith(":4")){let n=e.slice(2);return mt(n,t,4)}else if(e.startsWith(":5")){let n=e.slice(2);return mt(n,t,5)}else if(e.startsWith(":6")){let n=e.slice(2);return mt(n,t,6)}else if(e.startsWith(":7")){let n=e.slice(2);return mt(n,t,7)}else if(e.startsWith(":8")){let n=e.slice(2);return mt(n,t,8)}else if(e.startsWith(":9")){let n=e.slice(2);return mt(n,t,9)}else{if(e.startsWith(":"))return new A(void 0);if(e.startsWith("?")){let n=e.slice(1);return en(n,t)}else if(e.startsWith("#")){let n=e.slice(1);return ht(n,t)}else return e.startsWith("/")?br(e,t):e===""?new w(t):new A(void 0)}}function Zu(e,t,n,r){for(;;){let i=e,s=t,l=n,a=r;if(s==="")return new w((()=>{let u=l;return new M(u.scheme,u.userinfo,new $(i),u.port,u.path,u.query,u.fragment)})());if(s.startsWith(":")){let u=me(i,0,a),c,p=l;return c=new M(p.scheme,p.userinfo,new $(u),p.port,p.path,p.query,p.fragment),ws(s,c)}else if(s.startsWith("/")){let u=me(i,0,a),c,p=l;return c=new M(p.scheme,p.userinfo,new $(u),p.port,p.path,p.query,p.fragment),br(s,c)}else if(s.startsWith("?")){let u=s.slice(1),c=me(i,0,a),p,d=l;return p=new M(d.scheme,d.userinfo,new $(c),d.port,d.path,d.query,d.fragment),en(u,p)}else if(s.startsWith("#")){let u=s.slice(1),c=me(i,0,a),p,d=l;return p=new M(d.scheme,d.userinfo,new $(c),d.port,d.path,d.query,d.fragment),ht(u,p)}else{let c=Cn(s)[1];e=i,t=c,n=l,r=a+1}}}function Gd(e,t,n,r){for(;;){let i=e,s=t,l=n,a=r;if(s==="")return new w((()=>{let u=l;return new M(u.scheme,u.userinfo,new $(s),u.port,u.path,u.query,u.fragment)})());if(s.startsWith("]"))if(a===0){let u=s.slice(1);return ws(u,l)}else{let u=s.slice(1),c=me(i,0,a+1),p,d=l;return p=new M(d.scheme,d.userinfo,new $(c),d.port,d.path,d.query,d.fragment),ws(u,p)}else if(s.startsWith("/")){if(a===0)return br(s,l);{let u=me(i,0,a),c,p=l;return c=new M(p.scheme,p.userinfo,new $(u),p.port,p.path,p.query,p.fragment),br(s,c)}}else if(s.startsWith("?"))if(a===0){let u=s.slice(1);return en(u,l)}else{let u=s.slice(1),c=me(i,0,a),p,d=l;return p=new M(d.scheme,d.userinfo,new $(c),d.port,d.path,d.query,d.fragment),en(u,p)}else if(s.startsWith("#"))if(a===0){let u=s.slice(1);return ht(u,l)}else{let u=s.slice(1),c=me(i,0,a),p,d=l;return p=new M(d.scheme,d.userinfo,new $(c),d.port,d.path,d.query,d.fragment),ht(u,p)}else{let u=Cn(s),c=u[0],p=u[1];if(Rd(c))e=i,t=p,n=l,r=a+1;else return Zu(i,i,l,0)}}}function Jd(e,t){return Gd(e,e,t,0)}function Kd(e,t){return Zu(e,e,t,0)}function xr(e,t){if(e.startsWith("["))return Jd(e,t);if(e.startsWith(":")){let n,r=t;return n=new M(r.scheme,r.userinfo,new $(""),r.port,r.path,r.query,r.fragment),ws(e,n)}else return e===""?new w((()=>{let n=t;return new M(n.scheme,n.userinfo,new $(""),n.port,n.path,n.query,n.fragment)})()):Kd(e,t)}function Vd(e,t,n,r){for(;;){let i=e,s=t,l=n,a=r;if(s.startsWith("@"))if(a===0){let u=s.slice(1);return xr(u,l)}else{let u=s.slice(1),c=me(i,0,a),p,d=l;return p=new M(d.scheme,new $(c),d.host,d.port,d.path,d.query,d.fragment),xr(u,p)}else{if(s==="")return xr(i,l);if(s.startsWith("/"))return xr(i,l);if(s.startsWith("?"))return xr(i,l);if(s.startsWith("#"))return xr(i,l);{let c=Cn(s)[1];e=i,t=c,n=l,r=a+1}}}}function Yd(e,t){return Vd(e,e,t,0)}function Uo(e,t){if(e==="//")return new w((()=>{let n=t;return new M(n.scheme,n.userinfo,new $(""),n.port,n.path,n.query,n.fragment)})());if(e.startsWith("//")){let n=e.slice(2);return Yd(n,t)}else return br(e,t)}function Zd(e,t,n,r){for(;;){let i=e,s=t,l=n,a=r;if(s.startsWith("/")){if(a===0)return Uo(s,l);{let u=me(i,0,a),c,p=l;return c=new M(new $(Oe(u)),p.userinfo,p.host,p.port,p.path,p.query,p.fragment),Uo(s,c)}}else if(s.startsWith("?"))if(a===0){let u=s.slice(1);return en(u,l)}else{let u=s.slice(1),c=me(i,0,a),p,d=l;return p=new M(new $(Oe(c)),d.userinfo,d.host,d.port,d.path,d.query,d.fragment),en(u,p)}else if(s.startsWith("#"))if(a===0){let u=s.slice(1);return ht(u,l)}else{let u=s.slice(1),c=me(i,0,a),p,d=l;return p=new M(new $(Oe(c)),d.userinfo,d.host,d.port,d.path,d.query,d.fragment),ht(u,p)}else if(s.startsWith(":")){if(a===0)return new A(void 0);{let u=s.slice(1),c=me(i,0,a),p,d=l;return p=new M(new $(Oe(c)),d.userinfo,d.host,d.port,d.path,d.query,d.fragment),Uo(u,p)}}else{if(s==="")return new w((()=>{let u=l;return new M(u.scheme,u.userinfo,u.host,u.port,i,u.query,u.fragment)})());{let c=Cn(s)[1];e=i,t=c,n=l,r=a+1}}}}function Qd(e,t){for(;;){let n=e,r=t;if(n instanceof y)return q(r);{let i=n.head,s=n.tail,l;i===""||i==="."?l=r:i===".."?r instanceof y?l=o([]):l=r.tail:l=b(i,r);let a=l;e=s,t=a}}}function Xd(e){return Qd(e,o([]))}function pi(e){return Xd(Pt(e,"/"))}function ge(e){let t,n=e.fragment;if(n instanceof $){let C=n[0];t=o(["#",C])}else t=o([]);let r=t,i,s=e.query;if(s instanceof $){let C=s[0];i=b("?",b(C,r))}else i=r;let l=i,a=b(e.path,l),u,c=e.host;Zt(e.path,"/")?u=a:c instanceof $&&c[0]!==""?u=b("/",a):u=a;let d=u,h,v=e.host,k=e.port;if(k instanceof $)if(v instanceof $){let C=k[0];h=b(":",b(D(C),d))}else h=d;else h=d;let T=h,S,G=e.scheme,J=e.userinfo,N=e.host;if(N instanceof $)if(J instanceof $)if(G instanceof $){let C=N[0],ne=J[0],xn=G[0];S=b(xn,b("://",b(ne,b("@",b(C,T)))))}else S=T;else if(G instanceof $){let C=N[0],ne=G[0];S=b(ne,b("://",b(C,T)))}else{let C=N[0];S=b("//",b(C,T))}else if(J instanceof $)if(G instanceof $){let C=G[0];S=b(C,b(":",T))}else S=T;else if(G instanceof $){let C=G[0];S=b(C,b(":",T))}else S=T;return Vt(S)}var e_=new M(new g,new g,new g,new g,"",new g,new g);function le(e){return Zd(e,e,e_,0)}function Do(e,t){if(e instanceof Be||e instanceof WeakMap||e instanceof Map){let r={},i=e.get(t,r);return i===r?new w(new g):new w(new $(i))}let n=Number.isInteger(t);if(n&&t>=0&&t<8&&e instanceof Q){let r=0;for(let i of e){if(r===t)return new w(new $(i));r++}return new A("Indexable")}return n&&Array.isArray(e)||e&&typeof e=="object"||e&&Object.getPrototypeOf(e)===Object.prototype?t in e?new w(new $(e[t])):new w(new g):new A(n?"Indexable":"Dict")}function Qu(e,t,n,r,i){if(!(e instanceof Q||Array.isArray(e))){let l=new wt("List",Ue(e),i);return[i,Q.fromArray([l])]}let s=[];for(let l of e){let a=t(l),[u,c]=a;if(c instanceof Bt){let[p,d]=n(a,r.toString());return[i,d]}s.push(u),r++}return[Q.fromArray(s),i]}function Xu(e){return Number.isInteger(e)?new w(e):new A(0)}function ec(e){return typeof e=="string"?new w(e):new A("")}var wt=class extends _{constructor(t,n,r){super(),this.expected=t,this.found=n,this.path=r}},Fe=class extends _{constructor(t){super(),this.function=t}};function _i(e,t){let n=t.function(e),r=n[0],i=n[1];return i instanceof y?new w(r):new A(i)}function Pe(e){return new Fe(t=>[e,o([])])}function Fo(e,t){return new Fe(n=>{let r=e.function(n),i=r[0],s=r[1];return[t(i),s]})}function tc(e,t){return new Fe(n=>{let r=e.function(n),i=r[0],s=r[1],a=t(i).function(n),u=a,c=a[0];return s instanceof y?u:[c,s]})}function t_(e,t,n){for(;;){let r=e,i=t,s=n;if(s instanceof y)return i;{let l=s.head,a=s.tail,u=l.function(r),c=u;if(u[1]instanceof y)return c;e=r,t=i,n=a}}}function xs(e,t){return new Fe(n=>{let r=e.function(n),i=r;return r[1]instanceof y?i:t_(n,i,t)})}function nc(e,t){return o([new wt(e,Ue(t),o([]))])}function rc(e,t,n){let r=n(e);return r instanceof w?[r[0],o([])]:[r[0],o([new wt(t,Ue(e),o([]))])]}function n_(e){return B(!0,e)?[!0,o([])]:B(!1,e)?[!1,o([])]:[!1,nc("Bool",e)]}function r_(e){return rc(e,"Int",Xu)}function ic(e,t){return new Fe(n=>[e,nc(t,n)])}var sc=new Fe(n_),xe=new Fe(r_);function i_(e){return rc(e,"String",ec)}var pe=new Fe(i_);function Nt(e){return new Fe(t=>Qu(t,e.function,(n,r)=>di(n,o([r])),0,o([])))}function di(e,t){let n=xs(pe,o([Fo(xe,D)])),r=O(t,s=>{let l=s,a=_i(l,n);return a instanceof w?a[0]:"<"+Ue(l)+">"}),i=O(e[1],s=>{let l=s;return new wt(l.expected,l.found,ee(r,s.path))});return[e[0],i]}function s_(e,t,n,r,i){for(;;){let s=e,l=t,a=n,u=r,c=i;if(s instanceof y){let p=a(u);return di(p,q(l))}else{let p=s.head,d=s.tail,h=Do(u,p);if(h instanceof w){let v=h[0];if(v instanceof $){let k=v[0];e=d,t=b(p,l),n=a,r=k,i=c}else return c(u,b(p,l))}else{let v=h[0],S=[a(u)[0],o([new wt(v,Ue(u),o([]))])];return di(S,q(l))}}}}function l_(e,t,n){return new Fe(r=>{let i=s_(e,o([]),t.function,r,(p,d)=>{let k=[t.function(p)[0],o([new wt("Field","Nothing",o([]))])];return di(k,q(d))}),s=i[0],l=i[1],a=n(s).function(r),u=a[0],c=a[1];return[u,ee(l,c)]})}function R(e,t,n){return l_(o([e]),t,n)}function Ro(e,t,n,r){return new Fe(i=>{let s,l,a=Do(i,e);if(a instanceof w){let T=a[0];if(T instanceof $){let S=T[0];l=n.function(S)}else l=[t,o([])]}else{let T=a[0];l=[t,o([new wt(T,Ue(i),o([]))])]}s=di(l,o([e]));let c=s,p=c[0],d=c[1],h=r(p).function(i),v=h[0],k=h[1];return[v,ee(d,k)]})}function Wo(e){return JSON.stringify(e)}function lc(e){return Object.fromEntries(e)}function oc(e){return e.toArray()}function ac(e){try{let t=JSON.parse(e);return new w(t)}catch(t){return new A(a_(t,e))}}function a_(e,t){return u_(e)?new yr:c_(e,t)}function u_(e){return/((unexpected (end|eof))|(end of data)|(unterminated string)|(json( parse error|\.parse)\: expected '(\:|\}|\])'))/i.test(e.message)}function c_(e,t){let n=[f_,p_,__,d_];for(let r of n){let i=r(e,t);if(i)return i}return new gt("",0)}function f_(e){let n=/unexpected token '(.)', ".+" is not valid JSON/i.exec(e.message);if(!n)return null;let r=bs(n[1]);return new gt(r,-1)}function p_(e){let n=/unexpected token (.) in JSON at position (\d+)/i.exec(e.message);if(!n)return null;let r=bs(n[1]),i=Number(n[2]);return new gt(r,i)}function d_(e,t){let r=/(unexpected character|expected .*) at line (\d+) column (\d+)/i.exec(e.message);if(!r)return null;let i=Number(r[2]),s=Number(r[3]),l=$_(i,s,t),a=bs(t[l]);return new gt(a,l)}function __(e){let n=/unexpected (identifier|token) "(.)"/i.exec(e.message);if(!n)return null;let r=bs(n[2]);return new gt(r,0)}function bs(e){return"0x"+e.charCodeAt(0).toString(16).toUpperCase()}function $_(e,t,n){if(e===1)return t-1;let r=1,i=0;return n.split("").find((s,l)=>(s===`
`&&(r+=1),r===e?(i=l+t,!0):!1)),i}var yr=class extends _{},gt=class extends _{constructor(t){super(),this[0]=t}},ys=class extends _{constructor(t){super(),this[0]=t}},vs=class extends _{constructor(t){super(),this[0]=t}},Ho=class extends _{constructor(t){super(),this[0]=t}};function m_(e,t){return Ye(ac(e),n=>{let r=_i(n,t);return cs(r,i=>new Ho(i))})}function uc(e,t){return m_(e,t)}function st(e){return Wo(e)}function ce(e){return e}function Jo(e){return e}function xt(e){return e}function lt(e){return lc(e)}function Ko(e){return oc(e)}function mi(e,t){let r=O(e,t);return Ko(r)}var hi=class extends _{constructor(t){super(),this.all=t}};function cc(e){return new hi(o([t=>e(t.dispatch,t.emit,t.select,t.root)]))}function It(e){return cc((t,n,r,i)=>e(t))}function j(){return new hi(o([]))}function Ln(e){return new hi(Ce(e,o([]),(t,n)=>{let r=n.all;return ee(t,r)}))}var In=class extends _{constructor(t){super(),this.content=t}},oe=class extends _{constructor(t,n,r,i,s,l,a){super(),this.key=t,this.namespace=n,this.tag=r,this.attrs=i,this.children=s,this.self_closing=l,this.void=a}};var Mn=class extends _{constructor(t,n,r){super(),this[0]=t,this[1]=n,this.as_property=r}},wi=class extends _{constructor(t,n){super(),this[0]=t,this[1]=n}};function g_(e){if(e instanceof Mn)return new A(void 0);{let t=e[0],n=e[1],r=os(t,2);return new w([r,n])}}function x_(e,t,n){return uo(e,t,(r,i,s)=>{let l=n+"-"+D(s);return fc(i,r,l)})}function fc(e,t,n){for(;;){let r=e,i=t,s=n;if(r instanceof In)return i;if(r instanceof oe){let l=r.attrs,a=r.children,u=Ce(l,i,(c,p)=>{let d=g_(p);if(d instanceof w){let h=d[0][0],v=d[0][1];return Me(c,s+"-"+h,v)}else return c});return x_(a,u,s)}else{let l=r.subtree;e=l(),t=i,n=s}}}function pc(e){return fc(e,Y(),"0")}function E(e,t){return new Mn(e,t,!1)}function _c(e,t){return new Mn(e,t,!0)}function $c(e,t){return new wi("on"+e,t)}function f(e){return E("class",e)}function gi(e){return E("class",(()=>{let n=zn(e,r=>r[1]?new w(r[0]):new A(void 0));return Ve(n," ")})())}function nn(e){return E("id",e)}function mc(e){return E("role",e)}function rn(e){return E("title",e)}function xi(e){return E("type",e)}function bt(e){return E("value",e)}function sn(e){return E("placeholder",e)}function On(e){return _c("disabled",e)}function hc(e){return _c("required",e)}function Un(e){return E("href",e)}function wc(e){return E("src",e)}function gc(e){return E("alt",e)}function W(e,t,n){return e==="area"?new oe("","",e,t,o([]),!1,!0):e==="base"?new oe("","",e,t,o([]),!1,!0):e==="br"?new oe("","",e,t,o([]),!1,!0):e==="col"?new oe("","",e,t,o([]),!1,!0):e==="embed"?new oe("","",e,t,o([]),!1,!0):e==="hr"?new oe("","",e,t,o([]),!1,!0):e==="img"?new oe("","",e,t,o([]),!1,!0):e==="input"?new oe("","",e,t,o([]),!1,!0):e==="link"?new oe("","",e,t,o([]),!1,!0):e==="meta"?new oe("","",e,t,o([]),!1,!0):e==="param"?new oe("","",e,t,o([]),!1,!0):e==="source"?new oe("","",e,t,o([]),!1,!0):e==="track"?new oe("","",e,t,o([]),!1,!0):e==="wbr"?new oe("","",e,t,o([]),!1,!0):new oe("","",e,t,n,!1,!1)}function bi(e,t,n,r){return new oe("",e,t,n,r,!1,!1)}function yi(e){return new In(e)}function ie(){return new In("")}var ks=class extends _{constructor(t){super(),this[0]=t}},As=class extends _{constructor(t,n){super(),this[0]=t,this[1]=n}},zs=class extends _{constructor(t,n){super(),this[0]=t,this[1]=n}};function xc(e){return B(e.created,Y())&&B(e.removed,hs())&&B(e.updated,Y())}var js=class extends _{constructor(t){super(),this[0]=t}},Ss=class extends _{constructor(t,n){super(),this[0]=t,this[1]=n}},ki=class extends _{constructor(t){super(),this[0]=t}},yt=class extends _{constructor(t){super(),this[0]=t}},Ai=class extends _{constructor(t,n){super(),this[0]=t,this[1]=n}},Es=class extends _{constructor(t,n){super(),this[0]=t,this[1]=n}};var zi=class extends _{},Ts=class extends _{constructor(t,n){super(),this[0]=t,this[1]=n}},qs=class extends _{constructor(t){super(),this[0]=t}},Cs=class extends _{constructor(t){super(),this[0]=t}};globalThis.customElements&&!globalThis.customElements.get("lustre-fragment")&&globalThis.customElements.define("lustre-fragment",class extends HTMLElement{constructor(){super()}});function Vo(e,t,n){let r,i=[{prev:e,next:t,parent:e.parentNode}];for(;i.length;){let{prev:s,next:l,parent:a}=i.pop();for(;l.subtree!==void 0;)l=l.subtree();if(l.content!==void 0)if(s)if(s.nodeType===Node.TEXT_NODE)s.textContent!==l.content&&(s.textContent=l.content),r??=s;else{let u=document.createTextNode(l.content);a.replaceChild(u,s),r??=u}else{let u=document.createTextNode(l.content);a.appendChild(u),r??=u}else if(l.tag!==void 0){let u=k_({prev:s,next:l,dispatch:n,stack:i});s?s!==u&&a.replaceChild(u,s):a.appendChild(u),r??=u}}return r}function k_({prev:e,next:t,dispatch:n,stack:r}){let i=t.namespace||"http://www.w3.org/1999/xhtml",s=e&&e.nodeType===Node.ELEMENT_NODE&&e.localName===t.tag&&e.namespaceURI===(t.namespace||"http://www.w3.org/1999/xhtml"),l=s?e:i?document.createElementNS(i,t.tag):document.createElement(t.tag),a;if(ji.has(l))a=ji.get(l);else{let N=new Map;ji.set(l,N),a=N}let u=s?new Set(a.keys()):null,c=s?new Set(Array.from(e.attributes,N=>N.name)):null,p=null,d=null,h=null;if(s&&t.tag==="textarea"){let N=t.children[Symbol.iterator]().next().value?.content;N!==void 0&&(l.value=N)}let v=[];for(let N of t.attrs){let L=N[0],C=N[1];if(N.as_property)l[L]!==C&&(l[L]=C),s&&c.delete(L);else if(L.startsWith("on")){let ne=L.slice(2),xn=n(C,ne==="input");a.has(ne)||l.addEventListener(ne,Si),a.set(ne,xn),s&&u.delete(ne)}else if(L.startsWith("data-lustre-on-")){let ne=L.slice(15),xn=n(A_);a.has(ne)||l.addEventListener(ne,Si),a.set(ne,xn),l.setAttribute(L,C),s&&(u.delete(ne),c.delete(L))}else L.startsWith("delegate:data-")||L.startsWith("delegate:aria-")?(l.setAttribute(L,C),v.push([L.slice(10),C])):L==="class"?p=p===null?C:p+" "+C:L==="style"?d=d===null?C:d+C:L==="dangerous-unescaped-html"?h=C:(l.getAttribute(L)!==C&&l.setAttribute(L,C),(L==="value"||L==="selected")&&(l[L]=C),s&&c.delete(L))}if(p!==null&&(l.setAttribute("class",p),s&&c.delete("class")),d!==null&&(l.setAttribute("style",d),s&&c.delete("style")),s){for(let N of c)l.removeAttribute(N);for(let N of u)a.delete(N),l.removeEventListener(N,Si)}if(t.tag==="slot"&&window.queueMicrotask(()=>{for(let N of l.assignedElements())for(let[L,C]of v)N.hasAttribute(L)||N.setAttribute(L,C)}),t.key!==void 0&&t.key!=="")l.setAttribute("data-lustre-key",t.key);else if(h!==null)return l.innerHTML=h,l;let k=l.firstChild,T=null,S=null,G=null,J=Bs(t).next().value;if(s&&J!==void 0&&J.key!==void 0&&J.key!==""){T=new Set,S=bc(e),G=bc(t);for(let N of Bs(t))k=z_(k,N,l,r,G,S,T)}else for(let N of Bs(t))r.unshift({prev:k,next:N,parent:l}),k=k?.nextSibling;for(;k;){let N=k.nextSibling;l.removeChild(k),k=N}return l}var ji=new WeakMap;function Si(e){let t=e.currentTarget;if(!ji.has(t)){t.removeEventListener(e.type,Si);return}let n=ji.get(t);if(!n.has(e.type)){t.removeEventListener(e.type,Si);return}n.get(e.type)(e)}function A_(e){let t=e.currentTarget,n=t.getAttribute(`data-lustre-on-${e.type}`),r=JSON.parse(t.getAttribute("data-lustre-data")||"{}"),i=JSON.parse(t.getAttribute("data-lustre-include")||"[]");switch(e.type){case"input":case"change":i.push("target.value");break}return{tag:n,data:i.reduce((s,l)=>{let a=l.split(".");for(let u=0,c=s,p=e;u<a.length;u++)u===a.length-1?c[a[u]]=p[a[u]]:(c[a[u]]??={},p=p[a[u]],c=c[a[u]]);return s},{data:r})}}function bc(e){let t=new Map;if(e)for(let n of Bs(e)){let r=n?.key||n?.getAttribute?.("data-lustre-key");r&&t.set(r,n)}return t}function z_(e,t,n,r,i,s,l){for(;e&&!i.has(e.getAttribute("data-lustre-key"));){let u=e.nextSibling;n.removeChild(e),e=u}if(s.size===0)return r.unshift({prev:e,next:t,parent:n}),e=e?.nextSibling,e;if(l.has(t.key))return console.warn(`Duplicate key found in Lustre vnode: ${t.key}`),r.unshift({prev:null,next:t,parent:n}),e;l.add(t.key);let a=s.get(t.key);if(!a&&!e)return r.unshift({prev:null,next:t,parent:n}),e;if(!a&&e!==null){let u=document.createTextNode("");return n.insertBefore(u,e),r.unshift({prev:u,next:t,parent:n}),e}return!a||a===e?(r.unshift({prev:e,next:t,parent:n}),e=e?.nextSibling,e):(n.insertBefore(a,e),r.unshift({prev:a,next:t,parent:n}),e)}function*Bs(e){for(let t of e.children)yield*yc(t)}function*yc(e){e.subtree!==void 0?yield*yc(e.subtree()):yield e}var Yo=class e{static start({init:t,update:n,view:r},i,s){if(!kr())return new A(new Ei);let l=i instanceof HTMLElement?i:document.querySelector(i);if(!l)return new A(new Ps(i));let a=new e(l,t(s),n,r);return new w(u=>a.send(u))}constructor(t,[n,r],i,s){this.root=t,this.#e=n,this.#s=i,this.#n=s,this.#t=window.setTimeout(()=>this.#r(r.all.toArray(),!0),0)}root;send(t){if(t instanceof ki){if(t[0]instanceof Cs){this.#t=window.clearTimeout(this.#t),this.#i=[],this.#e=t[0][0];let n=this.#n(this.#e),r=(s,l=!1)=>a=>{let u=s(a);u instanceof w&&this.send(new yt(u[0],l))},i=this.root.firstChild??this.root.appendChild(document.createTextNode(""));Vo(i,n,r)}}else if(t instanceof yt){let n=t[0],r=t[1]??!1;this.#i.push(n),r?(this.#t=window.clearTimeout(this.#t),this.#r()):this.#t||(this.#t=window.setTimeout(()=>this.#r()))}else if(t instanceof Ai){let n=t[0],r=t[1];this.root.dispatchEvent(new CustomEvent(n,{detail:r,bubbles:!0,composed:!0}))}else if(t instanceof zi)for(this.#t=window.clearTimeout(this.#t),this.#e=null,this.#s=null,this.#n=null,this.#i=null;this.root.firstChild;)this.root.firstChild.remove()}#e;#s;#n;#i=[];#t;#r(t=[]){this.#t=void 0,this.#l(t);let n=this.#n(this.#e),r=(s,l=!1)=>a=>{let u=s(a);u instanceof w&&this.send(new yt(u[0],l))},i=this.root.firstChild??this.root.appendChild(document.createTextNode(""));Vo(i,n,r)}#l(t=[]){for(;this.#i.length>0;){let n=this.#i.shift(),[r,i]=this.#s(this.#e,n);t=t.concat(i.all.toArray()),this.#e=r}for(;t.length>0;){let n=t.shift(),r=a=>this.send(new yt(a)),i=(a,u)=>this.root.dispatchEvent(new CustomEvent(a,{detail:u,bubbles:!0,composed:!0})),s=()=>{},l=this.root;n({dispatch:r,emit:i,select:s,root:l})}this.#i.length>0&&this.#l(t)}},vc=Yo.start;var Zo=class e{static start({init:t,update:n,view:r,on_attribute_change:i},s){let l=new e(t(s),n,r,i);return new w(a=>l.send(a))}constructor([t,n],r,i,s){this.#e=t,this.#s=r,this.#i=i,this.#t=i(t),this.#a=s,this.#r=new Map,this.#l=pc(this.#t),this.#o(n.all.toArray())}send(t){if(t instanceof js){for(let n of t[0]){let r=this.#a.get(n[0]);if(!r)continue;let i=r(n[1]);i instanceof A||this.#n.push(i)}this.#o()}else if(t instanceof Ss)this.#n=this.#n.concat(t[0].toArray()),this.#o(t[1].all.toArray());else if(!(t instanceof ki))if(t instanceof yt)this.#n.push(t[0]),this.#o();else if(t instanceof Ai){let n=new As(t[0],t[1]);for(let[r,i]of this.#r)i(n)}else if(t instanceof Es){let n=this.#l.get(t[0]);if(!n)return;let r=n(t[1]);if(r instanceof A)return;this.#n.push(r[0]),this.#o()}else if(t instanceof Ts){let n=io(this.#a),r=new zs(n,this.#t);this.#r=this.#r.set(t[0],t[1]),t[1](r)}else t instanceof qs&&(this.#r=this.#r.delete(t[0]))}#e;#s;#n;#i;#t;#r;#l;#a;#o(t=[]){this.#u(t);let n=this.#i(this.#e),r=elements(this.#t,n);if(!xc(r)){let i=new ks(r);for(let[s,l]of this.#r)l(i)}this.#t=n,this.#l=r.handlers}#u(t=[]){for(;this.#n.length>0;){let n=this.#n.shift(),[r,i]=this.#s(this.#e,n);t=t.concat(i.all.toArray()),this.#e=r}for(;t.length>0;)t.shift()({dispatch:a=>this.send(new yt(a)),emit:(a,u)=>this.root.dispatchEvent(new CustomEvent(a,{detail:u,bubbles:!0,composed:!0})),select:()=>{},root:null});this.#n.length>0&&this.#u(t)}},j_=Zo.start,kr=()=>globalThis.window&&window.document;var Qo=class extends _{constructor(t,n,r,i){super(),this.init=t,this.update=n,this.view=r,this.on_attribute_change=i}};var Ps=class extends _{constructor(t){super(),this.selector=t}},Ei=class extends _{};function kc(e,t,n){return new Qo(e,t,n,new g)}function Ac(e,t,n){return ut(!kr(),new A(new Ei),()=>vc(e,t,n))}function m(e){return yi(e)}function Xo(e,t){return W("article",e,t)}function jc(e,t){return W("header",e,t)}function Dn(e,t){return W("h1",e,t)}function Fn(e,t){return W("h2",e,t)}function de(e,t){return W("h3",e,t)}function Ae(e,t){return W("h4",e,t)}function Sc(e,t){return W("h5",e,t)}function Ec(e,t){return W("h6",e,t)}function Ls(e,t){return W("main",e,t)}function Tc(e,t){return W("nav",e,t)}function ea(e,t){return W("section",e,t)}function x(e,t){return W("div",e,t)}function qc(e){return W("hr",e,o([]))}function Ns(e,t){return W("li",e,t)}function se(e,t){return W("p",e,t)}function ze(e,t){return W("pre",e,t)}function Is(e,t){return W("ul",e,t)}function Rn(e,t){return W("a",e,t)}function Cc(e){return W("br",e,o([]))}function be(e,t){return W("code",e,t)}function Bc(e,t){return W("em",e,t)}function I(e,t){return W("span",e,t)}function Ti(e,t){return W("strong",e,t)}function Pc(e){return W("img",e,o([]))}function Ms(e,t){return bi("http://www.w3.org/2000/svg","svg",e,t)}function H(e,t){return W("button",e,t)}function Wn(e){return W("input",e,o([]))}function Mt(e,t){return W("label",e,t)}function Os(e,t){return W("textarea",e,o([yi(t)]))}var Lc="http://www.w3.org/2000/svg";function Ar(e){return bi(Lc,"line",e,o([]))}function Nc(e){return bi(Lc,"polyline",e,o([]))}function Ds(e,t){return $c(e,t)}function qi(e){return Ds("click",t=>new w(e))}function U(e){return Ds("mousedown",t=>new w(e))}function Ic(e){return Ds("mouseenter",t=>new w(e))}function E_(e){let t=e;return xo("target",xo("value",pu))(t)}function vt(e){return Ds("input",t=>{let n=E_(t);return Qt(n,e)})}var T_={handle_external_links:!1,handle_internal_links:!0},Oc=window?.location?.href,na=()=>Oc?new w(ta(new URL(Oc))):new A(void 0),ra=(e,t=T_)=>{document.addEventListener("click",n=>{let r=Dc(n.target);if(r)try{let i=new URL(r.href),s=ta(i),l=i.host!==window.location.host;return!t.handle_external_links&&l||!t.handle_internal_links&&!l?void 0:(n.preventDefault(),l||(window.history.pushState({},"",r.href),window.requestAnimationFrame(()=>{i.hash&&document.getElementById(i.hash.slice(1))?.scrollIntoView()})),e(s))}catch{return}}),window.addEventListener("popstate",n=>{n.preventDefault();let r=new URL(window.location.href),i=ta(r);window.requestAnimationFrame(()=>{r.hash&&document.getElementById(r.hash.slice(1))?.scrollIntoView()}),e(i)}),window.addEventListener("modem-push",({detail:n})=>{e(n)}),window.addEventListener("modem-replace",({detail:n})=>{e(n)})},Uc=e=>{window.history.pushState({},"",ge(e)),window.requestAnimationFrame(()=>{e.fragment[0]&&document.getElementById(e.fragment[0])?.scrollIntoView()}),window.dispatchEvent(new CustomEvent("modem-push",{detail:e}))};var Dc=e=>!e||e.tagName==="BODY"?null:e.tagName==="A"?e:Dc(e.parentElement),ta=e=>new M(e.protocol?new $(e.protocol.slice(0,-1)):new g,new g,e.hostname?new $(e.hostname):new g,e.port?new $(Number(e.port)):new g,e.pathname,e.search?new $(e.search.slice(1)):new g,e.hash?new $(e.hash.slice(1)):new g);function Fc(e){return It(t=>ut(!kr(),void 0,()=>ra(n=>{let i=e(n);return t(i)})))}var q_=new M(new g,new g,new g,new g,"",new g,new g);function ln(e,t,n){return It(r=>ut(!kr(),void 0,()=>Uc((()=>{let i=q_;return new M(i.scheme,i.userinfo,i.host,i.port,e,t,n)})())))}function zr(e,t){localStorage.setItem(e,t)}function Rc(e){let t=localStorage.getItem(e);return t?new w(t):new A(void 0)}function Wc(e){return JSON.parse(e)}function Hc(e){navigator.clipboard.writeText(e).then(()=>{}).catch(t=>{console.error("Failed to copy to clipboard:",t)})}function Gc(e,t){setTimeout(e,t)}var Re=class extends _{},kt=class extends _{},ia=class extends _{},Hn=class extends _{},Gn=class extends _{},sa=class extends _{},la=class extends _{},oa=class extends _{},aa=class extends _{};var Ot=class extends _{},he=class extends _{};function Jc(e){return e instanceof Re?"GET":e instanceof kt?"POST":e instanceof ia?"HEAD":e instanceof Hn?"PUT":e instanceof Gn?"DELETE":e instanceof sa?"TRACE":e instanceof la?"CONNECT":e instanceof oa?"OPTIONS":e instanceof aa?"PATCH":e[0]}function Kc(e){return e instanceof Ot?"http":"https"}var At=class extends _{constructor(t,n,r,i,s,l,a,u){super(),this.method=t,this.headers=n,this.body=r,this.scheme=i,this.host=s,this.port=l,this.path=a,this.query=u}};function Yc(e){return new M(new $(Kc(e.scheme)),new g,new $(e.host),e.port,e.path,e.query,new g)}function Fs(e,t,n){let r=co(e.headers,Oe(t),n),i=e;return new At(i.method,r,i.body,i.scheme,i.host,i.port,i.path,i.query)}function Ut(e,t){let n=e.method,r=e.headers,i=e.scheme,s=e.host,l=e.port,a=e.path,u=e.query;return new At(n,r,t,i,s,l,a,u)}function ye(e,t){let n=e;return new At(t,n.headers,n.body,n.scheme,n.host,n.port,n.path,n.query)}function je(){return new At(new Re,o([]),"",new he,"localhost",new g,"",new g)}function Se(e,t){let n=e;return new At(n.method,n.headers,n.body,t,n.host,n.port,n.path,n.query)}function Sr(e,t){let n=e;return new At(n.method,n.headers,n.body,n.scheme,t,n.port,n.path,n.query)}function Er(e,t){let n=e;return new At(n.method,n.headers,n.body,n.scheme,n.host,new $(t),n.path,n.query)}function Ee(e,t){let n=e;return new At(n.method,n.headers,n.body,n.scheme,n.host,n.port,t,n.query)}var on=class extends _{constructor(t,n,r,i,s,l){super(),this.saving=t,this.slug=n,this.title=r,this.subtitle=i,this.leading=s,this.content=l}};function Zc(e,t,n,r,i){return new on(!1,e,t,n,r,i)}function Ws(e){return e.saving}function Hs(e){return e.slug}function Gs(e){return e.title}function Js(e){return e.subtitle}function Ci(e){return e.leading}function Bi(e){return e.content}function Qc(e,t){let n=e.saving,r=e.title,i=e.subtitle,s=e.leading,l=e.content;return new on(n,t,r,i,s,l)}function Xc(e,t){let n=e.saving,r=e.slug,i=e.subtitle,s=e.leading,l=e.content;return new on(n,r,t,i,s,l)}function ef(e,t){let n=e.saving,r=e.slug,i=e.title,s=e.leading,l=e.content;return new on(n,r,i,t,s,l)}function tf(e,t){let n=e.saving,r=e.slug,i=e.title,s=e.subtitle,l=e.content;return new on(n,r,i,s,t,l)}function nf(e,t){let n=e.saving,r=e.slug,i=e.title,s=e.subtitle,l=e.leading;return new on(n,r,i,s,l,t)}var Ks=class extends _{constructor(t,n,r){super(),this.status=t,this.headers=n,this.body=r}};var Tr=class e{constructor(t){this.promise=t}static wrap(t){return t instanceof Promise?new e(t):t}static unwrap(t){return t instanceof e?t.promise:t}};function Vs(e){return Promise.resolve(Tr.wrap(e))}function sf(e,t){return e.then(n=>t(Tr.unwrap(n)))}function Ys(e,t){return e.then(n=>Tr.wrap(t(Tr.unwrap(n))))}function ua(e,t){return e.catch(n=>t(n))}function lf(e,t){return Ys(e,r=>(t(r),r))}function Zs(e,t){return sf(e,r=>{if(r instanceof w){let i=r[0];return t(i)}else{let i=r[0];return Vs(new A(i))}})}async function af(e){try{return new w(await fetch(e))}catch(t){return new A(new Qs(t.toString()))}}function uf(e){return new Ks(e.status,Q.fromArray([...e.headers]),e)}function I_(e){let t=ge(Yc(e)),n=Jc(e.method).toUpperCase(),r={headers:M_(e.headers),method:n};return[t,r]}function cf(e){let[t,n]=I_(e);return n.method!=="GET"&&n.method!=="HEAD"&&(n.body=e.body),new globalThis.Request(t,n)}function M_(e){let t=new globalThis.Headers;for(let[n,r]of e)t.append(n.toLowerCase(),r);return t}async function ca(e){let t;try{t=await e.body.text()}catch{return new A(new Xs)}return new w(e.withFields({body:t}))}var Qs=class extends _{constructor(t){super(),this[0]=t}},Xs=class extends _{};function ff(e){let n=cf(e),r=af(n);return Zs(r,i=>Vs(new w(uf(i))))}var el=class extends _{constructor(t){super(),this[0]=t}},Pi=class extends _{constructor(t){super(),this[0]=t}},Li=class extends _{constructor(t){super(),this[0]=t}},qr=class extends _{},Ni=class extends _{},Ii=class extends _{constructor(t,n){super(),this[0]=t,this[1]=n}},fa=class extends _{},tl=class extends _{constructor(t){super(),this.run=t}};function U_(e,t,n){let r=ff(e),i=Zs(r,ca),s=Ys(i,a=>{if(a instanceof w){let u=a[0];return t.run(new w(u))}else return t.run(new A(new qr))}),l=ua(s,a=>t.run(new A(new qr)));lf(l,n)}function Te(e,t){return It(n=>U_(e,t,n))}function pf(e){let t=e.status;if(200<=t&&t<=299){let n=e.body;return new w(n)}else{let n=e.status;if(n===401)return new A(new fa);if(n===404)return new A(new Ni);if(n===500){let r=e.body;return new A(new Pi(r))}else{let r=n,i=e.body;return new A(new Ii(r,i))}}}function Cr(e){return new tl(t=>{let r=Ye(t,pf);return e(r)})}function et(e,t){return new tl(n=>{let i=Ye(n,pf),s=Ye(i,l=>{let a=uc(l,e);if(a instanceof w){let u=a[0];return new w(u)}else{let u=a[0];return new A(new Li(u))}});return t(s)})}var F=class extends _{},V=class extends _{},P=class extends _{constructor(t){super(),this[0]=t}},_e=class extends _{constructor(t){super(),this[0]=t}},an=class extends _{constructor(t){super(),this[0]=t}};function We(e,t){if(e instanceof P){let n=e[0];return new P(t(n))}else if(e instanceof _e){let n=e[0];return new _e(t(n))}else return e}var Jn=class extends _{},He=class extends _{},Dt=class extends _{constructor(t){super(),this.session=t}},da=class extends _{constructor(t,n,r){super(),this.subject=t,this.expiry=n,this.permissions=r}};function D_(e){return e instanceof Jn?o([]):e instanceof He?o([]):e.session.permissions}function rl(e,t){return Yr(D_(e),n=>Yr(t,r=>r===n))}function _a(e,t){let n,r=t.scheme;if(r instanceof $){let d=r[0];d==="http"?n=Se(e,new Ot):d==="https"?n=Se(e,new he):n=Se(e,new he)}else n=Se(e,new he);let i=n,s,l=t.host;if(l instanceof $){let d=l[0];s=Sr(i,d)}else s=i;let a=s,u,c=t.port;if(c instanceof $){let d=c[0];u=Er(a,d)}else u=a;return u}function df(e,t){let n=je(),r=ye(n,new Re),i=Ee(r,"/api/auth/logout"),s=Fs(i,"credentials","include"),l=_a(s,t);return Te(l,Cr(e))}function F_(){return R("subject",pe,e=>R("expiresAt",xe,t=>R("permissions",Nt(pe),n=>Pe(new da(e,t,n)))))}function _f(){let e=F_();return tc(e,t=>Pe(new Dt(t)))}function $a(e,t,n,r){let i,s=lt(o([["username",ce(t)],["password",ce(n)]]));i=st(s);let l=i,a=je(),u=ye(a,new kt),c=Ee(u,"/api/auth"),p=Ut(c,l),d=_a(p,r);return Te(d,et(_f(),e))}function ma(e,t){let n=je(),r=ye(n,new Re),i=Ee(r,"/api/auth"),s=Fs(i,"credentials","include"),l=_a(s,t);return Te(l,et(_f(),e))}var ae=class extends _{constructor(t,n,r,i,s,l,a,u,c,p,d){super(),this.id=t,this.slug=n,this.revision=r,this.author=i,this.tags=s,this.published_at=l,this.title=a,this.subtitle=u,this.leading=c,this.content=p,this.draft=d}};function Br(e){let t=e.content;if(t instanceof P){let n=e.slug,r=e.title,i=e.subtitle,s=e.leading,l=t[0],a=Zc(n,r,i,s,l);return new $(a)}else return new g}function Mi(e,t){return rl(t,o(["post_edit_any"]))}function mf(e,t){return rl(t,o(["post_edit_any"]))}function hf(e,t){return rl(t,o(["post_edit_any"]))}function Oi(e,t){let n,r=t.scheme;if(r instanceof $){let d=r[0];d==="http"?n=Se(e,new Ot):d==="https"?n=Se(e,new he):n=Se(e,new he)}else n=Se(e,new he);let i=n,s,l=t.host;if(l instanceof $){let d=l[0];s=Sr(i,d)}else s=i;let a=s,u,c=t.port;if(c instanceof $){let d=c[0];u=Er(a,d)}else u=a;return u}function wf(e,t,n){let r,i=je(),s=ye(i,new Gn),l=Ee(s,"/api/articles/"+t);return r=Oi(l,n),Te(r,Cr(e))}function Pr(){return Ro("version",0,xe,e=>R("id",pe,t=>R("author",pe,n=>R("tags",xs(Nt(pe),o([Pe(o([]))])),r=>R("published_at",Fo(xe,s=>s===0?new g:new $(Pn(s))),i=>R("slug",pe,s=>R("revision",xe,l=>R("title",pe,a=>R("leading",pe,u=>R("subtitle",pe,c=>Ro("content","",pe,p=>{let d;p===""?d=new F:d=new P(p);let h=d;return Pe(new ae(t,s,l,n,r,i,a,c,u,h,new g))})))))))))))}function Kn(e,t,n){let r,i=je(),s=ye(i,new Re),l=Ee(s,"/api/articles/"+t);return r=Oi(l,n),Te(r,et(Pr(),e))}function R_(){return R("articles",xs(Nt(Pr()),o([Pe(o([]))])),e=>Pe(e))}function Ui(e,t){let n,r=je(),i=ye(r,new Re),s=Ee(i,"/api/articles");return n=Oi(s,t),Te(n,et(R_(),e))}function il(e){let t=e.id,n=e.slug,r=e.revision,i=e.author,s=e.tags,l=e.published_at,a=e.title,u=e.subtitle,c=e.leading,p=e.content,d;if(p instanceof P){let T=p[0];d=ce(T)}else d=ce("");let h=d,v;if(l instanceof $){let T=l[0];v=xt(Hu(T))}else v=xt(0);let k=v;return lt(o([["struct_version",xt(1)],["id",ce(t)],["revision",xt(r)],["slug",ce(n)],["title",ce(a)],["leading",ce(c)],["subtitle",ce(u)],["author",ce(i)],["published_at",k],["tags",mi(s,ce)],["content",h]]))}function sl(e,t,n){let r,i=je(),s=ye(i,new Hn),l=Ee(s,"/api/articles/"+t.id),a=Ut(l,(()=>{let c=il(t);return st(c)})());return r=Oi(a,n),Te(r,et(Pr(),e))}function gf(e,t,n){let r,i=je(),s=ye(i,new kt),l=Ee(s,"/api/articles"),a=Ut(l,(()=>{let c=il(t);return st(c)})());return r=Oi(a,n),Te(r,et(Pr(),e))}function Lr(e,t){let n=e.draft;if(n instanceof $){let r=n[0],i=e;return new ae(i.id,i.slug,i.revision,i.author,i.tags,i.published_at,i.title,i.subtitle,i.leading,i.content,new $(t(r)))}else return W_("draft_update: not an article with draft","src/article/article.gleam",316),e}function W_(e,t,n){let r="\x1B[90m",i="\x1B[39m",s=`${t}:${n}`,l=Ft(e);if(globalThis.process?.stderr?.write){let a=`${r}${s}${i}
${l}
`;process.stderr.write(a)}else if(globalThis.Deno){let a=`${r}${s}${i}
${l}
`;globalThis.Deno.stderr.writeSync(new TextEncoder().encode(a))}else{let a=`${s}
${l}`;globalThis.console.log(a)}return e}function H_(e){let t='"';for(let n=0;n<e.length;n++){let r=e[n];r==`
`?t+="\\n":r=="\r"?t+="\\r":r=="	"?t+="\\t":r=="\f"?t+="\\f":r=="\\"?t+="\\\\":r=='"'?t+='\\"':r<" "||r>"~"&&r<"\xA0"?t+="\\u{"+r.charCodeAt(0).toString(16).toUpperCase().padStart(4,"0")+"}":t+=r}return t+='"',t}function G_(e){let t="dict.from_list([",n=!0,r=[];return e.forEach((i,s)=>{r.push([s,i])}),r.sort(),r.forEach(([i,s])=>{n||(t=t+", "),t=t+"#("+Ft(i)+", "+Ft(s)+")",n=!1}),t+"])"}function J_(e){let t=globalThis.Object.keys(e).map(n=>{let r=Ft(e[n]);return isNaN(parseInt(n))?`${n}: ${r}`:r}).join(", ");return t?`${e.constructor.name}(${t})`:e.constructor.name}function K_(e){let t=Object.getPrototypeOf(e)?.constructor?.name||"Object",n=[];for(let s of Object.keys(e))n.push(`${Ft(s)}: ${Ft(e[s])}`);let r=n.length?" "+n.join(", ")+" ":"";return`//js(${t==="Object"?"":t+" "}{${r}})`}function Ft(e){let t=typeof e;if(e===!0)return"True";if(e===!1)return"False";if(e===null)return"//js(null)";if(e===void 0)return"Nil";if(t==="string")return H_(e);if(t==="bigint"||t==="number")return e.toString();if(globalThis.Array.isArray(e))return`#(${e.map(Ft).join(", ")})`;if(e instanceof Q)return`[${e.toArray().map(Ft).join(", ")}]`;if(e instanceof Kt)return`//utfcodepoint(${String.fromCodePoint(e.value)})`;if(e instanceof Ie)return V_(e);if(e instanceof _)return J_(e);if(Y_(e))return G_(e);if(e instanceof Set)return`//js(Set(${[...e].map(Ft).join(", ")}))`;if(e instanceof RegExp)return`//js(${e})`;if(e instanceof Date)return`//js(Date("${e.toISOString()}"))`;if(e instanceof Function){let n=[];for(let r of Array(e.length).keys())n.push(String.fromCharCode(r+97));return`//fn(${n.join(", ")}) { ... }`}return K_(e)}function V_(e){let t=e.bitOffset+8*Math.trunc(e.bitSize/8),n=bn(e,e.bitOffset,t),r=e.bitSize%8;if(r>0){let i=is(e,t,e.bitSize,!1,!1),s=Array.from(n.rawBuffer),l=`${i}:size(${r})`;return s.length===0?`<<${l}>>`:`<<${Array.from(n.rawBuffer).join(", ")}, ${l}>>`}else return`<<${Array.from(n.rawBuffer).join(", ")}>>`}function Y_(e){try{return e instanceof Be}catch{return!1}}var wa=class extends _{},ga=class extends _{},xa=class extends _{},ll=class extends _{},zt=class extends _{},Di=class extends _{},Fi=class extends _{};function Z_(){return x(o([f("loading-spinner w-8 h-8 border-4 border-zinc-600 rounded-full")]),o([]))}function ol(){return x(o([f("flex items-center justify-center py-8")]),o([x(o([f("flex items-center text-zinc-400 text-sm")]),o([x(o([f("loading-spinner inline-block w-4 h-4 border-2 border-zinc-600 rounded-full mr-3")]),o([])),I(o([]),o([m("Loading content...")]))]))]))}function xf(){return x(o([f("flex items-center justify-center py-12")]),o([x(o([f("text-zinc-500 text-sm")]),o([m("Loading...")]))]))}function bf(){return x(o([f("w-full bg-zinc-800 rounded-full h-2 mb-4 overflow-hidden")]),o([x(o([f("loading-bar h-full rounded-full")]),o([]))]))}function ba(e){return x(o([f("flex items-center justify-center py-12 md:py-16")]),o([x(o([f("flex flex-col items-center space-y-6")]),o([Z_(),se(o([f("text-zinc-400 text-lg")]),o([m(e)]))]))]))}function yf(e,t){return jc(o([f("py-12 md:py-16")]),o([Dn(o([f("page-title text-3xl sm:text-4xl md:text-5xl font-light leading-tight mb-4")]),o([m(e)])),(()=>{if(t instanceof $){let n=t[0];return se(o([f("text-lg text-zinc-400 font-light italic mb-8")]),o([m(n)]))}else return ie()})()]))}function ya(e){return Dn(o([f("page-title text-3xl sm:text-4xl md:text-5xl font-light leading-tight mb-4")]),o([m(e)]))}function al(e,t,n){return H(o([f("btn-secondary px-6 py-3 text-zinc-200 rounded-lg font-medium transition-all duration-300 ease-out disabled:opacity-50 disabled:cursor-not-allowed"),On(t),qi(n)]),o([m(e)]))}function vf(e,t,n,r){let i;e instanceof wa?i="\u{1F310}":e instanceof ga?i="\u{1F50D}":e instanceof xa?i="\u{1F512}":i="\u26A0\uFE0F";let s=i;return x(o([f("py-12 md:py-16 text-center")]),o([x(o([f("max-w-md mx-auto space-y-6")]),o([x(o([f("text-6xl mb-6")]),o([m(s)])),de(o([f("text-2xl font-light text-zinc-200 mb-4")]),o([m(t)])),se(o([f("text-zinc-400 text-lg mb-8")]),o([m(n)])),(()=>{if(r instanceof $){let l=r[0];return al("Try Again",!1,l)}else return ie()})()]))]))}function un(e,t,n,r){let i;return t instanceof zt?i="hover:text-teal-300 hover:border-teal-400":t instanceof Di?i="hover:text-orange-300 hover:border-orange-400":t instanceof Fi?i="hover:text-red-300 hover:border-red-400":i="hover:text-green-300 hover:border-green-400",H(o([f("px-4 py-2 text-zinc-400 border-r border-l border-zinc-600 "+i+" transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed"),On(n),U(r)]),o([m(e)]))}function va(e,t,n,r,i,s,l){return x(o([f("mb-6")]),o([Mt(o([f("block text-sm font-semibold text-zinc-300 mb-3")]),o([m(e),i?I(o([f("text-red-400 ml-1")]),o([m("*")])):ie()])),Wn(o([f(s instanceof $?"form-input w-full bg-zinc-800 border border-red-500 rounded-lg p-4 text-zinc-100 placeholder-zinc-500 transition-all duration-300 ease-out outline-none focus:border-red-500 focus:ring-2 focus:ring-red-500/20":"form-input w-full bg-zinc-800 border border-zinc-600 rounded-lg p-4 text-zinc-100 placeholder-zinc-500 transition-all duration-300 ease-out outline-none focus:border-pink-500 focus:ring-2 focus:ring-pink-500/20"),xi(r),bt(t),sn(n),hc(i),vt(l)])),(()=>{if(s instanceof $){let a=s[0];return se(o([f("text-red-400 text-sm mt-2 flex items-center gap-1")]),o([I(o([f("text-red-400")]),o([m("\u26A0 ")])),m(a)]))}else return ie()})()]))}function kf(e){return x(o([f("modal-backdrop fixed inset-0 z-40"),qi(e)]),o([]))}function Af(e,t,n,r){return x(o([f("modal-content fixed inset-0 z-50 flex items-center justify-center p-4")]),o([x(o([f("glass rounded-2xl max-w-md w-full mx-4 overflow-hidden")]),o([x(o([f("flex items-center justify-between p-6 border-b border-zinc-700/50")]),o([Fn(o([f("text-xl font-semibold text-zinc-100")]),o([m(e)])),H(o([f("text-zinc-400 hover:text-zinc-200 transition-colors text-2xl"),qi(r),E("aria-label","Close modal")]),o([m("\xD7")]))])),x(o([f("p-6 space-y-6")]),t),n instanceof y?ie():x(o([f("flex justify-end space-x-3 p-6 border-t border-zinc-700/50")]),n)]))]))}function zf(e,t,n){return x(o([f("py-12 md:py-16 text-center")]),o([x(o([f("max-w-md mx-auto space-y-6")]),o([x(o([f("text-6xl mb-6")]),o([m("\u{1F4DD}")])),de(o([f("text-2xl font-light text-zinc-300 mb-4")]),o([m(e)])),se(o([f("text-zinc-400 text-lg mb-8")]),o([m(t)])),n instanceof $?n[0]:ie()]))]))}function jf(e,t){return H(o([f("text-pink-500 hover:text-pink-400 transition-colors duration-200 underline decoration-pink-500/30 hover:decoration-pink-400 underline-offset-2"),qi(t)]),o([m(e)]))}function Sf(e){return x(o([f("space-y-6")]),e)}function Ef(e,t){return x(o([f("flex items-center justify-between")]),o([e,t]))}var X_="src/routes/routes.gleam",Wt=class extends _{},ot=class extends _{},jt=class extends _{constructor(t){super(),this.slug=t}},at=class extends _{constructor(t){super(),this.id=t}},St=class extends _{},Et=class extends _{},tt=class extends _{},cn=class extends _{constructor(t){super(),this[0]=t}},Rt=class extends _{constructor(t){super(),this.uri=t}};function ka(e){let t=pi(e.path);if(t instanceof y)return new Wt;{let n=t.tail;if(n instanceof y){let r=t.head;return r===""?new Wt:r==="articles"?new ot:r==="about"?new St:r==="djot-demo"?new Et:r==="url"?new tt:new Rt(e)}else{let r=n.tail;if(r instanceof y){let i=t.head;if(i==="article"){let s=n.head;return new jt(s)}else if(i==="url"){let s=n.head;return new cn(s)}else return new Rt(e)}else if(r.tail instanceof y)if(r.head==="edit")if(t.head==="article"){let a=n.head;return new at(a)}else return new Rt(e);else return new Rt(e);else return new Rt(e)}}}function Nr(e){if(e instanceof Wt)return"/";if(e instanceof ot)return"/articles";if(e instanceof jt)return"/article/"+e.slug;if(e instanceof at)return"/article/"+e.id+"/edit";if(e instanceof St)return"/about";if(e instanceof Et)return"/djot-demo/";if(e instanceof tt)return"/url/";if(e instanceof cn)return"/url/"+e[0];{let t=e.uri;return"/404?uri="+ge(t)}}function Ge(e){let t,r=Nr(e);t=le(r);let i=t;if(!(i instanceof w))throw K("let_assert",X_,"routes/routes",49,"to_uri","Pattern match failed, no pattern matched the value.",{value:i,start:1152,end:1204,pattern_start:1163,pattern_end:1170});return i[0]}function e$(e,t){for(;;){let n=e,r=t;if(r instanceof y)return n instanceof y;if(n instanceof y)return!1;{let i=r.head,s=r.tail,l=n.head,a=n.tail;if(B(l,i))e=a,t=s;else return!1}}}function Tf(e,t){let n,i=Nr(e);n=pi(i);let s=n,l,u=Nr(t);return l=pi(u),e$(s,l)}var Le="src/pages/pages.gleam",Ri=class extends _{constructor(t){super(),this[0]=t}},Vn=class extends _{},Ht=class extends _{constructor(t,n){super(),this.article=t,this.session=n}},Tt=class extends _{constructor(t){super(),this.article=t}},Yn=class extends _{constructor(t,n){super(),this.articles=t,this.session=n}},fn=class extends _{},Ir=class extends _{},Mr=class extends _{constructor(t){super(),this.short=t}},we=class extends _{constructor(t){super(),this.error=t}},Or=class extends _{},Ur=class extends _{constructor(t){super(),this.requested_uri=t}},Wi=class extends _{constructor(t){super(),this.content=t}},Zn=class extends _{constructor(t,n){super(),this.slug=t,this.available_slugs=n}},Qn=class extends _{constructor(t){super(),this.id=t}},pn=class extends _{constructor(t,n){super(),this.error=t,this.context=n}},Xn=class extends _{constructor(t){super(),this.attempted_action=t}},Dr=class extends _{constructor(t){super(),this.msg=t}};function ul(e){if(e instanceof Ri){let t=e[0];return Ge(t)}else if(e instanceof Vn){let t=le("/");if(!(t instanceof w))throw K("let_assert",Le,"pages/pages",51,"to_uri","Pattern match failed, no pattern matched the value.",{value:t,start:1216,end:1251,pattern_start:1227,pattern_end:1234});return t[0]}else if(e instanceof Ht){let t=e.article,n=le("/article/"+t.slug);if(!(n instanceof w))throw K("let_assert",Le,"pages/pages",63,"to_uri","Pattern match failed, no pattern matched the value.",{value:n,start:1502,end:1561,pattern_start:1513,pattern_end:1520});return n[0]}else if(e instanceof Tt){let t=e.article,n=le("/article/"+t.id+"/edit");if(!(n instanceof w))throw K("let_assert",Le,"pages/pages",67,"to_uri","Pattern match failed, no pattern matched the value.",{value:n,start:1618,end:1686,pattern_start:1629,pattern_end:1636});return n[0]}else if(e instanceof Yn){let t=le("/articles");if(!(t instanceof w))throw K("let_assert",Le,"pages/pages",55,"to_uri","Pattern match failed, no pattern matched the value.",{value:t,start:1305,end:1348,pattern_start:1316,pattern_end:1323});return t[0]}else if(e instanceof fn){let t=le("/articles");if(!(t instanceof w))throw K("let_assert",Le,"pages/pages",59,"to_uri","Pattern match failed, no pattern matched the value.",{value:t,start:1403,end:1446,pattern_start:1414,pattern_end:1421});return t[0]}else if(e instanceof Ir){let t=le("/url/");if(!(t instanceof w))throw K("let_assert",Le,"pages/pages",71,"to_uri","Pattern match failed, no pattern matched the value.",{value:t,start:1736,end:1775,pattern_start:1747,pattern_end:1754});return t[0]}else if(e instanceof Mr){let t=e.short,n=le("/url/");if(!(n instanceof w))throw K("let_assert",Le,"pages/pages",75,"to_uri","Pattern match failed, no pattern matched the value.",{value:n,start:1832,end:1871,pattern_start:1843,pattern_end:1850});return n[0]}else if(e instanceof we){let t=e.error;if(t instanceof Zn){let n=t.slug,r=le("/article/"+n);if(!(r instanceof w))throw K("let_assert",Le,"pages/pages",82,"to_uri","Pattern match failed, no pattern matched the value.",{value:r,start:1982,end:2033,pattern_start:1993,pattern_end:2e3});return r[0]}else if(t instanceof Qn){let n=t.id,r=le("/article/"+n+"/edit");if(!(r instanceof w))throw K("let_assert",Le,"pages/pages",86,"to_uri","Pattern match failed, no pattern matched the value.",{value:r,start:2105,end:2165,pattern_start:2116,pattern_end:2123});return r[0]}else if(t instanceof pn){let n=le("/");if(!(n instanceof w))throw K("let_assert",Le,"pages/pages",90,"to_uri","Pattern match failed, no pattern matched the value.",{value:n,start:2229,end:2264,pattern_start:2240,pattern_end:2247});return n[0]}else if(t instanceof Xn){let n=le("/");if(!(n instanceof w))throw K("let_assert",Le,"pages/pages",94,"to_uri","Pattern match failed, no pattern matched the value.",{value:n,start:2338,end:2373,pattern_start:2349,pattern_end:2356});return n[0]}else{let n=le("/");if(!(n instanceof w))throw K("let_assert",Le,"pages/pages",98,"to_uri","Pattern match failed, no pattern matched the value.",{value:n,start:2430,end:2465,pattern_start:2441,pattern_end:2448});return n[0]}}else if(e instanceof Or){let t=le("/about");if(!(t instanceof w))throw K("let_assert",Le,"pages/pages",104,"to_uri","Pattern match failed, no pattern matched the value.",{value:t,start:2529,end:2569,pattern_start:2540,pattern_end:2547});return t[0]}else{if(e instanceof Ur)return e.requested_uri;{let t=e.content,n=le("/djot-demo/"+t);if(!(n instanceof w))throw K("let_assert",Le,"pages/pages",108,"to_uri","Pattern match failed, no pattern matched the value.",{value:n,start:2623,end:2679,pattern_start:2634,pattern_end:2641});return n[0]}}}function Aa(e){return O(e,t=>t.slug)}function n$(e){let t=e.expected,n=e.found,r=e.path;return"expected: "+t+", found: "+n+", path: "+Ve(r,"/")}function Cf(e){if(e instanceof y)return"no errors";{let t=e.head,n=e.tail;return n$(t)+`
`+Cf(n)}}function r$(e){let t=e.expected,n=e.found,r=e.path;return"expected: "+t+", found: "+n+", path: "+Ve(r,"/")}function Bf(e){if(e instanceof y)return"";{let t=e.head,n=e.tail;return r$(t)+`
`+Bf(n)}}function i$(e){if(e instanceof yr)return"unexpected end of input";if(e instanceof gt)return"unexpected byte: "+e[0];if(e instanceof ys)return"unexpected sequence: "+e[0];if(e instanceof vs){let t=e[0];return`unexpected format
`+Cf(t)}else{let t=e[0];return`unable to decode
`+Bf(t)}}function Hi(e){if(e instanceof el)return"bad url: "+e[0];if(e instanceof Pi)return"internal server error: "+e[0];if(e instanceof Li){let t=e[0];return`json error
`+i$(t)}else{if(e instanceof qr)return"network error";if(e instanceof Ni)return"not found";if(e instanceof Ii){let t=e[0],n=e[1];return"other error: "+D(t)+" "+n}else return"unauthorized"}}var Fr=class extends _{},Gi=class extends _{},cl=class extends _{};function Ji(e,t){return t instanceof Fr?Ms(ee(e,o([E("viewBox","0 0 24 24"),E("fill","none"),E("stroke","currentColor"),E("stroke-width","2"),E("stroke-linecap","round"),E("stroke-linejoin","round")])),o([Ar(o([E("x1","18"),E("y1","6"),E("x2","6"),E("y2","18")])),Ar(o([E("x1","6"),E("y1","6"),E("x2","18"),E("y2","18")]))])):t instanceof Gi?Ms(ee(e,o([E("viewBox","0 0 24 24"),E("fill","none"),E("stroke","currentColor"),E("stroke-width","2"),E("stroke-linecap","round"),E("stroke-linejoin","round")])),o([Ar(o([E("x1","3"),E("y1","6"),E("x2","21"),E("y2","6")])),Ar(o([E("x1","3"),E("y1","12"),E("x2","21"),E("y2","12")])),Ar(o([E("x1","3"),E("y1","18"),E("x2","21"),E("y2","18")]))])):Ms(ee(e,o([E("viewBox","0 0 24 24"),E("fill","none"),E("stroke","currentColor"),E("stroke-width","2"),E("stroke-linecap","round"),E("stroke-linejoin","round")])),o([Nc(o([E("points","20,6 9,17 4,12")]))]))}var za=class extends _{constructor(t,n){super(),this.content=t,this.references=n}},Rr=class extends _{},Ki=class extends _{constructor(t,n){super(),this.attributes=t,this.content=n}},Vi=class extends _{constructor(t,n,r){super(),this.attributes=t,this.level=n,this.content=r}},ja=class extends _{constructor(t,n,r){super(),this.attributes=t,this.language=n,this.content=r}},er=class extends _{},Je=class extends _{constructor(t){super(),this[0]=t}},tr=class extends _{constructor(t,n){super(),this.content=t,this.destination=n}},nr=class extends _{constructor(t,n){super(),this.content=t,this.destination=n}},rr=class extends _{constructor(t){super(),this.content=t}},ir=class extends _{constructor(t){super(),this.content=t}},pl=class extends _{constructor(t){super(),this.content=t}},sr=class extends _{constructor(t){super(),this[0]=t}},Sa=class extends _{constructor(t){super(),this[0]=t}};function fl(e,t,n){return t==="class"?lo(e,t,r=>r instanceof $?r[0]+" "+n:n):Me(e,t,n)}function o$(e){for(;;){let t=e;if(t instanceof y)return o([]);{let n=t.head;if(n===`
`)e=t.tail;else{let r=n,i=t.tail;return b(r,i)}}}}function lr(e){for(;;){let t=e;if(t instanceof y)return o([]);{let n=t.head;if(n===" ")e=t.tail;else{let r=n,i=t.tail;return b(r,i)}}}}function Pf(e,t){for(;;){let n=e,r=t;if(r instanceof y)return n>=3?new $([new Rr,r]):new g;{let i=r.head;if(i===`
`)return n>=3?new $([new Rr,r]):new g;if(i===" "){let s=r.tail;e=n,t=s}else if(i==="	"){let s=r.tail;e=n,t=s}else if(i==="-"){let s=r.tail;e=n+1,t=s}else if(i==="*"){let s=r.tail;e=n+1,t=s}else return new g}}}function a$(e,t){for(;;){let n=e,r=t;if(n instanceof y)return[r,o([])];{let i=n.head;if(i===`
`){let s=n.tail;return[r+`
`,s]}else{let s=i;e=n.tail,t=r+s}}}}function u$(e,t,n){for(;;){let r=e,i=t,s=n;if(r instanceof y)return s===0?new $([r]):new $([r]);{let l=r.head;if(l===`
`)if(s===0){let a=r.tail;return new $([a])}else{if(s===0)return new $([r]);if(l===i)e=r.tail,t=i,n=s-1;else return new g}else{if(s===0)return new $([r]);if(l===i)e=r.tail,t=i,n=s-1;else return new g}}}}function c$(e,t,n,r){for(;;){let i=e,s=t,l=n,a=r,u=u$(i,s,l);if(u instanceof $){let c=u[0][0];return[a,c]}else{let c=a$(i,a),p=c[0];e=c[1],t=s,n=l,r=p}}}function Lf(e,t){for(;;){let n=e,r=t;if(n instanceof y)return new $([new g,n]);{let i=n.head;if(i==="`")return new g;if(i===`
`)if(r===""){let s=n.tail;return new $([new g,s])}else{let s=n.tail;return new $([new $(r),s])}else{let s=i;e=n.tail,t=r+s}}}}function f$(e,t,n){for(;;){let r=e,i=t,s=n;if(r instanceof y)return new g;if(r.head===i)e=r.tail,t=i,n=s+1;else if(r.head===`
`)if(s>=3){let u=r.tail;return new $([new g,s,u])}else if(s>=3){let u=lr(r);return fr(Lf(u,""),c=>{let p=c[0],d=c[1];return[p,s,d]})}else return new g;else if(s>=3){let u=lr(r);return fr(Lf(u,""),c=>{let p=c[0],d=c[1];return[p,s,d]})}else return new g}}function Nf(e,t,n){return Ka(f$(e,n,1),r=>{let i=r[0],s=r[1],l=r[2],a=c$(l,n,s,""),u=a[0],c=a[1];return new $([new ja(t,i,u),c])})}function p$(e,t,n){for(;;){let r=e,i=t,s=n;if(r instanceof y)return new $([i,Sn(s),o([])]);{let l=r.head;if(l===`
`){let a=r.tail;if(a instanceof y){let u=a;return new $([i,Sn(s),u])}else if(a.head===" "){let c=a.tail;e=lr(c),t=i,n=s}else{let c=a;return new $([i,Sn(s),c])}}else{let a=l;e=r.tail,t=i,n=s+a}}}}function d$(e,t){for(;;){let n=e,r=t;if(n instanceof y)return new g;{let i=n.head;if(i==="]"){let s=n.tail;if(s instanceof y)return new g;if(s.head===":"){let a=s.tail;return p$(a,r,"")}else return new g}else{if(i===`
`)return new g;{let s=i;e=n.tail,t=r+s}}}}}function If(e,t,n){for(;;){let r=e,i=t,s=n;if(r instanceof y)return new g;{let l=r.head;if(l===" "){let a=r.tail;return new $([i,s,a])}else{if(l==="}")return new $([i,s,r]);{let a=l;e=r.tail,t=i,n=s+a}}}}}function _$(e,t,n){for(;;){let r=e,i=t,s=n;if(r instanceof y)return new g;{let l=r.head;if(l==='"'){let a=r.tail;return new $([i,s,a])}else{let a=l;e=r.tail,t=i,n=s+a}}}}function $$(e,t){for(;;){let n=e,r=t;if(n instanceof y)return new g;{let i=n.head;if(i===" ")return new g;if(i==="="){let s=n.tail;if(s instanceof y)return If(s,r,"");if(s.head==='"'){let a=s.tail;return _$(a,r,"")}else return If(s,r,"")}else{let s=i;e=n.tail,t=r+s}}}}function Mf(e,t){for(;;){let n=e,r=t;if(n instanceof y)return new $([r,n]);{let i=n.head;if(i==="}")return new $([r,n]);if(i===" ")return new $([r,n]);if(i==="#")return new g;if(i===".")return new g;if(i==="=")return new g;if(i===`
`)return new g;{let s=i;e=n.tail,t=r+s}}}}function m$(e,t){for(;;){let n=e,r=t;if(n instanceof y)return new $([r,o([])]);{let i=n.head;if(i===`
`){let s=n.tail;return new $([r,s])}else if(i===" ")e=n.tail,t=r;else return new g}}}function h$(e,t){for(;;){let n=e,r=t,i=lr(n);if(i instanceof y)return new g;{let s=i.head;if(s==="}"){let l=i.tail;return m$(l,r)}else if(s==="#"){let l=i.tail,a=Mf(l,"");if(a instanceof $){let u=a[0][0];e=a[0][1],t=fl(r,"id",u)}else return new g}else if(s==="."){let l=i.tail,a=Mf(l,"");if(a instanceof $){let u=a[0][0];e=a[0][1],t=fl(r,"class",u)}else return new g}else{let l=$$(i,"");if(l instanceof $){let a=l[0][0],u=l[0][1];e=l[0][2],t=fl(r,a,u)}else return new g}}}}function w$(e){return e==="#"||e==="?"||e==="!"?!1:e!==","}function g$(e,t){for(;;){let n=e,r=t;if(n instanceof y)return r;{let i=n.head;if(i===" "){let s=n.tail;if(B(s,o([])))return r;r===""?(e=n.tail,t=r):(e=n.tail,t=r+"-")}else if(i===`
`){let s=n.tail;if(B(s,o([])))return r;r===""?(e=n.tail,t=r):(e=n.tail,t=r+"-")}else{let s=i;e=n.tail,t=r+s}}}}function x$(e){let n=$r(e),r=pt(n,w$);return g$(r,"")}function b$(e,t,n){for(;;){let r=e,i=t,s=n;if(i<0)return new g;if(r instanceof y)return i>0?new g:i===0?new $([s,o([])]):new g;{let l=r.head;if(l===" ")if(i===0){let a=r.tail;return new $([s,a])}else return new g;else if(l==="#")e=r.tail,t=i-1,n=s;else return new g}}}function y$(e,t,n){for(;;){let r=e,i=t,s=n;if(r instanceof y)return[q(s),o([])];{let l=r.tail;if(l instanceof y){let a=r.head;if(a===`
`)return[q(s),o([])];{let u=a;e=l,t=i,n=b(u,s)}}else{let a=l.head;if(a===`
`){let u=r.head;if(u===`
`){let c=l.tail;return[q(s),c]}else{let c=u;e=l,t=i,n=b(c,s)}}else if(a==="#"){let u=r.head;if(u===`
`){let c=l.tail,p=b$(c,i-1,b(`
`,s));if(p instanceof $){let d=p[0][0];e=p[0][1],t=i,n=d}else return[q(s),r]}else{let c=u;e=l,t=i,n=b(c,s)}}else{let u=r.head;e=l,t=i,n=b(u,s)}}}}}function v$(e,t,n,r){for(;;){let i=e,s=t,l=n,a=r;if(i instanceof y)return[!0,a,i];if(i.head==="`")e=i.tail,t=s,n=l+1,r=a;else return s===l?[!0,a,i]:[!1,a+Xr("`",l),i]}}function Of(e,t,n){for(;;){let r=e,i=t,s=n;if(r instanceof y)return[s,r];{let l=r.head;if(l==="`"){let a=r.tail,u=v$(a,i,1,s),c=u[0],p=u[1],d=u[2];if(c)return[p,d];e=d,t=i,n=p}else{let a=l;e=r.tail,t=i,n=s+a}}}}function k$(e,t){for(;;){let n=e,r=t;if(n instanceof y){let i=Of(n,r,""),s=i[0],l=i[1],a;Zt(s," `")?a=ti(s):a=s;let c=a,p;ei(c,"` ")?p=ni(c):p=c;let h=p;return[new pl(h),l]}else if(n.head==="`")e=n.tail,t=r+1;else{let s=Of(n,r,""),l=s[0],a=s[1],u;Zt(l," `")?u=ti(l):u=l;let p=u,d;ei(p,"` ")?d=ni(p):d=p;let v=d;return[new pl(v),a]}}}function A$(e,t,n){for(;;){let r=e,i=t,s=n;if(r instanceof y)return new g;{let l=r.head;if(l==="`")return new g;if(l==="	"){let a=r.tail;if(a instanceof y)if(l===i){let c=a,p=q(s);if(p instanceof y)return new g;{let d=p;return new $([d,c])}}else{let c=l;e=a,t=i,n=b(c,s)}else{let u=a.head;if(u===i)e=a.tail,t=i,n=b(" ",b(u,s));else if(l===i){let p=a,d=q(s);if(d instanceof y)return new g;{let h=d;return new $([h,p])}}else{let p=l;e=a,t=i,n=b(p,s)}}}else if(l===`
`){let a=r.tail;if(a instanceof y)if(l===i){let c=a,p=q(s);if(p instanceof y)return new g;{let d=p;return new $([d,c])}}else{let c=l;e=a,t=i,n=b(c,s)}else{let u=a.head;if(u===i)e=a.tail,t=i,n=b(" ",b(u,s));else if(l===i){let p=a,d=q(s);if(d instanceof y)return new g;{let h=d;return new $([h,p])}}else{let p=l;e=a,t=i,n=b(p,s)}}}else if(l===" "){let a=r.tail;if(a instanceof y)if(l===i){let c=a,p=q(s);if(p instanceof y)return new g;{let d=p;return new $([d,c])}}else{let c=l;e=a,t=i,n=b(c,s)}else{let u=a.head;if(u===i)e=a.tail,t=i,n=b(" ",b(u,s));else if(l===i){let p=a,d=q(s);if(d instanceof y)return new g;{let h=d;return new $([h,p])}}else{let p=l;e=a,t=i,n=b(p,s)}}}else if(l===i){let u=r.tail,c=q(s);if(c instanceof y)return new g;{let p=c;return new $([p,u])}}else{let u=l;e=r.tail,t=i,n=b(u,s)}}}}function Uf(e,t,n,r){for(;;){let i=e,s=t,l=n,a=r;if(i instanceof y)return new g;{let u=i.head;if(u===")")if(s){let c=i.tail;return new $([l,new Sa(a),c])}else{let c=u;e=i.tail,t=s,n=l,r=a+c}else if(u==="]")if(s){let c=u;e=i.tail,t=s,n=l,r=a+c}else{let c=i.tail;return new $([l,new sr(a),c])}else if(u===`
`)if(s)e=i.tail,t=s,n=l,r=a;else if(!s)e=i.tail,t=s,n=l,r=a+" ";else{let c=u;e=i.tail,t=s,n=l,r=a+c}else{let c=u;e=i.tail,t=s,n=l,r=a+c}}}}function z$(e,t){for(;;){let n=e,r=t;if(n instanceof y)return new g;{let i=n.tail;if(i instanceof y){let s=n.head;e=i,t=b(s,r)}else{let s=i.head;if(s==="["){let l=n.head;if(l==="]"){let a=i.tail,u=q(r);return Uf(a,!1,u,"")}else{let a=l;e=i,t=b(a,r)}}else if(s==="("){let l=n.head;if(l==="]"){let a=i.tail,u=q(r);return Uf(a,!0,u,"")}else{let a=l;e=i,t=b(a,r)}}else{let l=n.head;e=i,t=b(l,r)}}}}}function j$(e,t){for(;;){let n=e,r=t;if(n instanceof y)return r>0?new $([r,o([])]):new g;{let i=n.head;if(i==="#")e=n.tail,t=r+1;else if(i===" ")if(r!==0){let s=n.tail;return new $([r,s])}else return new g;else if(i===`
`)if(r!==0){let s=n.tail;return new $([r,s])}else return new g;else return new g}}}function dl(e,t){for(;;){let n=e,r=t;if(n instanceof y)return r;{let i=n.head,s=n.tail;if(i instanceof er)e=s,t=r;else if(i instanceof Je){let l=i[0];e=s,t=r+l}else if(i instanceof tr){let l=i.content,a=dl(l,r);e=s,t=a}else if(i instanceof nr){let l=i.content,a=dl(l,r);e=s,t=a}else if(i instanceof rr){let l=i.content;e=ee(l,s),t=r}else if(i instanceof ir){let l=i.content;e=ee(l,s),t=r}else{let l=i.content;e=s,t=r+l}}}}function S$(e,t){for(;;){let n=e,r=t;if(n instanceof y)return[q(r),o([])];{let i=n.tail;if(i instanceof y){let s=n.head;if(s===`
`)return[q(r),o([])];{let l=s;e=i,t=b(l,r)}}else if(i.head===`
`){let l=n.head;if(l===`
`){let a=i.tail;return[q(r),a]}else{let a=l;e=i,t=b(a,r)}}else{let l=n.head;e=i,t=b(l,r)}}}}function Df(e,t){let n=A$(e,t,o([]));if(n instanceof $){let r=n[0][0],i=n[0][1],s=_l(r,"",o([]));return new $([s,i])}else return new g}function _l(e,t,n){for(;;){let r=e,i=t,s=n;if(r instanceof y)return i===""?q(s):q(b(new Je(i),s));{let l=r.head;if(l==="\\"){let a=r.tail;if(a instanceof y){let u=l;e=a,t=i+u,n=s}else{let u=a.head,c=a.tail;u===`
`?(e=c,t="",n=b(new er,b(new Je(i),s))):u===" "?(e=c,t=i+"&nbsp;",n=s):u==="!"||u==='"'||u==="#"||u==="$"||u==="%"||u==="&"||u==="'"||u==="("||u===")"||u==="*"||u==="+"||u===","||u==="-"||u==="."||u==="/"||u===":"||u===";"||u==="<"||u==="="||u===">"||u==="?"||u==="@"||u==="["||u==="\\"||u==="]"||u==="^"||u==="_"||u==="`"||u==="{"||u==="|"||u==="}"||u==="~"?(e=c,t=i+u,n=s):(e=ee(o([u]),c),t=i+"\\",n=s)}}else if(l==="_"){let a=r.tail;if(a instanceof y){let u=l;e=a,t=i+u,n=s}else{let u=a.head;if(u!==" "&&u!=="	"&&u!==`
`){let c=a.tail,p=b(u,c),d=Df(p,"_");if(d instanceof $){let h=d[0][0];e=d[0][1],t="",n=b(new rr(h),b(new Je(i),s))}else e=p,t=i+"_",n=s}else{let c=l;e=a,t=i+c,n=s}}}else if(l==="*"){let a=r.tail;if(a instanceof y){let u=l;e=a,t=i+u,n=s}else{let u=a.head;if(u!==" "&&u!=="	"&&u!==`
`){let c=a.tail,p=b(u,c),d=Df(p,"*");if(d instanceof $){let h=d[0][0];e=d[0][1],t="",n=b(new ir(h),b(new Je(i),s))}else e=p,t=i+"*",n=s}else{let c=l;e=a,t=i+c,n=s}}}else if(l==="["){let a=r.tail,u=Ff(a,(c,p)=>new tr(c,p));if(u instanceof $){let c=u[0][0];e=u[0][1],t="",n=b(c,b(new Je(i),s))}else e=a,t=i+"[",n=s}else if(l==="!"){let a=r.tail;if(a instanceof y){let u=l;e=a,t=i+u,n=s}else if(a.head==="["){let c=a.tail,p=Ff(c,(d,h)=>new nr(d,h));if(p instanceof $){let d=p[0][0];e=p[0][1],t="",n=b(d,b(new Je(i),s))}else e=c,t=i+"![",n=s}else{let c=l;e=a,t=i+c,n=s}}else if(l==="`"){let a=r.tail,u=k$(a,1),c=u[0];e=u[1],t="",n=b(c,b(new Je(i),s))}else if(l===`
`){let a=r.tail;e=lr(a),t=i+`
`,n=s}else{let a=l;e=r.tail,t=i+a,n=s}}}}function Ff(e,t){let n=z$(e,o([]));if(n instanceof $){let r=n[0][0],i=n[0][1],s=n[0][2],l=_l(r,"",o([])),a;i instanceof sr&&i[0]===""?a=new sr(dl(l,"")):a=i;let u=a;return new $([t(l,u),s])}else return new g}function dn(e,t){let n=S$(e,o([])),r=n[0],i=n[1],s=_l(r,"",o([]));return[new Ki(t,s),i]}function E$(e,t,n){let r=j$(e,1);if(r instanceof $){let i=r[0][0],s=r[0][1],l=lr(s),a=y$(l,i,o([])),u=a[0],c=a[1],p=_l(u,"",o([])),d=dl(p,""),h,v=x$(d);if(v==="")h=[t,n];else{let J=v;if(rt(t,J)instanceof w)h=[t,n];else{let L=Me(t,J,"#"+J),C=fl(n,"id",J);h=[L,C]}}let k=h,T=k[0],S=k[1];return[new Vi(S,i,p),T,c]}else{let i=dn(b("#",e),n),s=i[0],l=i[1];return[s,t,l]}}function T$(e,t,n,r){for(;;){let i=e,s=t,l=n,a=r,u=o$(i),c=lr(u);if(c instanceof y)return new za(q(l),s);{let p=c.head;if(p==="{"){let d=c.tail,h=h$(d,a);if(h instanceof $){let v=h[0][0];e=h[0][1],t=s,n=l,r=v}else{let v=dn(c,a),k=v[0];e=v[1],t=s,n=b(k,l),r=Y()}}else if(p==="#"){let d=c.tail,h=E$(d,s,a),v=h[0],k=h[1];e=h[2],t=k,n=b(v,l),r=Y()}else if(p==="~"){let d=p,h=c.tail,v=Nf(h,a,d);if(v instanceof $){let k=v[0][0];e=v[0][1],t=s,n=b(k,l),r=Y()}else{let k=dn(c,a),T=k[0];e=k[1],t=s,n=b(T,l),r=Y()}}else if(p==="`"){let d=p,h=c.tail,v=Nf(h,a,d);if(v instanceof $){let k=v[0][0];e=v[0][1],t=s,n=b(k,l),r=Y()}else{let k=dn(c,a),T=k[0];e=k[1],t=s,n=b(T,l),r=Y()}}else if(p==="["){let d=c.tail,h=d$(d,"");if(h instanceof $){let v=h[0][0],k=h[0][1],T=h[0][2],S=Me(s,v,k);e=T,t=S,n=l,r=Y()}else{let v=dn(c,a),k=v[0];e=v[1],t=s,n=b(k,l),r=Y()}}else if(p==="-"){let d=c.tail,h=Pf(1,d);if(h instanceof $){let v=h[0][0];e=h[0][1],t=s,n=b(v,l),r=Y()}else{let v=dn(c,a),k=v[0];e=v[1],t=s,n=b(k,l),r=Y()}}else if(p==="*"){let d=c.tail,h=Pf(1,d);if(h instanceof $){let v=h[0][0];e=h[0][1],t=s,n=b(v,l),r=Y()}else{let v=dn(c,a),k=v[0];e=v[1],t=s,n=b(k,l),r=Y()}}else{let d=dn(c,a),h=d[0];e=d[1],t=s,n=b(h,l),r=Y()}}}}function Rf(e){let n=ls(e,`\r
`,`
`),r=$r(n);return T$(r,Y(),o([]),Y())}function Wf(e,t){if(e instanceof sr){let n=e[0],r=rt(t,n);return r instanceof w?r[0]:""}else return e[0]}function Ea(e,t){for(;;){let n=e,r=t;if(n instanceof y)return r;{let i=n.head,s=n.tail;if(i instanceof er)e=s,t=r;else if(i instanceof Je){let l=i[0];e=s,t=r+l}else if(i instanceof tr){let l=i.content,a=Ea(l,r);e=s,t=a}else if(i instanceof nr){let l=i.content,a=Ea(l,r);e=s,t=a}else if(i instanceof rr){let l=i.content;e=ee(l,s),t=r}else if(i instanceof ir){let l=i.content;e=ee(l,s),t=r}else{let l=i.content;e=s,t=r+l}}}}function _n(e,t){let r=kn(e),i=_r(r,(s,l)=>Qr(s[0],l[0]));return Ce(i,t,(s,l)=>b(E(l[0],l[1]),s))}function q$(e,t,n){if(t instanceof er)return o([Cc(o([]))]);if(t instanceof Je){let r=t[0];return o([m(r)])}else if(t instanceof tr){let r=t.content,i=t.destination;return o([Rn(o([Un(Wf(i,n)),f("text-pink-700 hover:underline cursor-pointer")]),qt(e,r,n))])}else if(t instanceof nr){let r=t.content,i=t.destination;return o([Pc(o([wc(Wf(i,n)),gc(Ea(r,"")),f("max-w-full h-auto rounded-lg shadow-lg mt-8")]))])}else if(t instanceof rr){let r=t.content;return o([Bc(o([f("italic")]),qt(e,r,n))])}else if(t instanceof ir){let r=t.content;return o([Ti(o([f("font-bold")]),qt(e,r,n))])}else{let r=t.content;return o([be(o([f("bg-zinc-800 px-1 py-0.5 rounded text-sm font-mono")]),o([m(r)]))])}}function qt(e,t,n){for(;;){let r=e,i=t,s=n;if(i instanceof y)return r;{let l=i.head,a=i.tail;e=q$(r,l,s),t=a,n=s}}}function C$(e,t,n){let r;if(t instanceof Rr)r=qc(o([f("border-zinc-700 my-8")]));else if(t instanceof Ki){let s=t.attributes,l=t.content;r=se(_n(s,o([f("pt-8")])),qt(o([]),l,n))}else if(t instanceof Vi){let s=t.attributes,l=t.level,a=t.content;l===1?r=Dn(_n(s,o([f("text-3xl text-pink-700 font-light")])),qt(o([]),a,n)):l===2?r=Fn(_n(s,o([f("text-2xl text-pink-600 font-light pt-16")])),qt(o([]),a,n)):l===3?r=de(_n(s,o([f("text-xl text-pink-600 font-light pt-12")])),qt(o([]),a,n)):l===4?r=Ae(_n(s,o([f("text-lg text-pink-600 font-light pt-8")])),qt(o([]),a,n)):l===5?r=Sc(_n(s,o([f("text-base text-pink-600 font-light pt-6")])),qt(o([]),a,n)):r=Ec(_n(s,o([f("text-sm text-pink-600 font-light pt-4")])),qt(o([]),a,n))}else{let s=t.attributes,l=t.language,a=t.content;r=ze(_n(s,o([f("pt-8")])),o([be((()=>{if(l instanceof $){let u=l[0];return o([f("language-"+u+" bg-zinc-800 p-4 rounded-md block overflow-x-auto")])}else return o([f("bg-zinc-800 p-4 rounded-md block overflow-x-auto")])})(),o([m(a)]))]))}return b(r,e)}function B$(e,t,n){for(;;){let r=e,i=t,s=n;if(r instanceof y)return s;{let l=r.head,a=r.tail,u=C$(s,l,i);e=a,t=i,n=u}}}function P$(e){return q(B$(e.content,e.references,o([ie()])))}function $l(e){let n=Rf(e);return P$(n)}var $n=class extends _{},Wr=class extends _{constructor(t){super(),this.articles=t}};function ml(e){let t;if(e instanceof $n)t=lt(o([["version",xt(0)]]));else{let r=e.articles;t=lt(o([["version",xt(1)],["articles",mi(r,il)]]))}return st(t)}function Hf(){return R("version",xe,e=>e===0?Pe(new $n):e===1?R("articles",Nt(Pr()),t=>Pe(new Wr(t))):ic(new $n,"Unsupported model version"))}function Gf(e,t,n){return It(r=>{let i=Rc(e);if(i instanceof w){let s=i[0],l=_i(Wc(s),t);if(l instanceof w){let a=l[0];return r(n(new $(a)))}else return r(n(new g))}else return r(n(new g))})}var Hr="jst_lustre_state";var Ta=class extends _{constructor(t,n,r,i,s,l,a,u){super(),this.id=t,this.short_code=n,this.target_url=r,this.created_by=i,this.created_at=s,this.updated_at=l,this.access_count=a,this.is_active=u}},hl=class extends _{constructor(t,n){super(),this.short_code=t,this.target_url=n}},qa=class extends _{constructor(t,n,r,i){super(),this.short_urls=t,this.total=n,this.limit=r,this.offset=i}},wl=class extends _{constructor(t,n){super(),this.id=t,this.is_active=n}};function Ca(){return R("id",pe,e=>R("shortCode",pe,t=>R("targetUrl",pe,n=>R("createdBy",pe,r=>R("createdAt",xe,i=>R("updatedAt",xe,s=>R("accessCount",xe,l=>R("isActive",sc,a=>Pe(new Ta(e,t,n,r,i,s,l,a))))))))))}function I$(){return R("shortUrls",Nt(Ca()),e=>R("total",xe,t=>R("limit",xe,n=>R("offset",xe,r=>Pe(new qa(e,t,n,r))))))}function M$(e){return lt(o([["shortCode",ce(e.short_code)],["targetUrl",ce(e.target_url)]]))}function O$(e){let t=o([["id",ce(e.id)]]),n,r=e.is_active;if(r instanceof $){let s=r[0];n=b(["isActive",Jo(s)],t)}else n=t;return lt(n)}function gl(e,t){let n,r=t.scheme;if(r instanceof $){let d=r[0];d==="http"?n=Se(e,new Ot):d==="https"?n=Se(e,new he):n=Se(e,new he)}else n=Se(e,new he);let i=n,s,l=t.host;if(l instanceof $){let d=l[0];s=Sr(i,d)}else s=i;let a=s,u,c=t.port;if(c instanceof $){let d=c[0];u=Er(a,d)}else u=a;return u}function Jf(e,t,n){let r,i=M$(n);r=st(i);let s=r,l=je(),a=ye(l,new kt),u=Ee(a,"/api/url"),c=Ut(u,s),p=gl(c,t);return Te(p,et(Ca(),e))}function Kf(e,t,n,r){let i="/api/url?limit="+D(n)+"&offset="+D(r),s=je(),l=ye(s,new Re),a=Ee(l,i),u=gl(a,t);return Te(u,et(I$(),e))}function Vf(e,t,n){let r=je(),i=ye(r,new Gn),s=Ee(i,"/api/url/"+n),l=gl(s,t);return Te(l,Cr(e))}function Yf(e,t,n){let r,i=O$(n);r=st(i);let s=r,l=je(),a=ye(l,new Hn),u=Ee(a,"/api/url/"+n.id),c=Ut(u,s),p=gl(c,t);return Te(p,et(Ca(),e))}var to="src/jst_lustre.gleam",z=class extends _{constructor(t,n,r,i,s,l,a,u,c,p,d,h,v,k,T,S,G,J,N){super(),this.base_uri=t,this.route=n,this.session=r,this.articles=i,this.short_urls=s,this.short_url_form_short_code=l,this.short_url_form_target_url=a,this.djot_demo_content=u,this.edit_view_mode=c,this.profile_menu_open=p,this.notice=d,this.debug_use_local_storage=h,this.delete_confirmation=v,this.copy_feedback=k,this.expanded_urls=T,this.login_form_open=S,this.login_username=G,this.login_password=J,this.login_loading=N}},hn=class extends _{},Qi=class extends _{},bl=class extends _{constructor(t){super(),this.uri=t}},Jt=class extends _{constructor(t){super(),this.uri=t}},yl=class extends _{},Na=class extends _{},Ia=class extends _{constructor(t){super(),this.opt=t}},vl=class extends _{constructor(t){super(),this.article=t}},Ct=class extends _{constructor(t,n){super(),this.id=t,this.result=n}},wn=class extends _{constructor(t){super(),this.result=t}},kl=class extends _{constructor(t,n){super(),this.article=t,this.text=n}},Al=class extends _{constructor(t,n){super(),this.article=t,this.text=n}},zl=class extends _{constructor(t,n){super(),this.article=t,this.text=n}},jl=class extends _{constructor(t,n){super(),this.article=t,this.text=n}},Sl=class extends _{constructor(t,n){super(),this.article=t,this.content=n}},Gr=class extends _{constructor(t,n){super(),this.id=t,this.result=n}},El=class extends _{constructor(t){super(),this.article=t}},Tl=class extends _{constructor(t){super(),this.article=t}},Xi=class extends _{},ql=class extends _{constructor(t){super(),this.result=t}},Cl=class extends _{constructor(t){super(),this.article=t}},Bl=class extends _{constructor(t,n){super(),this.id=t,this.result=n}},Pl=class extends _{constructor(t){super(),this.article=t}},Ll=class extends _{constructor(t){super(),this.article=t}},Ma=class extends _{constructor(t,n){super(),this.username=t,this.password=n}},Zi=class extends _{constructor(t){super(),this.result=t}},es=class extends _{},Nl=class extends _{constructor(t){super(),this.result=t}},Il=class extends _{},ts=class extends _{constructor(t){super(),this.result=t}},Ml=class extends _{constructor(t){super(),this.content=t}},Ol=class extends _{constructor(t,n){super(),this.short_code=t,this.target_url=n}},Ul=class extends _{constructor(t){super(),this.result=t}},Dl=class extends _{constructor(t){super(),this.result=t}},ns=class extends _{constructor(t){super(),this.id=t}},Fl=class extends _{constructor(t,n){super(),this.id=t,this.result=n}},Rl=class extends _{constructor(t){super(),this.id=t}},Wl=class extends _{},Hl=class extends _{constructor(t){super(),this.text=t}},Gl=class extends _{constructor(t){super(),this.text=t}},ar=class extends _{constructor(t){super(),this.short_code=t}},Jl=class extends _{},ur=class extends _{constructor(t,n){super(),this.id=t,this.is_active=n}},Kl=class extends _{constructor(t,n){super(),this.id=t,this.result=n}},gn=class extends _{constructor(t){super(),this.id=t}},Vl=class extends _{},rs=class extends _{},Yl=class extends _{constructor(t){super(),this.res=t}},or=class extends _{},Zl=class extends _{constructor(t){super(),this[0]=t}},Ql=class extends _{constructor(t){super(),this[0]=t}},Oa=class extends _{},Ua=class extends _{},Xl=class extends _{},eo=class extends _{};function Zf(e){if(e==="")return!1;if(us(e,".")){let n=Pt(e,".");if(oo(n)>=2)if(Xa(n,s=>Lt(s)>0)){let s=eu(n);if(s instanceof w){let l=s[0];return Lt(l)>=2}else return!1}else return!1;else return!1}else return!1}function Yi(e){if(e==="")return[!1,new $("URL is required")];{let t=le(e);if(t instanceof w){let n=t[0],r=n.scheme,i=n.host;if(i instanceof $)if(r instanceof $){let s=i[0],l=r[0];return l==="http"?Zf(s)?[!0,new g]:[!1,new $("Host must be a valid domain with a TLD (e.g., example.com)")]:l==="https"?Zf(s)?[!0,new g]:[!1,new $("Host must be a valid domain with a TLD (e.g., example.com)")]:[!1,new $("URL must use http or https protocol")]}else return[!1,new $("URL must include a protocol (http or https)")];else return r instanceof $?[!1,new $("URL must include a host")]:[!1,new $("URL must include both protocol and host")]}else return[!1,new $("Invalid URL format")]}}function D$(e){te("fetch_articles_model called","src/jst_lustre.gleam",1142);let t=e[0],n=e[1],r,i=t;r=new z(i.base_uri,i.route,i.session,new V,i.short_urls,i.short_url_form_short_code,i.short_url_form_target_url,i.djot_demo_content,i.edit_view_mode,i.profile_menu_open,i.notice,i.debug_use_local_storage,i.delete_confirmation,i.copy_feedback,i.expanded_urls,i.login_form_open,i.login_username,i.login_password,i.login_loading);let s=r,l=Ln(o([n,Ui(a=>new wn(a),s.base_uri)]));return[s,l]}function xl(e,t){let n=ka(t);if(n instanceof Wt)return[(()=>{let r=e;return new z(r.base_uri,n,r.session,r.articles,r.short_urls,r.short_url_form_short_code,r.short_url_form_target_url,r.djot_demo_content,r.edit_view_mode,r.profile_menu_open,r.notice,r.debug_use_local_storage,r.delete_confirmation,r.copy_feedback,r.expanded_urls,r.login_form_open,r.login_username,r.login_password,r.login_loading)})(),j()];if(n instanceof ot)return e.articles instanceof F?[(()=>{let i=e;return new z(i.base_uri,n,i.session,new V,i.short_urls,i.short_url_form_short_code,i.short_url_form_target_url,i.djot_demo_content,i.edit_view_mode,i.profile_menu_open,i.notice,i.debug_use_local_storage,i.delete_confirmation,i.copy_feedback,i.expanded_urls,i.login_form_open,i.login_username,i.login_password,i.login_loading)})(),Ui(i=>new wn(i),e.base_uri)]:[(()=>{let i=e;return new z(i.base_uri,n,i.session,i.articles,i.short_urls,i.short_url_form_short_code,i.short_url_form_target_url,i.djot_demo_content,i.edit_view_mode,i.profile_menu_open,i.notice,i.debug_use_local_storage,i.delete_confirmation,i.copy_feedback,i.expanded_urls,i.login_form_open,i.login_username,i.login_password,i.login_loading)})(),j()];if(n instanceof jt){let r=n.slug,i=e.articles;if(i instanceof F)return[(()=>{let s=e;return new z(s.base_uri,n,s.session,new V,s.short_urls,s.short_url_form_short_code,s.short_url_form_target_url,s.djot_demo_content,s.edit_view_mode,s.profile_menu_open,s.notice,s.debug_use_local_storage,s.delete_confirmation,s.copy_feedback,s.expanded_urls,s.login_form_open,s.login_username,s.login_password,s.login_loading)})(),Ui(s=>new wn(s),e.base_uri)];if(i instanceof P){let s=i[0],l=ao(s,j(),(c,p)=>{let d=p.slug===r;return p.content instanceof F?d?[Ln(o([c,Kn(v=>new Ct(p.id,v),p.id,e.base_uri)])),(()=>{let v=p;return new ae(v.id,v.slug,v.revision,v.author,v.tags,v.published_at,v.title,v.subtitle,v.leading,new V,v.draft)})()]:[c,p]:[c,p]}),a=l[0],u=l[1];return[(()=>{let c=e;return new z(c.base_uri,n,c.session,new P(u),c.short_urls,c.short_url_form_short_code,c.short_url_form_target_url,c.djot_demo_content,c.edit_view_mode,c.profile_menu_open,c.notice,c.debug_use_local_storage,c.delete_confirmation,c.copy_feedback,c.expanded_urls,c.login_form_open,c.login_username,c.login_password,c.login_loading)})(),a]}else return[(()=>{let s=e;return new z(s.base_uri,n,s.session,s.articles,s.short_urls,s.short_url_form_short_code,s.short_url_form_target_url,s.djot_demo_content,s.edit_view_mode,s.profile_menu_open,s.notice,s.debug_use_local_storage,s.delete_confirmation,s.copy_feedback,s.expanded_urls,s.login_form_open,s.login_username,s.login_password,s.login_loading)})(),j()]}else if(n instanceof at){let r=n.id,i=e.articles;if(i instanceof F)return[(()=>{let s=e;return new z(s.base_uri,n,s.session,new V,s.short_urls,s.short_url_form_short_code,s.short_url_form_target_url,s.djot_demo_content,s.edit_view_mode,s.profile_menu_open,s.notice,s.debug_use_local_storage,s.delete_confirmation,s.copy_feedback,s.expanded_urls,s.login_form_open,s.login_username,s.login_password,s.login_loading)})(),Ui(s=>new wn(s),e.base_uri)];if(i instanceof P){let s=i[0],l=ao(s,j(),(c,p)=>{let d;if(p.draft instanceof $)d=p;else{let S=p;d=new ae(S.id,S.slug,S.revision,S.author,S.tags,S.published_at,S.title,S.subtitle,S.leading,S.content,Br(p))}let v=d,k=v.id===r;return v.content instanceof F?k?[Ln(o([c,Kn(S=>new Ct(v.id,S),v.id,e.base_uri)])),(()=>{let S=v;return new ae(S.id,S.slug,S.revision,S.author,S.tags,S.published_at,S.title,S.subtitle,S.leading,new V,Br(v))})()]:[c,v]:[c,v]}),a=l[0],u=l[1];return te(Nr(n),"src/jst_lustre.gleam",1228),[(()=>{let c=e;return new z(c.base_uri,n,c.session,new P(u),c.short_urls,c.short_url_form_short_code,c.short_url_form_target_url,c.djot_demo_content,c.edit_view_mode,c.profile_menu_open,c.notice,c.debug_use_local_storage,c.delete_confirmation,c.copy_feedback,c.expanded_urls,c.login_form_open,c.login_username,c.login_password,c.login_loading)})(),a]}else return[(()=>{let s=e;return new z(s.base_uri,n,s.session,s.articles,s.short_urls,s.short_url_form_short_code,s.short_url_form_target_url,s.djot_demo_content,s.edit_view_mode,s.profile_menu_open,s.notice,s.debug_use_local_storage,s.delete_confirmation,s.copy_feedback,s.expanded_urls,s.login_form_open,s.login_username,s.login_password,s.login_loading)})(),j()]}else{if(n instanceof St)return[(()=>{let r=e;return new z(r.base_uri,n,r.session,r.articles,r.short_urls,r.short_url_form_short_code,r.short_url_form_target_url,r.djot_demo_content,r.edit_view_mode,r.profile_menu_open,r.notice,r.debug_use_local_storage,r.delete_confirmation,r.copy_feedback,r.expanded_urls,r.login_form_open,r.login_username,r.login_password,r.login_loading)})(),j()];if(n instanceof Et)return[(()=>{let r=e;return new z(r.base_uri,n,r.session,r.articles,r.short_urls,r.short_url_form_short_code,r.short_url_form_target_url,r.djot_demo_content,r.edit_view_mode,r.profile_menu_open,r.notice,r.debug_use_local_storage,r.delete_confirmation,r.copy_feedback,r.expanded_urls,r.login_form_open,r.login_username,r.login_password,r.login_loading)})(),j()];if(n instanceof tt)return e.short_urls instanceof F?[(()=>{let i=e;return new z(i.base_uri,n,i.session,i.articles,new V,i.short_url_form_short_code,i.short_url_form_target_url,i.djot_demo_content,i.edit_view_mode,i.profile_menu_open,i.notice,i.debug_use_local_storage,i.delete_confirmation,i.copy_feedback,i.expanded_urls,i.login_form_open,i.login_username,i.login_password,i.login_loading)})(),Kf(i=>new Dl(i),e.base_uri,10,0)]:[(()=>{let i=e;return new z(i.base_uri,n,i.session,i.articles,i.short_urls,i.short_url_form_short_code,i.short_url_form_target_url,i.djot_demo_content,i.edit_view_mode,i.profile_menu_open,i.notice,i.debug_use_local_storage,i.delete_confirmation,i.copy_feedback,i.expanded_urls,i.login_form_open,i.login_username,i.login_password,i.login_loading)})(),j()];if(n instanceof cn){let r=n[0];return[(()=>{let i=e;return new z(i.base_uri,n,i.session,i.articles,i.short_urls,i.short_url_form_short_code,i.short_url_form_target_url,i.djot_demo_content,i.edit_view_mode,i.profile_menu_open,i.notice,i.debug_use_local_storage,i.delete_confirmation,i.copy_feedback,i.expanded_urls,i.login_form_open,i.login_username,i.login_password,i.login_loading)})(),j()]}else return[(()=>{let r=e;return new z(r.base_uri,n,r.session,r.articles,r.short_urls,r.short_url_form_short_code,r.short_url_form_target_url,r.djot_demo_content,r.edit_view_mode,r.profile_menu_open,r.notice,r.debug_use_local_storage,r.delete_confirmation,r.copy_feedback,r.expanded_urls,r.login_form_open,r.login_username,r.login_password,r.login_loading)})(),j()]}}function Qf(e,t){if(t instanceof bl){let n=t.uri;return xl(e,n)}else if(t instanceof Jt){let n=t.uri;return te("user mouse down navigation","src/jst_lustre.gleam",384),te(n,"src/jst_lustre.gleam",385),[e,ln(ge(n),new g,new g)]}else{if(t instanceof yl)return[(()=>{let n=e;return new z(n.base_uri,n.route,n.session,n.articles,n.short_urls,n.short_url_form_short_code,n.short_url_form_target_url,n.djot_demo_content,n.edit_view_mode,!e.profile_menu_open,n.notice,n.debug_use_local_storage,n.delete_confirmation,n.copy_feedback,n.expanded_urls,n.login_form_open,n.login_username,n.login_password,n.login_loading)})(),j()];if(t instanceof Na)return[(()=>{let n=e;return new z(n.base_uri,n.route,n.session,n.articles,n.short_urls,n.short_url_form_short_code,n.short_url_form_target_url,n.djot_demo_content,n.edit_view_mode,n.profile_menu_open,"",n.debug_use_local_storage,n.delete_confirmation,n.copy_feedback,n.expanded_urls,n.login_form_open,n.login_username,n.login_password,n.login_loading)})(),j()];if(t instanceof Ia){let n=t.opt;if(n instanceof $){let r=n[0];if(r instanceof $n)return[e,j()];{let i=r.articles;return[(()=>{let s=e;return new z(s.base_uri,s.route,s.session,new P(i),s.short_urls,s.short_url_form_short_code,s.short_url_form_target_url,s.djot_demo_content,s.edit_view_mode,s.profile_menu_open,s.notice,s.debug_use_local_storage,s.delete_confirmation,s.copy_feedback,s.expanded_urls,s.login_form_open,s.login_username,s.login_password,s.login_loading)})(),j()]}}else return[e,j()]}else if(t instanceof vl){let n=t.article,r=n.content;if(r instanceof F){let i,s=e.articles;i=We(s,a=>O(a,u=>{if(n.id===u.id){let p=u;return new ae(p.id,p.slug,p.revision,p.author,p.tags,p.published_at,p.title,p.subtitle,p.leading,new V,p.draft)}else return u}));let l=i;return[(()=>{let a=e;return new z(a.base_uri,a.route,a.session,l,a.short_urls,a.short_url_form_short_code,a.short_url_form_target_url,a.djot_demo_content,a.edit_view_mode,a.profile_menu_open,a.notice,a.debug_use_local_storage,a.delete_confirmation,a.copy_feedback,a.expanded_urls,a.login_form_open,a.login_username,a.login_password,a.login_loading)})(),Kn(a=>new Ct(n.id,a),n.id,e.base_uri)]}else return r instanceof V?[e,j()]:r instanceof P?[e,j()]:r instanceof _e?[e,j()]:[e,Kn(i=>new Ct(n.id,i),n.id,e.base_uri)]}else if(t instanceof Ct){let n=t.id,r=t.result;if(r instanceof w){let i=r[0],s=n===i.id;if(!s)throw K("let_assert",to,"jst_lustre",491,"update","Pattern match failed, no pattern matched the value.",{value:s,start:14559,end:14593,pattern_start:14570,pattern_end:14574});let l,a=e.articles;l=We(a,c=>O(c,p=>n===p.id?i:p));let u=l;return[(()=>{let c=e;return new z(c.base_uri,c.route,c.session,u,c.short_urls,c.short_url_form_short_code,c.short_url_form_target_url,c.djot_demo_content,c.edit_view_mode,c.profile_menu_open,c.notice,c.debug_use_local_storage,c.delete_confirmation,c.copy_feedback,c.expanded_urls,c.login_form_open,c.login_username,c.login_password,c.login_loading)})(),j()]}else{let i=r[0],s,l=e.articles;s=We(l,u=>O(u,c=>{if(n===c.id){let d=c;return new ae(d.id,d.slug,d.revision,d.author,d.tags,d.published_at,d.title,d.subtitle,d.leading,new an(i),d.draft)}else return c}));let a=s;return[(()=>{let u=e;return new z(u.base_uri,u.route,u.session,a,u.short_urls,u.short_url_form_short_code,u.short_url_form_target_url,u.djot_demo_content,u.edit_view_mode,u.profile_menu_open,u.notice,u.debug_use_local_storage,u.delete_confirmation,u.copy_feedback,u.expanded_urls,u.login_form_open,u.login_username,u.login_password,u.login_loading)})(),j()]}}else if(t instanceof wn){let n=t.result,r=e.route;if(n instanceof w)if(r instanceof jt){let i=n[0],s=r.slug,l=it(i,a=>a.slug===s);if(l instanceof w)if(l[0].content instanceof F){let u=l[0].id,c=O(i,p=>{if(p.slug===s){let h=p;return new ae(h.id,h.slug,h.revision,h.author,h.tags,h.published_at,h.title,h.subtitle,h.leading,new V,h.draft)}else return p});return[(()=>{let p=e;return new z(p.base_uri,p.route,p.session,new P(c),p.short_urls,p.short_url_form_short_code,p.short_url_form_target_url,p.djot_demo_content,p.edit_view_mode,p.profile_menu_open,p.notice,p.debug_use_local_storage,p.delete_confirmation,p.copy_feedback,p.expanded_urls,p.login_form_open,p.login_username,p.login_password,p.login_loading)})(),Kn(p=>new Ct(u,p),u,e.base_uri)]}else return te("article exists. content is pending or loading.","src/jst_lustre.gleam",457),[e,j()];else return[e,ln((()=>{let a=e.route,u=Ge(a),c=new Rt(u);return Nr(c)})(),new g,new g)]}else if(r instanceof at){let i=n[0],s=r.id;return[(()=>{let l=e;return new z(l.base_uri,l.route,l.session,new P(i),l.short_urls,l.short_url_form_short_code,l.short_url_form_target_url,l.djot_demo_content,l.edit_view_mode,l.profile_menu_open,l.notice,l.debug_use_local_storage,l.delete_confirmation,l.copy_feedback,l.expanded_urls,l.login_form_open,l.login_username,l.login_password,l.login_loading)})(),Kn(l=>new Ct(s,l),s,e.base_uri)]}else{let i=n[0];return[(()=>{let s=e;return new z(s.base_uri,s.route,s.session,new P(i),s.short_urls,s.short_url_form_short_code,s.short_url_form_target_url,s.djot_demo_content,s.edit_view_mode,s.profile_menu_open,s.notice,s.debug_use_local_storage,s.delete_confirmation,s.copy_feedback,s.expanded_urls,s.login_form_open,s.login_username,s.login_password,s.login_loading)})(),j()]}else{let i=n[0];return[(()=>{let s=e;return new z(s.base_uri,s.route,s.session,new an(i),s.short_urls,s.short_url_form_short_code,s.short_url_form_target_url,s.djot_demo_content,s.edit_view_mode,s.profile_menu_open,s.notice,s.debug_use_local_storage,s.delete_confirmation,s.copy_feedback,s.expanded_urls,s.login_form_open,s.login_username,s.login_password,s.login_loading)})(),j()]}}else if(t instanceof kl){let n=t.article,r=t.text;if(n.draft instanceof $){let s=Lr(n,l=>Qc(l,r));return[(()=>{let l=e;return new z(l.base_uri,l.route,l.session,We(e.articles,a=>O(a,u=>n.id===u.id?s:u)),l.short_urls,l.short_url_form_short_code,l.short_url_form_target_url,l.djot_demo_content,l.edit_view_mode,l.profile_menu_open,l.notice,l.debug_use_local_storage,l.delete_confirmation,l.copy_feedback,l.expanded_urls,l.login_form_open,l.login_username,l.login_password,l.login_loading)})(),j()]}else return[e,j()]}else if(t instanceof Al){let n=t.article,r=t.text,i=Lr(n,l=>Xc(l,r)),s=We(e.articles,l=>O(l,a=>n.id===a.id?i:a));return[(()=>{let l=e;return new z(l.base_uri,l.route,l.session,s,l.short_urls,l.short_url_form_short_code,l.short_url_form_target_url,l.djot_demo_content,l.edit_view_mode,l.profile_menu_open,l.notice,l.debug_use_local_storage,l.delete_confirmation,l.copy_feedback,l.expanded_urls,l.login_form_open,l.login_username,l.login_password,l.login_loading)})(),j()]}else if(t instanceof zl){let n=t.article,r=t.text,i=Lr(n,l=>tf(l,r)),s=We(e.articles,l=>O(l,a=>n.id===a.id?i:a));return[(()=>{let l=e;return new z(l.base_uri,l.route,l.session,s,l.short_urls,l.short_url_form_short_code,l.short_url_form_target_url,l.djot_demo_content,l.edit_view_mode,l.profile_menu_open,l.notice,l.debug_use_local_storage,l.delete_confirmation,l.copy_feedback,l.expanded_urls,l.login_form_open,l.login_username,l.login_password,l.login_loading)})(),j()]}else if(t instanceof jl){let n=t.article,r=t.text,i=Lr(n,l=>ef(l,r)),s=We(e.articles,l=>O(l,a=>n.id===a.id?i:a));return[(()=>{let l=e;return new z(l.base_uri,l.route,l.session,s,l.short_urls,l.short_url_form_short_code,l.short_url_form_target_url,l.djot_demo_content,l.edit_view_mode,l.profile_menu_open,l.notice,l.debug_use_local_storage,l.delete_confirmation,l.copy_feedback,l.expanded_urls,l.login_form_open,l.login_username,l.login_password,l.login_loading)})(),j()]}else if(t instanceof Sl){let n=t.article,r=t.content,i=Lr(n,s=>nf(s,r));return[(()=>{let s=e;return new z(s.base_uri,s.route,s.session,We(e.articles,l=>O(l,a=>n.id===a.id?i:a)),s.short_urls,s.short_url_form_short_code,s.short_url_form_target_url,s.djot_demo_content,s.edit_view_mode,s.profile_menu_open,s.notice,s.debug_use_local_storage,s.delete_confirmation,s.copy_feedback,s.expanded_urls,s.login_form_open,s.login_username,s.login_password,s.login_loading)})(),j()]}else if(t instanceof Gr){let n=t.id,r=t.result;if(r instanceof w){let i=r[0],s=We(e.articles,l=>O(l,a=>n===a.id?i:a));return[(()=>{let l=e;return new z(l.base_uri,l.route,l.session,s,l.short_urls,l.short_url_form_short_code,l.short_url_form_target_url,l.djot_demo_content,l.edit_view_mode,l.profile_menu_open,l.notice,l.debug_use_local_storage,l.delete_confirmation,l.copy_feedback,l.expanded_urls,l.login_form_open,l.login_username,l.login_password,l.login_loading)})(),j()]}else{let i=r[0];return te("article update response error","src/jst_lustre.gleam",746),te(i,"src/jst_lustre.gleam",747),[e,j()]}}else if(t instanceof El){let n=t.article,r=n.draft;if(r instanceof $){let i=r[0],s,l=n;s=new ae(l.id,Hs(i),l.revision,l.author,l.tags,l.published_at,Gs(i),Js(i),Ci(i),new P(Bi(i)),new $(i));let a=s,u=We(e.articles,c=>O(c,p=>n.id===p.id?a:p));return[(()=>{let c=e;return new z(c.base_uri,c.route,c.session,u,c.short_urls,c.short_url_form_short_code,c.short_url_form_target_url,c.djot_demo_content,c.edit_view_mode,c.profile_menu_open,c.notice,c.debug_use_local_storage,c.delete_confirmation,c.copy_feedback,c.expanded_urls,c.login_form_open,c.login_username,c.login_password,c.login_loading)})(),Ln(o([sl(c=>new Gr(a.id,c),a,e.base_uri),ln((()=>{let c=ul(new Ht(a,e.session));return ge(c)})(),new g,new g)]))]}else return[e,j()]}else if(t instanceof Tl){let n=t.article;te("article draft discard clicked","src/jst_lustre.gleam",665);let r=We(e.articles,i=>O(i,s=>{if(n.id===s.id){let a=n;return new ae(a.id,a.slug,a.revision,a.author,a.tags,a.published_at,a.title,a.subtitle,a.leading,a.content,new g)}else return s}));return[(()=>{let i=e;return new z(i.base_uri,i.route,i.session,r,i.short_urls,i.short_url_form_short_code,i.short_url_form_target_url,i.djot_demo_content,i.edit_view_mode,i.profile_menu_open,i.notice,i.debug_use_local_storage,i.delete_confirmation,i.copy_feedback,i.expanded_urls,i.login_form_open,i.login_username,i.login_password,i.login_loading)})(),ln((()=>{let i=ul(new Ht(n,e.session));return ge(i)})(),new g,new g)]}else if(t instanceof Xi){te("article create clicked","src/jst_lustre.gleam",840);let n=new ae("","new-article",1,"current-user",o([]),new g,"New Article","A new article subtitle","This is a new article. Start editing to customize it.",new P(`# New Article

Start writing your article content here...`),new g);return[e,gf(r=>new ql(r),n,e.base_uri)]}else if(t instanceof ql){let n=t.result;if(n instanceof w){let r=n[0];te("article created successfully with id: "+r.id,"src/jst_lustre.gleam",872);let i,s=e.articles;if(s instanceof P){let a=s[0];i=new P(b(r,a))}else i=s;let l=i;return[(()=>{let a=e;return new z(a.base_uri,a.route,a.session,l,a.short_urls,a.short_url_form_short_code,a.short_url_form_target_url,a.djot_demo_content,a.edit_view_mode,a.profile_menu_open,a.notice,a.debug_use_local_storage,a.delete_confirmation,a.copy_feedback,a.expanded_urls,a.login_form_open,a.login_username,a.login_password,a.login_loading)})(),ln((()=>{let a=new at(r.id),u=Ge(a);return ge(u)})(),new g,new g)]}else{let r=n[0];return te("article creation error","src/jst_lustre.gleam",892),te(r,"src/jst_lustre.gleam",893),[e,j()]}}else if(t instanceof Cl){let n=t.article;return te("article delete clicked","src/jst_lustre.gleam",900),[e,Ln(o([wf(r=>new Bl(n.id,r),n.id,e.base_uri),ln((()=>{let r=new ot,i=Ge(r);return ge(i)})(),new g,new g)]))]}else if(t instanceof Bl){let n=t.id,r=t.result;if(r instanceof w){let i=We(e.articles,s=>pt(s,l=>l.id!==n));return[(()=>{let s=e;return new z(s.base_uri,s.route,s.session,i,s.short_urls,s.short_url_form_short_code,s.short_url_form_target_url,s.djot_demo_content,s.edit_view_mode,s.profile_menu_open,s.notice,s.debug_use_local_storage,s.delete_confirmation,s.copy_feedback,s.expanded_urls,s.login_form_open,s.login_username,s.login_password,s.login_loading)})(),j()]}else{let i=r[0];return te("article delete response error","src/jst_lustre.gleam",928),te(i,"src/jst_lustre.gleam",929),[e,j()]}}else if(t instanceof Pl){let n=t.article;te("article publish clicked","src/jst_lustre.gleam",935);let r,i=n;return r=new ae(i.id,i.slug,i.revision,i.author,i.tags,new $(Ju()),i.title,i.subtitle,i.leading,i.content,i.draft),[e,sl(l=>new Gr(n.id,l),r,e.base_uri)]}else if(t instanceof Ll){let n=t.article;return te("article unpublish clicked","src/jst_lustre.gleam",947),[e,sl(r=>new Gr(n.id,r),(()=>{let r=n;return new ae(r.id,r.slug,r.revision,r.author,r.tags,new g,r.title,r.subtitle,r.leading,r.content,r.draft)})(),e.base_uri)]}else if(t instanceof Ma){let n=t.username,r=t.password;return[(()=>{let i=e;return new z(i.base_uri,i.route,new Jn,i.articles,i.short_urls,i.short_url_form_short_code,i.short_url_form_target_url,i.djot_demo_content,i.edit_view_mode,i.profile_menu_open,"login, CLICK",i.debug_use_local_storage,i.delete_confirmation,i.copy_feedback,i.expanded_urls,i.login_form_open,i.login_username,i.login_password,i.login_loading)})(),$a(i=>new Zi(i),n,r,e.base_uri)]}else if(t instanceof Zi){let n=t.result;if(n instanceof w){let r=n[0];return[(()=>{let i=e;return new z(i.base_uri,i.route,r,i.articles,i.short_urls,i.short_url_form_short_code,i.short_url_form_target_url,i.djot_demo_content,i.edit_view_mode,i.profile_menu_open,"Successfully logged in",i.debug_use_local_storage,i.delete_confirmation,i.copy_feedback,i.expanded_urls,!1,"","",!1)})(),j()]}else{let r=n[0];return te(r,"src/jst_lustre.gleam",774),[(()=>{let i=e;return new z(i.base_uri,i.route,new He,i.articles,i.short_urls,i.short_url_form_short_code,i.short_url_form_target_url,i.djot_demo_content,i.edit_view_mode,i.profile_menu_open,"Login failed. Please check your credentials.",i.debug_use_local_storage,i.delete_confirmation,i.copy_feedback,i.expanded_urls,i.login_form_open,i.login_username,i.login_password,!1)})(),j()]}}else{if(t instanceof es)return[(()=>{let n=e;return new z(n.base_uri,n.route,new He,n.articles,n.short_urls,n.short_url_form_short_code,n.short_url_form_target_url,n.djot_demo_content,n.edit_view_mode,n.profile_menu_open,n.notice,n.debug_use_local_storage,n.delete_confirmation,n.copy_feedback,n.expanded_urls,n.login_form_open,n.login_username,n.login_password,n.login_loading)})(),df(n=>new Nl(n),e.base_uri)];if(t instanceof Nl)return[(()=>{let n=e;return new z(n.base_uri,n.route,new He,n.articles,n.short_urls,n.short_url_form_short_code,n.short_url_form_target_url,n.djot_demo_content,n.edit_view_mode,n.profile_menu_open,n.notice,n.debug_use_local_storage,n.delete_confirmation,n.copy_feedback,n.expanded_urls,n.login_form_open,n.login_username,n.login_password,n.login_loading)})(),j()];if(t instanceof Il)return[(()=>{let n=e;return new z(n.base_uri,n.route,n.session,n.articles,n.short_urls,n.short_url_form_short_code,n.short_url_form_target_url,n.djot_demo_content,n.edit_view_mode,n.profile_menu_open,"auth check, CLICK",n.debug_use_local_storage,n.delete_confirmation,n.copy_feedback,n.expanded_urls,n.login_form_open,n.login_username,n.login_password,n.login_loading)})(),ma(n=>new ts(n),e.base_uri)];if(t instanceof ts){let n=t.result;if(n instanceof w){let r=n[0];return[(()=>{let i=e;return new z(i.base_uri,i.route,r,i.articles,i.short_urls,i.short_url_form_short_code,i.short_url_form_target_url,i.djot_demo_content,i.edit_view_mode,i.profile_menu_open,"auth check, OK",i.debug_use_local_storage,i.delete_confirmation,i.copy_feedback,i.expanded_urls,i.login_form_open,i.login_username,i.login_password,i.login_loading)})(),j()]}else{let r=n[0];return te("session check response error","src/jst_lustre.gleam",808),te(r,"src/jst_lustre.gleam",809),[(()=>{let i=e;return new z(i.base_uri,i.route,new He,i.articles,i.short_urls,i.short_url_form_short_code,i.short_url_form_target_url,i.djot_demo_content,i.edit_view_mode,i.profile_menu_open,"auth check, ERROR",i.debug_use_local_storage,i.delete_confirmation,i.copy_feedback,i.expanded_urls,i.login_form_open,i.login_username,i.login_password,i.login_loading)})(),j()]}}else if(t instanceof Ml){let n=t.content;return[(()=>{let r=e;return new z(r.base_uri,r.route,r.session,r.articles,r.short_urls,r.short_url_form_short_code,r.short_url_form_target_url,n,r.edit_view_mode,r.profile_menu_open,r.notice,r.debug_use_local_storage,r.delete_confirmation,r.copy_feedback,r.expanded_urls,r.login_form_open,r.login_username,r.login_password,r.login_loading)})(),j()]}else if(t instanceof Ol){let n=t.short_code,r=t.target_url,s=Yi(r)[0],l=e.session;if(s)if(l instanceof Dt){let a=new hl(n,r);return[e,Jf(u=>new Ul(u),e.base_uri,a)]}else return[e,j()];else return[e,j()]}else if(t instanceof Ul){let n=t.result;if(n instanceof w){let r=n[0],i,s=e.short_urls;if(s instanceof F)i=new P(o([r]));else if(s instanceof V)i=new P(o([r]));else if(s instanceof P){let a=s[0];i=new P(b(r,a))}else s instanceof _e?i=new P(o([r])):i=new P(o([r]));let l=i;return[(()=>{let a=e;return new z(a.base_uri,a.route,a.session,a.articles,l,a.short_url_form_short_code,a.short_url_form_target_url,a.djot_demo_content,a.edit_view_mode,a.profile_menu_open,a.notice,a.debug_use_local_storage,a.delete_confirmation,a.copy_feedback,a.expanded_urls,a.login_form_open,a.login_username,a.login_password,a.login_loading)})(),j()]}else{let r=n[0];return[(()=>{let i=e;return new z(i.base_uri,i.route,i.session,i.articles,new an(r),i.short_url_form_short_code,i.short_url_form_target_url,i.djot_demo_content,i.edit_view_mode,i.profile_menu_open,i.notice,i.debug_use_local_storage,i.delete_confirmation,i.copy_feedback,i.expanded_urls,i.login_form_open,i.login_username,i.login_password,i.login_loading)})(),j()]}}else if(t instanceof Dl){let n=t.result;if(n instanceof w){let r=n[0];return[(()=>{let i=e;return new z(i.base_uri,i.route,i.session,i.articles,new P(r.short_urls),i.short_url_form_short_code,i.short_url_form_target_url,i.djot_demo_content,i.edit_view_mode,i.profile_menu_open,i.notice,i.debug_use_local_storage,i.delete_confirmation,i.copy_feedback,i.expanded_urls,i.login_form_open,i.login_username,i.login_password,i.login_loading)})(),j()]}else{let r=n[0];return[(()=>{let i=e;return new z(i.base_uri,i.route,i.session,i.articles,new an(r),i.short_url_form_short_code,i.short_url_form_target_url,i.djot_demo_content,i.edit_view_mode,i.profile_menu_open,i.notice,i.debug_use_local_storage,i.delete_confirmation,i.copy_feedback,i.expanded_urls,i.login_form_open,i.login_username,i.login_password,i.login_loading)})(),j()]}}else if(t instanceof ns){let n=t.id;return[(()=>{let r=e;return new z(r.base_uri,r.route,r.session,r.articles,r.short_urls,r.short_url_form_short_code,r.short_url_form_target_url,r.djot_demo_content,r.edit_view_mode,r.profile_menu_open,r.notice,r.debug_use_local_storage,new $(n),r.copy_feedback,r.expanded_urls,r.login_form_open,r.login_username,r.login_password,r.login_loading)})(),j()]}else if(t instanceof Fl){let n=t.id;if(t.result instanceof w){let i,s=e.short_urls;if(s instanceof F)i=new F;else if(s instanceof V)i=new V;else if(s instanceof P){let a=s[0];i=new P(pt(a,u=>u.id!==n))}else s instanceof _e?i=new F:i=new F;let l=i;return[(()=>{let a=e;return new z(a.base_uri,a.route,a.session,a.articles,l,a.short_url_form_short_code,a.short_url_form_target_url,a.djot_demo_content,a.edit_view_mode,a.profile_menu_open,a.notice,a.debug_use_local_storage,a.delete_confirmation,a.copy_feedback,a.expanded_urls,a.login_form_open,a.login_username,a.login_password,a.login_loading)})(),ln(ge(Ge(new tt)),new g,new g)]}else return[e,j()]}else if(t instanceof Rl){let n=t.id;return[(()=>{let r=e;return new z(r.base_uri,r.route,r.session,r.articles,r.short_urls,r.short_url_form_short_code,r.short_url_form_target_url,r.djot_demo_content,r.edit_view_mode,r.profile_menu_open,r.notice,r.debug_use_local_storage,new g,r.copy_feedback,r.expanded_urls,r.login_form_open,r.login_username,r.login_password,r.login_loading)})(),Vf(r=>new Fl(n,r),e.base_uri,n)]}else{if(t instanceof Wl)return[(()=>{let n=e;return new z(n.base_uri,n.route,n.session,n.articles,n.short_urls,n.short_url_form_short_code,n.short_url_form_target_url,n.djot_demo_content,n.edit_view_mode,n.profile_menu_open,n.notice,n.debug_use_local_storage,new g,n.copy_feedback,n.expanded_urls,n.login_form_open,n.login_username,n.login_password,n.login_loading)})(),j()];if(t instanceof Hl){let n=t.text;return[(()=>{let r=e;return new z(r.base_uri,r.route,r.session,r.articles,r.short_urls,n,r.short_url_form_target_url,r.djot_demo_content,r.edit_view_mode,r.profile_menu_open,r.notice,r.debug_use_local_storage,r.delete_confirmation,r.copy_feedback,r.expanded_urls,r.login_form_open,r.login_username,r.login_password,r.login_loading)})(),j()]}else if(t instanceof Gl){let n=t.text;return[(()=>{let r=e;return new z(r.base_uri,r.route,r.session,r.articles,r.short_urls,r.short_url_form_short_code,n,r.djot_demo_content,r.edit_view_mode,r.profile_menu_open,r.notice,r.debug_use_local_storage,r.delete_confirmation,r.copy_feedback,r.expanded_urls,r.login_form_open,r.login_username,r.login_password,r.login_loading)})(),j()]}else if(t instanceof ar){let n=t.short_code,r="u.jst.dev/"+n;return Hc(r),[(()=>{let i=e;return new z(i.base_uri,i.route,i.session,i.articles,i.short_urls,i.short_url_form_short_code,i.short_url_form_target_url,i.djot_demo_content,i.edit_view_mode,i.profile_menu_open,i.notice,i.debug_use_local_storage,i.delete_confirmation,new $(n),i.expanded_urls,i.login_form_open,i.login_username,i.login_password,i.login_loading)})(),It(i=>Gc(()=>i(new Jl),2e3))]}else{if(t instanceof Jl)return[(()=>{let n=e;return new z(n.base_uri,n.route,n.session,n.articles,n.short_urls,n.short_url_form_short_code,n.short_url_form_target_url,n.djot_demo_content,n.edit_view_mode,n.profile_menu_open,n.notice,n.debug_use_local_storage,n.delete_confirmation,new g,n.expanded_urls,n.login_form_open,n.login_username,n.login_password,n.login_loading)})(),j()];if(t instanceof ur){let n=t.id,r=t.is_active,i=new wl(n,new $(!r));return[e,Yf(s=>new Kl(n,s),e.base_uri,i)]}else if(t instanceof Kl){let n=t.id,r=t.result;if(r instanceof w){let i=r[0],s,l=e.short_urls;if(l instanceof F)s=new F;else if(l instanceof V)s=new V;else if(l instanceof P){let u=l[0];s=new P(O(u,c=>c.id===n?i:c))}else l instanceof _e?s=new F:s=new F;let a=s;return[(()=>{let u=e;return new z(u.base_uri,u.route,u.session,u.articles,a,u.short_url_form_short_code,u.short_url_form_target_url,u.djot_demo_content,u.edit_view_mode,u.profile_menu_open,u.notice,u.debug_use_local_storage,u.delete_confirmation,u.copy_feedback,u.expanded_urls,u.login_form_open,u.login_username,u.login_password,u.login_loading)})(),j()]}else{let i=r[0];return[(()=>{let s=e;return new z(s.base_uri,s.route,s.session,s.articles,new an(i),s.short_url_form_short_code,s.short_url_form_target_url,s.djot_demo_content,s.edit_view_mode,s.profile_menu_open,s.notice,s.debug_use_local_storage,s.delete_confirmation,s.copy_feedback,s.expanded_urls,s.login_form_open,s.login_username,s.login_password,s.login_loading)})(),j()]}}else if(t instanceof gn){let n=t.id,r;Mo(e.expanded_urls,n)?r=Vu(e.expanded_urls,n):r=Oo(e.expanded_urls,n);let s=r;return[(()=>{let l=e;return new z(l.base_uri,l.route,l.session,l.articles,l.short_urls,l.short_url_form_short_code,l.short_url_form_target_url,l.djot_demo_content,l.edit_view_mode,l.profile_menu_open,l.notice,l.debug_use_local_storage,l.delete_confirmation,l.copy_feedback,s,l.login_form_open,l.login_username,l.login_password,l.login_loading)})(),j()]}else if(t instanceof Vl){let n;e.edit_view_mode instanceof hn?n=new Qi:n=new hn;let i=n;return[(()=>{let s=e;return new z(s.base_uri,s.route,s.session,s.articles,s.short_urls,s.short_url_form_short_code,s.short_url_form_target_url,s.djot_demo_content,i,s.profile_menu_open,s.notice,s.debug_use_local_storage,s.delete_confirmation,s.copy_feedback,s.expanded_urls,s.login_form_open,s.login_username,s.login_password,s.login_loading)})(),j()]}else if(t instanceof rs){if(e.debug_use_local_storage)zr(Hr,"");else{let r=new Wr((()=>{let i=e.articles;return i instanceof F?o([]):i instanceof V?o([]):i instanceof P?i[0]:i instanceof _e?o([]):o([])})());zr(Hr,ml(r))}return[(()=>{let r=e;return new z(r.base_uri,r.route,r.session,r.articles,r.short_urls,r.short_url_form_short_code,r.short_url_form_target_url,r.djot_demo_content,r.edit_view_mode,r.profile_menu_open,r.notice,!e.debug_use_local_storage,r.delete_confirmation,r.copy_feedback,r.expanded_urls,r.login_form_open,r.login_username,r.login_password,r.login_loading)})(),j()]}else if(t instanceof Yl){let n=t.res;te("GotLocalModelResult called","src/jst_lustre.gleam",322),te(n,"src/jst_lustre.gleam",323);let r=Ge(e.route);if(n instanceof $){let i=n[0];if(i instanceof $n)return xl(e,r);{let s=i.articles;return xl((()=>{let l=e;return new z(l.base_uri,l.route,l.session,new P(s),l.short_urls,l.short_url_form_short_code,l.short_url_form_target_url,l.djot_demo_content,l.edit_view_mode,l.profile_menu_open,l.notice,!0,l.delete_confirmation,l.copy_feedback,l.expanded_urls,l.login_form_open,l.login_username,l.login_password,l.login_loading)})(),r)}}else{let i,s=e;i=new z(s.base_uri,s.route,s.session,s.articles,s.short_urls,s.short_url_form_short_code,s.short_url_form_target_url,s.djot_demo_content,s.edit_view_mode,s.profile_menu_open,s.notice,!1,s.delete_confirmation,s.copy_feedback,s.expanded_urls,s.login_form_open,s.login_username,s.login_password,s.login_loading);let a=xl(i,r);return D$(a)}}else{if(t instanceof or)return[(()=>{let n=e;return new z(n.base_uri,n.route,n.session,n.articles,n.short_urls,n.short_url_form_short_code,n.short_url_form_target_url,n.djot_demo_content,n.edit_view_mode,n.profile_menu_open,n.notice,n.debug_use_local_storage,n.delete_confirmation,n.copy_feedback,n.expanded_urls,!e.login_form_open,"","",n.login_loading)})(),j()];if(t instanceof Zl){let n=t[0];return[(()=>{let r=e;return new z(r.base_uri,r.route,r.session,r.articles,r.short_urls,r.short_url_form_short_code,r.short_url_form_target_url,r.djot_demo_content,r.edit_view_mode,r.profile_menu_open,r.notice,r.debug_use_local_storage,r.delete_confirmation,r.copy_feedback,r.expanded_urls,r.login_form_open,n,r.login_password,r.login_loading)})(),j()]}else if(t instanceof Ql){let n=t[0];return[(()=>{let r=e;return new z(r.base_uri,r.route,r.session,r.articles,r.short_urls,r.short_url_form_short_code,r.short_url_form_target_url,r.djot_demo_content,r.edit_view_mode,r.profile_menu_open,r.notice,r.debug_use_local_storage,r.delete_confirmation,r.copy_feedback,r.expanded_urls,r.login_form_open,r.login_username,n,r.login_loading)})(),j()]}else{let n=e.login_username,r=e.login_password;if(n==="")return[e,j()];if(r==="")return[e,j()];{let i=n,s=r;return[(()=>{let l=e;return new z(l.base_uri,l.route,new Jn,l.articles,l.short_urls,l.short_url_form_short_code,l.short_url_form_target_url,l.djot_demo_content,l.edit_view_mode,l.profile_menu_open,l.notice,l.debug_use_local_storage,l.delete_confirmation,l.copy_feedback,l.expanded_urls,l.login_form_open,l.login_username,l.login_password,!0)})(),$a(l=>new Zi(l),i,s,e.base_uri)]}}}}}}}}function F$(e,t){if(e.debug_use_local_storage){let r=Qf(e,t),i=r[0],s=r[1],l=a=>new Wr((()=>{let u=a.articles;return u instanceof F?o([]):u instanceof V?o([]):u instanceof P?u[0]:u instanceof _e?o([]):o([])})());return t instanceof Ct?zr(Hr,ml(l(i))):t instanceof wn&&zr(Hr,ml(l(i))),[i,s]}else return Qf(e,t)}function R$(e){let t=e.route;if(t instanceof Wt)return new Vn;if(t instanceof ot){let n=e.articles;if(n instanceof F)return new we(new Dr("articles not initialized"));if(n instanceof V)return new fn;if(n instanceof P){let r=n[0];return new Yn(r,e.session)}else if(n instanceof _e){let r=n[0];return new Yn(r,e.session)}else{let r=n[0];return new we(new pn(r,"Failed to load article list"))}}else if(t instanceof jt){let n=t.slug,r=e.articles;if(r instanceof F)return new we(new Dr("articles not initialized"));if(r instanceof V)return new fn;if(r instanceof P){let i=r[0],s=it(i,l=>l.slug===n);if(s instanceof w){let l=s[0];return new Ht(l,e.session)}else return new we(new Zn(n,Aa(i)))}else if(r instanceof _e){let i=r[0],s=it(i,l=>l.slug===n);if(s instanceof w){let l=s[0];return new Ht(l,e.session)}else return new we(new Zn(n,Aa(i)))}else{let i=r[0];return new we(new pn(i,"Failed to load articles"))}}else if(t instanceof at){let n=t.id,r=e.articles;if(r instanceof F)return new we(new Dr("articles not initialized"));if(r instanceof V)return new fn;if(r instanceof P){let i=r[0],s=it(i,l=>l.id===n);if(s instanceof w){let l=s[0],a=Mi(l,e.session),u=l.draft;return a?u instanceof $?new Tt(l):new Tt((()=>{let c=l;return new ae(c.id,c.slug,c.revision,c.author,c.tags,c.published_at,c.title,c.subtitle,c.leading,c.content,Br(l))})()):new we(new Xn("edit article"))}else return new we(new Qn(n))}else if(r instanceof _e){let i=r[0],s=it(i,l=>l.id===n);if(s instanceof w){let l=s[0],a=Mi(l,e.session),u=l.draft;return a?u instanceof $?new Tt(l):new Tt((()=>{let c=l;return new ae(c.id,c.slug,c.revision,c.author,c.tags,c.published_at,c.title,c.subtitle,c.leading,c.content,Br(l))})()):new we(new Xn("edit article"))}else return new we(new Qn(n))}else{let i=r[0];return new we(new pn(i,"Failed to load articles for editing"))}}else{if(t instanceof St)return new Or;if(t instanceof Et)return new Wi(e.djot_demo_content);if(t instanceof tt)return new Ir;if(t instanceof cn){let n=t[0];return new Mr(n)}else{let n=t.uri;return new Ur(n)}}}function Ba(e){return te(e,"src/jst_lustre.gleam",1407),ie()}function W$(e){return x(o([]),o([kf(new or),Af("Sign In",o([va("Username",e.login_username,"Enter your username","text",!0,new g,t=>new Zl(t)),va("Password",e.login_password,"Enter your password","password",!0,new g,t=>new Ql(t))]),o([al("Cancel",!1,new or),un(e.login_loading?"Signing In...":"Sign In",new zt,e.login_username===""||e.login_password==="",new Oa)]),new or)]))}function Pa(e){return e.login_form_open?W$(e):ie()}function H$(){let e=le("/article/nats-all-the-way-down");if(!(e instanceof w))throw K("let_assert",to,"jst_lustre",1699,"view_index","Pattern match failed, no pattern matched the value.",{value:e,start:54253,end:54322,pattern_start:54264,pattern_end:54276});let t=e[0];return o([yf("Welcome to jst.dev!",new $("...or, A lesson on overengineering for fun and... well just for fun.")),Sf(o([x(o([f("prose prose-lg text-zinc-300 max-w-none")]),o([se(o([f("text-xl leading-relaxed mb-8")]),o([m(`This site and its underlying IT infrastructure is the primary 
            place for me to experiment with technologies and topologies. I 
            also share some of my thoughts and learnings here.`)])),se(o([f("mb-6")]),o([m(`This site and its underlying IT infrastructure is the primary 
            place for me to experiment with technologies and topologies. I 
            also share some of my thoughts and learnings here. Feel free to 
            check out my overview: `),jf("NATS all the way down \u2192",new Jt(t))])),se(o([f("mb-6")]),o([m("It too is a work in progress and I mostly keep it here for my own reference.")])),se(o([f("mb-6")]),o([m(`I'm a software developer and writer, exploring modern technologies 
            and sharing insights from my experiments. This space serves as both 
            a playground for new ideas and a platform for documenting the journey.`)]))]))]))])}function G$(){return o([ba("Loading page...")])}function J$(){return x(o([f("mt-8 p-4 bg-zinc-800 rounded-lg border border-zinc-700")]),o([de(o([f("text-lg text-pink-700 font-light")]),o([m("Djot Quick Reference")])),se(o([f("text-zinc-300 mb-6")]),o([Ti(o([]),o([m("Note: ")])),m("This editor uses Djot format. See the "),Rn(o([Un("https://htmlpreview.github.io/?https://github.com/jgm/djot/blob/master/doc/syntax.html"),f("text-zinc-300 underline")]),o([m("djot syntax documentation")])),m(" for complete details.")])),x(o([f("grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 text-sm")]),o([x(o([]),o([Ae(o([f("text-pink-700 font-medium mb-2")]),o([m("Headings")])),be(o([f("text-zinc-300")]),o([ze(o([f("text-zinc-300")]),o([m(`# H1
## H2
### H3`)]))]))])),x(o([]),o([Ae(o([f("text-pink-700 font-medium mb-2")]),o([m("Text")])),be(o([f("text-zinc-300")]),o([ze(o([f("text-zinc-300")]),o([m("_italic_\n*bold*\n`code`")]))]))])),x(o([]),o([Ae(o([f("text-pink-700 font-medium mb-2")]),o([m("Lists")])),be(o([f("text-zinc-300")]),o([ze(o([f("text-zinc-300")]),o([m(`- item 1
- item 2

  - nested`)]))]))])),x(o([]),o([Ae(o([f("text-pink-700 font-medium mb-2")]),o([m("Links")])),be(o([f("text-zinc-300")]),o([ze(o([f("text-zinc-300")]),o([m(`[text](url)
[text](url){title="tooltip"}`)]))]))])),x(o([]),o([Ae(o([f("text-pink-700 font-medium mb-2")]),o([m("Code Blocks")])),be(o([f("text-zinc-300")]),o([ze(o([f("text-zinc-300")]),o([m("```\ncode here\n```")]))]))])),x(o([]),o([Ae(o([f("text-pink-700 font-medium mb-2")]),o([m("Blockquotes")])),be(o([f("text-zinc-300")]),o([ze(o([f("text-zinc-300")]),o([m("> quoted text")]))]))]))]))]))}function Xf(e,t,n,r,i){let s=f("block text-sm font-medium text-zinc-400 mb-1"),l;t instanceof Ua?l=f("w-full bg-zinc-800 border border-zinc-600 rounded-md p-2 font-light text-zinc-100 focus:border-pink-700 focus:ring-1 focus:ring-pink-700 focus:outline-none transition-colors duration-200"):t instanceof Xl?l=f("w-full bg-zinc-800 border border-zinc-600 rounded-md p-2 text-3xl text-pink-700 font-light focus:border-pink-700 focus:ring-1 focus:ring-pink-700 focus:outline-none transition-colors duration-200"):t instanceof eo?l=f("w-full bg-zinc-800 border border-zinc-600 rounded-md p-2 text-md text-zinc-500 font-light focus:border-pink-700 focus:ring-1 focus:ring-pink-700 focus:outline-none transition-colors duration-200"):l=f("w-full bg-zinc-800 border border-zinc-600 rounded-md p-2 font-bold text-zinc-100 focus:border-pink-700 focus:ring-1 focus:ring-pink-700 focus:outline-none transition-colors duration-200");let a=l;return x(o([f("mb-4")]),o([Mt(o([s]),o([m(e)])),Wn(o([a,bt(n),nn("edit-"+i+"-"+e),vt(r)]))]))}function K$(e){return x(o([f("mt-8 p-6 bg-zinc-800 rounded-lg border border-zinc-700")]),o([de(o([f("text-lg text-pink-700 font-light mb-4")]),o([m("Create Short URL")])),x(o([f("space-y-4")]),o([x(o([]),o([Mt(o([f("block text-sm font-medium text-zinc-300 mb-2")]),o([m("Target URL")])),Wn(o([f(Yi(e.short_url_form_target_url)[1]instanceof $?"w-full px-3 py-2 bg-zinc-700 border border-red-500 rounded-md text-zinc-100 focus:outline-none focus:border-red-400":"w-full px-3 py-2 bg-zinc-700 border border-zinc-600 rounded-md text-zinc-100 focus:outline-none focus:border-pink-500"),sn("https://example.com"),xi("url"),bt(e.short_url_form_target_url),vt(t=>new Gl(t))])),(()=>{let t=Yi(e.short_url_form_target_url),n=t[1];if(n instanceof $){let r=n[0];return se(o([f("text-xs text-red-400 mt-1")]),o([m(r)]))}else return t[0]?se(o([f("text-xs text-green-400 mt-1")]),o([m("\u2713 Valid URL")])):ie()})()])),x(o([]),o([Mt(o([f("block text-sm font-medium text-zinc-300 mb-2")]),o([m("Short Code"),I(o([f("text-xs text-zinc-500 font-normal ml-2")]),o([m("(optional)")]))])),Wn(o([f("w-full px-3 py-2 bg-zinc-700 border border-zinc-600 rounded-md text-zinc-100 focus:outline-none focus:border-pink-500"),sn("Leave empty for random code"),xi("text"),bt(e.short_url_form_short_code),vt(t=>new Hl(t))])),se(o([f("text-xs text-zinc-500 mt-1")]),o([m("Only fill this if you want a specific short code. Otherwise, a random one will be generated.")]))])),H(o([f((()=>{let t=Yi(e.short_url_form_target_url);return t[1]instanceof g&&t[0]?"w-full px-4 py-2 bg-pink-600 text-white rounded-md hover:bg-pink-700 transition-colors":"w-full px-4 py-2 bg-gray-600 text-gray-300 rounded-md cursor-not-allowed"})()),On((()=>{let t=Yi(e.short_url_form_target_url);return t[1]instanceof g?!t[0]:!0})()),U(new Ol(e.short_url_form_short_code,e.short_url_form_target_url))]),o([m("Create Short URL")]))]))]))}function V$(e,t){return Ns(o([f("bg-zinc-800 border border-zinc-700 rounded-lg transition-colors")]),o([x(o([f("flex items-center justify-between p-4")]),o([x(o([f("flex items-center space-x-4 flex-1 min-w-0")]),o([H(o([f("font-mono text-sm font-medium text-zinc-100 hover:text-pink-300 transition-colors cursor-pointer"),U(new ar(t.short_code)),rn("Click to copy short URL")]),o([I(o([f("text-zinc-500")]),o([m("u.jst.dev/")])),I(o([f("text-pink-400")]),o([m(t.short_code)])),B(e.copy_feedback,new $(t.short_code))?I(o([f("ml-2 text-green-400 text-xs")]),o([m("\u2713 Copied!")])):ie()])),x(o([f("text-sm text-zinc-400 truncate flex-1 cursor-pointer hover:text-zinc-300 transition-colors"),rn(t.target_url),U(new gn(t.id))]),o([I(o([f("text-zinc-600")]),o([m("\u2192 ")])),m(t.target_url)])),H(o([f(t.is_active?"inline-flex shrink-0 items-center rounded-full bg-green-600/20 px-2 py-1 text-xs font-medium text-green-400 ring-1 ring-inset ring-green-600/30 cursor-pointer hover:bg-green-600/30 transition-colors":"inline-flex shrink-0 items-center rounded-full bg-red-600/20 px-2 py-1 text-xs font-medium text-red-400 ring-1 ring-inset ring-red-600/30 cursor-pointer hover:bg-red-600/30 transition-colors"),U(new ur(t.id,t.is_active)),rn("Toggle active/inactive")]),o([m(t.is_active?"Active":"Inactive")])),x(o([f("text-xs text-zinc-500 shrink-0 cursor-pointer hover:text-zinc-400 transition-colors"),U(new gn(t.id))]),o([m(D(t.access_count)+" clicks")]))])),x(o([f("flex items-center space-x-2 ml-4 cursor-pointer hover:text-zinc-300 transition-colors"),U(new gn(t.id))]),o([x(o([f("text-zinc-500 text-sm")]),o([m("\u25BC")]))]))]))]))}function Y$(e,t){return Ns(o([f("bg-zinc-800 border border-zinc-700 rounded-lg transition-colors")]),o([x(o([f("flex items-center justify-between p-4")]),o([x(o([f("flex items-center space-x-4 flex-1 min-w-0")]),o([H(o([f("font-mono text-sm font-medium text-zinc-100 hover:text-pink-300 transition-colors cursor-pointer"),U(new ar(t.short_code)),rn("Click to copy short URL")]),o([I(o([f("text-zinc-500")]),o([m("u.jst.dev/")])),I(o([f("text-pink-400")]),o([m(t.short_code)])),B(e.copy_feedback,new $(t.short_code))?I(o([f("ml-2 text-green-400 text-xs")]),o([m("\u2713 Copied!")])):ie()])),x(o([f("text-sm text-zinc-400 truncate flex-1"),rn(t.target_url)]),o([I(o([f("text-zinc-600")]),o([m("\u2192 ")])),m(t.target_url)])),H(o([f(t.is_active?"inline-flex shrink-0 items-center rounded-full bg-green-600/20 px-2 py-1 text-xs font-medium text-green-400 ring-1 ring-inset ring-green-600/30 cursor-pointer hover:bg-green-600/30 transition-colors":"inline-flex shrink-0 items-center rounded-full bg-red-600/20 px-2 py-1 text-xs font-medium text-red-400 ring-1 ring-inset ring-red-600/30 cursor-pointer hover:bg-red-600/30 transition-colors"),U(new ur(t.id,t.is_active)),rn("Toggle active/inactive")]),o([m(t.is_active?"Active":"Inactive")])),x(o([f("text-xs text-zinc-500 shrink-0")]),o([m(D(t.access_count)+" clicks")]))])),x(o([f("flex items-center space-x-2 ml-4 cursor-pointer hover:text-zinc-300 transition-colors"),U(new gn(t.id))]),o([x(o([f("text-zinc-500 text-sm")]),o([m("\u25B2")]))]))])),x(o([f("px-4 pb-4")]),o([x(o([f("mb-4 pt-2 border-t border-zinc-700")]),o([x(o([f("text-sm text-zinc-500 mb-2")]),o([m("Target URL:")])),x(o([f("text-zinc-300 break-all bg-zinc-900 rounded px-3 py-2 text-sm cursor-pointer hover:bg-zinc-850 transition-colors"),rn(t.target_url+" (click to collapse)"),U(new gn(t.id))]),o([m(t.target_url)]))])),x(o([f("grid grid-cols-2 gap-4 text-sm mb-4")]),o([x(o([f("space-y-2")]),o([x(o([f("flex justify-between")]),o([I(o([f("text-zinc-500")]),o([m("Created By:")])),I(o([f("text-zinc-300")]),o([m(t.created_by)]))])),x(o([f("flex justify-between")]),o([I(o([f("text-zinc-500")]),o([m("Access Count:")])),I(o([f("text-zinc-300 font-mono")]),o([m(D(t.access_count))]))]))])),x(o([f("space-y-2")]),o([x(o([f("flex justify-between")]),o([I(o([f("text-zinc-500")]),o([m("Created:")])),I(o([f("text-zinc-300")]),o([m((()=>{let n=Pn(t.created_at*1e3);return gr(n)})())]))])),x(o([f("flex justify-between")]),o([I(o([f("text-zinc-500")]),o([m("Updated:")])),I(o([f("text-zinc-300")]),o([m((()=>{let n=Pn(t.updated_at*1e3);return gr(n)})())]))]))]))])),x(o([f("flex gap-2")]),o([H(o([f("flex-1 inline-flex items-center justify-center gap-x-2 py-3 text-sm font-medium text-zinc-400 border border-zinc-600 rounded hover:text-teal-300 hover:border-teal-400 transition-colors"),U(new ar(t.short_code))]),o([x(o([f("text-sm")]),o([m("\u{1F4CB}")])),m(B(e.copy_feedback,new $(t.short_code))?"Copied!":"Copy URL")])),H(o([f(t.is_active?"flex-1 inline-flex items-center justify-center gap-x-2 py-3 text-sm font-medium text-zinc-400 border border-zinc-600 rounded hover:text-orange-300 hover:border-orange-400 transition-colors":"flex-1 inline-flex items-center justify-center gap-x-2 py-3 text-sm font-medium text-zinc-400 border border-zinc-600 rounded hover:text-teal-300 hover:border-teal-400 transition-colors"),U(new ur(t.id,t.is_active))]),o([x(o([f("text-sm")]),o([m(t.is_active?"\u23F8":"\u25B6")])),m(t.is_active?"Deactivate":"Activate")])),H(o([f("flex-1 inline-flex items-center justify-center gap-x-2 py-3 text-sm font-medium text-zinc-400 border border-zinc-600 rounded hover:text-red-300 hover:border-red-400 transition-colors"),U(new ns(t.id))]),o([x(o([f("text-sm")]),o([m("\u{1F5D1}")])),m("Delete")]))]))]))]))}function Z$(e,t){let n,r=it(t,s=>s.id===e);r instanceof w?n=r[0].short_code:n="unknown";let i=n;return x(o([f("fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50")]),o([x(o([f("bg-zinc-800 rounded-lg p-6 max-w-md w-full mx-4 border border-zinc-700")]),o([de(o([f("text-lg font-medium text-white mb-4")]),o([m("Delete Short URL")])),se(o([f("text-zinc-300 mb-6")]),o([m("Are you sure you want to delete the short URL "),I(o([f("font-mono text-pink-400")]),o([m("u.jst.dev/"+i)])),m("? This action cannot be undone.")])),x(o([f("flex gap-3 justify-end")]),o([H(o([f("px-4 py-2 bg-zinc-600 text-white rounded hover:bg-zinc-700 transition-colors"),U(new Wl)]),o([m("Cancel")])),H(o([f("px-4 py-2 text-zinc-400 border border-zinc-600 rounded hover:text-red-300 hover:border-red-400 transition-colors"),U(new Rl(e))]),o([m("Delete")]))]))]))]))}function Q$(e){let t=e.short_urls;if(t instanceof F)return x(o([f("mt-8 p-6 bg-zinc-800 rounded-lg border border-zinc-700")]),o([de(o([f("text-lg text-pink-700 font-light mb-6")]),o([m("URLs")])),ol()]));if(t instanceof V)return x(o([f("mt-8 p-6 bg-zinc-800 rounded-lg border border-zinc-700")]),o([de(o([f("text-lg text-pink-700 font-light mb-6")]),o([m("URLs")])),ol()]));if(t instanceof P){let n=t[0];if(n instanceof y)return x(o([f("mt-8 p-6 bg-zinc-800 rounded-lg border border-zinc-700")]),o([de(o([f("text-lg text-pink-700 font-light mb-6")]),o([m("URLs")])),x(o([f("text-center py-12")]),o([x(o([f("text-zinc-400 text-lg mb-2")]),o([m("No short URLs created yet.")])),x(o([f("text-zinc-500 text-sm")]),o([m("Create your first short URL using the form above.")]))]))]));{let r=O(n,i=>Mo(e.expanded_urls,i.id)?Y$(e,i):V$(e,i));return x(o([f("mt-8 p-6 bg-zinc-800 rounded-lg border border-zinc-700")]),o([de(o([f("text-lg text-pink-700 font-light mb-6")]),o([m("URLs")])),Is(o([f("space-y-2"),mc("list")]),r),(()=>{let i=e.delete_confirmation;if(i instanceof $){let s=i[0];return Z$(s,n)}else return ie()})()]))}}else{if(t instanceof _e)return x(o([f("mt-8 p-6 bg-zinc-800 rounded-lg border border-zinc-700")]),o([de(o([f("text-lg text-pink-700 font-light mb-6")]),o([m("URLs")])),ol()]));{let n=t[0];return x(o([f("mt-8 p-6 bg-zinc-800 rounded-lg border border-zinc-700")]),o([de(o([f("text-lg text-pink-700 font-light mb-6")]),o([m("URLs")])),x(o([f("text-center py-12")]),o([x(o([f("text-red-400 text-lg mb-2")]),o([m("Error loading short URLs")])),x(o([f("text-zinc-500 text-sm")]),o([m(Hi(n))]))]))]))}}}function ep(e){let t=e.published_at;if(t instanceof $){let n=t[0],r=gr(n);return I(o([f("text-xs text-zinc-500 px-2 pt-2 w-max border-t border-r border-zinc-700 group-hover:border-pink-700 transition-colors duration-25")]),o([m(r)]))}else return I(o([f("text-xs text-zinc-500 px-2 pt-2 w-max italic border-t border-r border-zinc-700 group-hover:border-pink-700 transition-colors duration-25")]),o([m("not published")]))}function tp(e){return x(o([f("text-xs text-zinc-400 pt-0 border-r border-zinc-700 pr-2 group-hover:border-pink-700 transition-colors duration-25")]),o([I(o([f("text-zinc-500 font-light")]),o([m("by ")])),I(o([f("text-zinc-300")]),o([m(e)]))]))}function np(e){return e instanceof y?ie():x(o([f("flex justify-end align-end gap-0 ml-auto flex-wrap border-b border-r border-zinc-700 pb-1 pr-2 hover:border-pink-700 group-hover:border-pink-700 transition-colors duration-25 mt-2")]),O(e,n=>I(o([f("text-xs cursor-pointer text-zinc-500 px-2 hover:border-pink-700 hover:text-pink-700 transition-colors duration-25")]),o([m(n)]))))}function rp(e,t){let n=Mi(e,t),r=hf(e,t),i=mf(e,t);return x(o([f("flex justify-start h-10")]),o([n?H(o([f("text-gray-500 pe-4 text-underline pb-2 hover:text-teal-300 hover:border-teal-300 border-b border-zinc-700"),U(new Jt(Ge(new at(e.id))))]),o([m("Edit")])):ie(),r&&B(e.published_at,new g)?H(o([f("text-gray-500 pe-4 text-underline pb-2 hover:text-green-300 hover:border-green-300 border-b border-zinc-700"),U(new Pl(e))]),o([m("Publish")])):ie(),r&&!B(e.published_at,new g)?H(o([f("text-gray-500 pe-4 text-underline pb-2 hover:text-yellow-300 hover:border-yellow-300 border-b border-zinc-700"),U(new Ll(e))]),o([m("Unpublish")])):ie(),i?H(o([f("text-gray-500 pe-4 text-underline pb-2 hover:text-red-400 hover:border-red-400 border-b border-zinc-700"),U(new Cl(e))]),o([m("Delete")])):ie()]))}function X$(e,t){return o([x(o([f("mb-4")]),o([x(o([f("flex items-center justify-between mb-1")]),o([Mt(o([f("block text-sm font-medium text-zinc-400")]),o([m("Slug")])),I(o([f("text-xs text-zinc-500")]),o([m("rev "+D(t.revision))]))])),Wn(o([f("w-full bg-zinc-800 border border-zinc-600 rounded-md p-2 font-light text-zinc-100 focus:border-pink-700 focus:ring-1 focus:ring-pink-700 focus:outline-none transition-colors duration-200"),bt(Hs(e)),nn("edit-"+t.slug+"-Slug"),vt(n=>new kl(t,n))]))])),Xf("Title",new Xl,Gs(e),n=>new Al(t,n),t.slug),Xf("Subtitle",new eo,Js(e),n=>new jl(t,n),t.slug),x(o([f("mb-4")]),o([Mt(o([f("block text-sm font-medium text-zinc-400 mb-1")]),o([m("Leading")])),Os(o([f("w-full h-24 bg-zinc-800 border border-zinc-600 rounded-md p-2 font-bold text-zinc-100 resize-none focus:border-pink-700 focus:ring-1 focus:ring-pink-700 focus:outline-none transition-colors duration-200"),bt(Ci(e)),nn("edit-"+t.slug+"-Leading"),vt(n=>new zl(t,n)),sn("Write a compelling leading paragraph...")]),Ci(e))])),x(o([f("mb-4")]),o([Mt(o([f("block text-sm font-medium text-zinc-400 mb-1")]),o([m("Content")])),Os(o([f("w-full h-96 bg-zinc-800 border border-zinc-600 rounded-md p-4 font-mono text-sm text-zinc-100 resize-none focus:border-pink-700 focus:ring-1 focus:ring-pink-700 focus:outline-none transition-colors duration-200"),bt(Bi(e)),vt(n=>new Sl(t,n)),sn("Write your article content in Djot format...")]),Bi(e))])),x(o([f("flex justify-between gap-4")]),o([rp(t,new He),x(o([f("flex gap-4")]),o([H(o([f("px-4 py-2 bg-zinc-700 text-zinc-300 rounded-md hover:bg-zinc-600 transition-colors duration-200"),U(new Tl(t)),On(Ws(e))]),o([m("Discard Changes")])),H(o([f("px-4 py-2 bg-teal-700 text-white rounded-md hover:bg-teal-600 transition-colors duration-200"),U(new El(t)),On(Ws(e))]),o([Ws(e)?m("Saving..."):m("Save Article")]))]))]))])}function Ne(e,t){return Dn(o([nn("article-title-"+t),f("page-title")]),o([m(e)]))}function Da(e,t){return x(o([nn("article-subtitle-"+t),f("page-subtitle")]),o([m(e)]))}function em(e,t){return se(o([nn("article-lead-"+t),f("font-medium text-zinc-300 pt-6 md:pt-8 border-b border-zinc-800 pb-4"),f("article-leading")]),o([m(e)]))}function Ke(e){return se(o([f("pt-8")]),o([m(e)]))}function tm(e,t){let n;t instanceof He?n=pt(e,h=>h.published_at instanceof $):n=e;let r=n,i,l=_r(r,(d,h)=>{let v=d.published_at,k=h.published_at;if(k instanceof $)if(v instanceof $){let T=k[0],S=v[0];return Gu(T,S)}else return new X;else return v instanceof $?new qe:Qr(d.slug,h.slug)});i=O(l,d=>{let h=d.slug,v=d.tags,k=d.title,T=d.subtitle,S=d.leading,G,J=new jt(h);G=Ge(J);let N=G;return Xo(o([f("mt-14")]),o([Rn(o([f("group block border-l border-zinc-700 pl-4 hover:border-pink-700 transition-colors duration-25"),Un(ge(N)),Ic(new vl(d)),U(new Jt(N))]),o([x(o([f("flex justify-between gap-4")]),o([x(o([f("flex flex-col")]),o([de(o([nn("article-title-"+h),f("article-title"),f("text-xl text-pink-700 font-light")]),o([m(k)])),Da(T,h)])),x(o([f("flex flex-col items-end")]),o([ep(d),tp(d.author)]))])),Ke(S),x(o([f("flex justify-end mt-2")]),o([np(v)]))]))]))});let a=i,u=o([Ef(ya("Articles"),t instanceof Dt?un("New Article",new zt,!1,new Xi):ie())]),c;return a instanceof y?c=o([zf("No articles yet",t instanceof Dt?"Ready to share your thoughts? Create your first article to get started.":"No published articles are available yet. Check back later for new content!",t instanceof Dt?new $(un("Create Your First Article",new zt,!1,new Xi)):new g)]):c=a,ee(u,c)}function nm(e,t){return o([Ne("Article not found",t),Ke("The article you are looking for does not exist.")])}function rm(e,t){if(e instanceof F)return o([Ne("Loading article",t),Ke("Loading article...")]);if(e instanceof V)return o([Ne("Loading article",t),Ke("Loading article...")]);if(e instanceof P)return o([Ne("Article not found",t),Ke("The article you are looking for does not exist.")]);if(e instanceof _e)return o([Ne("Article not found",t),Ke("The article you are looking for might not exist yet. Please check back later.")]);{let n=e[0];return o([Ne("There was an error loading the article",t),Ke(Hi(n))])}}function im(){return o([Ne("About","about"),Ke(`I'm a software developer and a writer. I'm also a father and a husband. 
      I'm also a software developer and a writer. I'm also a father and a 
      husband. I'm also a software developer and a writer. I'm also a father 
      and a husband. I'm also a software developer and a writer. I'm also a 
      father and a husband.`),Ke(`If you enjoy these glimpses into my mind, feel free to come back
       semi-regularly. But not too regularly, you creep.`)])}function sm(e){return o([Ne("URL Shortener","url-shortener"),Ke("Create and manage short URLs for easy sharing."),K$(e),Q$(e)])}function lm(e,t){let n=e.short_urls;if(n instanceof P){let r=n[0],i=it(r,s=>s.short_code===t);if(i instanceof w){let s=i[0];return o([Ne("URL Info","url-info"),x(o([f("mt-8 p-6 bg-zinc-800 rounded-lg border border-zinc-700")]),o([de(o([f("text-lg text-pink-700 font-light mb-4")]),o([m("URL Details")])),x(o([f("space-y-4 text-zinc-300")]),o([x(o([f("flex justify-between items-center")]),o([I(o([f("text-zinc-500")]),o([m("Short Code:")])),I(o([f("font-mono text-pink-700")]),o([m(s.short_code)]))])),x(o([f("flex justify-between items-center")]),o([I(o([f("text-zinc-500")]),o([m("Target URL:")])),I(o([f("break-all")]),o([m(s.target_url)]))])),x(o([f("flex justify-between items-center")]),o([I(o([f("text-zinc-500")]),o([m("Created By:")])),I(o([]),o([m(s.created_by)]))])),x(o([f("flex justify-between items-center")]),o([I(o([f("text-zinc-500")]),o([m("Created:")])),I(o([]),o([m((()=>{let l=Pn(s.created_at*1e3);return gr(l)})())]))])),x(o([f("flex justify-between items-center")]),o([I(o([f("text-zinc-500")]),o([m("Updated:")])),I(o([]),o([m((()=>{let l=Pn(s.updated_at*1e3);return gr(l)})())]))])),x(o([f("flex justify-between items-center")]),o([I(o([f("text-zinc-500")]),o([m("Access Count:")])),I(o([]),o([m(D(s.access_count))]))])),x(o([f("flex justify-between items-center")]),o([I(o([f("text-zinc-500")]),o([m("Status:")])),s.is_active?I(o([f("text-green-400")]),o([m("Active")])):I(o([f("text-red-400")]),o([m("Inactive")]))]))])),x(o([f("mt-6 flex gap-4")]),o([un("Back to URLs",new zt,!1,new Jt(Ge(new tt))),un(B(e.copy_feedback,new $(s.short_code))?"Copied!":"Copy URL",new zt,!1,new ar(s.short_code)),un(s.is_active?"Deactivate":"Activate",s.is_active?new Di:new zt,!1,new ur(s.id,s.is_active)),un("Delete URL",new Fi,!1,new ns(s.id))]))]))])}else return o([Ne("URL Not Found","url-not-found"),Ke("The requested URL was not found.")])}else return o([Ne("URL Info","url-info"),Ke("Loading URL information...")])}function om(e){return o([Ne("404 - Page Not Found","not-found"),Da("The page you're looking for doesn't exist.","not-found"),Ke("The page at "+ge(e)+" could not be found.")])}function Jr(e){return vf(new ll,"Something went wrong",e,new g)}function ip(e,t){let n,r=e.content;if(r instanceof F)n=o([Jr("content not initialized")]);else if(r instanceof V)n=o([bf(),xf()]);else if(r instanceof P){let s=r[0];n=$l(s)}else if(r instanceof _e){let s=r[0];n=$l(s)}else{let s=r[0];n=o([Jr(Hi(s))])}let i=n;return o([Xo(o([f("with-transition")]),b(x(o([f("flex flex-col justify-between")]),o([rp(e,t),x(o([f("flex gap-2 justify-between")]),o([x(o([f("flex flex-col justify-between")]),o([Ne(e.title,e.slug),Da(e.subtitle,e.slug)])),x(o([f("flex flex-col items-end")]),o([ep(e),tp(e.author)]))])),x(o([f("flex justify-between mt-2")]),o([np(e.tags)]))])),b(em(e.leading,e.slug),i)))])}function am(e,t){let n=t.draft;if(n instanceof $){let r=n[0],i,s=Bi(r);s===""?i="Start typing in the editor to see the preview here...":i=s;let l=i,a=new ae(t.id,Hs(r),t.revision,t.author,t.tags,t.published_at,Gs(r),Js(r),Ci(r),new P(l),new g),u=ip(a,new He);return o([x(o([f("lg:hidden mb-4 flex justify-center")]),o([al(e.edit_view_mode instanceof hn?"Show Preview":"Show Editor",!1,new Vl)])),x(o([gi(o([["grid gap-8 h-screen",!0],["grid-cols-2 lg:grid-cols-2",!0]]))]),o([x(o([gi(o([["space-y-4",!0],["lg:block",!0],["lg:col-span-1",!0],["col-span-2",B(e.edit_view_mode,new hn)],["hidden",B(e.edit_view_mode,new Qi)]]))]),X$(r,t)),x(o([gi(o([["max-w-screen-md mx-auto px-10 py-10 overflow-y-auto",!0],["lg:block",!0],["lg:col-span-1",!0],["col-span-2",B(e.edit_view_mode,new Qi)],["hidden",B(e.edit_view_mode,new hn)]]))]),u)])),J$()])}else return o([Jr("no draft..")])}function um(){return o([ya("Articles"),ba("Loading articles...")])}function sp(e,t){return Rn(o([f(""),Un(ge(e)),U(new Jt(e))]),t)}function mn(e,t,n,r){return Ns(ee(r,o([gi(o([["relative cursor-pointer transition-all duration-300 ease-out px-3 py-2 rounded-lg",!0],["active text-pink-500",Tf(e,t)]])),U(new Jt(Ge(e)))])),o([sp(Ge(e),o([m(n)]))]))}function La(e){let t=o([f("block w-full text-left px-4 py-2 text-sm text-zinc-400 hover:text-teal-300 hover:bg-teal-800/20 transition-colors cursor-pointer")]);return Tc(o([f("py-2 border-b bg-zinc-800 border-pink-700 font-mono relative")]),o([x(o([f("flex justify-between px-4 sm:px-6 md:px-10 items-center max-w-screen-md mx-auto")]),o([x(o([]),o([sp(ul(new Vn),o([m("jst.dev")]))])),x(o([f("flex items-center space-x-8")]),o([Is(o([f("hidden sm:flex space-x-8 pr-2")]),o([mn(new ot,e.route,"Articles",o([])),mn(new St,e.route,"About",o([])),mn(new tt,e.route,"Short Urls",o([])),mn(new Et,e.route,"Djot Demo",o([]))])),x(o([f("relative")]),o([H(o([f("p-2 rounded-md bg-zinc-700 hover:bg-zinc-600 transition-colors"),U(new yl)]),o([e.profile_menu_open?Ji(o([f("w-6 h-6")]),new Fr):Ji(o([f("w-6 h-6")]),new Gi)])),e.profile_menu_open?x(o([f("absolute right-0 mt-2 w-48 rounded-md shadow-lg bg-zinc-700 ring-1 ring-black ring-opacity-5 z-50")]),o([x(o([f("py-1")]),o([Is(o([f("sm:hidden flex flex-col border-b border-zinc-400")]),o([mn(new ot,e.route,"Articles",t),mn(new St,e.route,"About",t),mn(new tt,e.route,"Short urls",t),mn(new Et,e.route,"Djot Demo",t)])),(()=>{let r=e.session;return r instanceof Jn?H(o([f("block w-full text-left px-4 py-2 text-sm bg-zinc-700 text-zinc-500 transition-colors cursor-not-allowed opacity-60"),U(new es)]),o([m("logging in..")])):r instanceof He?H(o([f("block w-full text-left px-4 py-2 text-sm text-zinc-400 hover:text-teal-300 hover:bg-teal-800/20 transition-colors cursor-pointer"),U(new or)]),o([m("Login")])):H(o([f("block w-full text-left px-4 py-2 text-sm text-zinc-400 hover:text-orange-300 hover:bg-orange-800/20 transition-colors cursor-pointer"),U(new es)]),o([m("Logout")]))})(),H(o([f("block w-full text-left px-4 py-2 text-sm text-zinc-400 hover:text-teal-300 hover:bg-teal-800/20 transition-colors cursor-pointer"),U(new Il)]),o([m("Check")])),e.debug_use_local_storage?H(o([f("block w-full text-left px-4 py-2 text-sm text-zinc-400 hover:text-orange-300 hover:bg-orange-800/20 transition-colors cursor-pointer"),U(new rs)]),o([x(o([f("flex justify-between")]),o([m("LocalStorage"),Ji(o([f("w-6 text-green-400")]),new cl)]))])):H(o([f("block w-full text-left px-4 py-2 text-sm text-zinc-400 hover:text-teal-300 hover:bg-teal-800/20 transition-colors cursor-pointer"),U(new rs)]),o([x(o([f("flex justify-between ")]),o([m("LocalStorage"),Ji(o([f("w-6 text-orange-400")]),new Fr)]))]))]))])):x(o([]),o([]))]))]))]))]))}function cm(e){let t;e===""?t=o([x(o([f("text-zinc-500 italic text-center mt-8")]),o([m("Start typing in the editor to see the preview here...")]))]):t=$l(e);let n=t;return o([Ne("Djot Demo","djot-demo"),x(o([f("grid grid-cols-1 lg:grid-cols-2 gap-6")]),o([ea(o([f("space-y-4")]),o([x(o([f("flex items-center justify-between")]),o([Fn(o([f("text-xl text-pink-700 font-light")]),o([m("Editor")])),x(o([f("text-xs text-zinc-500")]),o([m("Live preview updates as you type")]))])),x(o([f("relative")]),o([Os(o([f("w-full h-[400px] lg:h-[600px] bg-zinc-800 border border-zinc-600 rounded-lg p-4 font-mono text-sm text-zinc-100 resize-none focus:border-pink-700 focus:ring-1 focus:ring-pink-700 focus:outline-none transition-colors duration-200"),sn(`# Start typing your article content here...

## Headings

- Lists
- Work too

**Bold** and *italic* text

[Link text](url)`),bt(e),vt(r=>new Ml(r)),E("spellcheck","false")]),e),x(o([f("absolute bottom-2 right-2 text-xs text-zinc-500 bg-zinc-800 px-2 py-1 rounded")]),o([m((()=>{let r=Lt(e);return mo(r)})()),m(" chars")]))]))])),ea(o([f("space-y-4")]),o([x(o([f("flex items-center justify-between")]),o([Fn(o([f("text-xl text-pink-700 font-light")]),o([m("Preview")])),x(o([f("text-xs text-zinc-500")]),o([m("Rendered output")]))])),x(o([f("w-full h-[400px] lg:h-[600px] bg-zinc-900 border border-zinc-600 rounded-lg p-6 overflow-y-auto prose prose-invert prose-pink max-w-none")]),n)]))])),x(o([f("mt-8 p-4 bg-zinc-800 rounded-lg border border-zinc-700")]),o([de(o([f("text-lg text-pink-700 font-light")]),o([m("Quick Reference")])),se(o([f("text-zinc-300")]),o([Ti(o([]),o([m("Note: ")])),m("The djot implementation is a work in progress. Not all features are supported yet.")])),se(o([f("mb-6")]),o([m("See the "),Rn(o([Un("https://htmlpreview.github.io/?https://github.com/jgm/djot/blob/master/doc/syntax.html"),f("text-zinc-300 underline")]),o([m("djot syntax documentation")])),m(" for more details.")])),x(o([f("grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 text-sm")]),o([x(o([]),o([Ae(o([f("text-pink-700 font-medium mb-2")]),o([m("Headings")])),be(o([f("text-zinc-300")]),o([ze(o([f("text-zinc-300")]),o([m(`# H1
## H2
### H3`)]))]))])),x(o([]),o([Ae(o([f("text-pink-700 font-medium mb-2")]),o([m("Text")])),be(o([f("text-zinc-300")]),o([ze(o([f("text-zinc-300")]),o([m("_italic_\n*bold*\n`code`")]))]))])),x(o([]),o([Ae(o([f("text-pink-700 font-medium mb-2")]),o([m("Lists")])),be(o([f("text-zinc-300")]),o([ze(o([f("text-zinc-300")]),o([m(`- item 1
- item 2

  - nested`)]))]))])),x(o([]),o([Ae(o([f("text-pink-700 font-medium mb-2")]),o([m("Links")])),be(o([f("text-zinc-300")]),o([ze(o([f("text-zinc-300")]),o([m(`[text](url)
[text](url){title="tooltip"}`)]))]))])),x(o([]),o([Ae(o([f("text-pink-700 font-medium mb-2")]),o([m("Code Blocks")])),be(o([f("text-zinc-300")]),o([ze(o([f("text-zinc-300")]),o([m("```\ncode here\n```")]))]))])),x(o([]),o([Ae(o([f("text-pink-700 font-medium mb-2")]),o([m("Blockquotes")])),be(o([f("text-zinc-300")]),o([ze(o([f("text-zinc-300")]),o([m("> quoted text")]))]))]))]))]))])}function fm(e){let t=R$(e),n;if(t instanceof Ri)n=G$();else if(t instanceof Vn)n=H$();else if(t instanceof Ht){let l=t.article,a=t.session;n=ip(l,a)}else if(t instanceof Tt){let l=t.article;n=am(e,l)}else if(t instanceof Yn){let l=t.articles,a=t.session;n=tm(l,a)}else if(t instanceof fn)n=um();else if(t instanceof Ir)n=sm(e);else if(t instanceof Mr){let l=t.short;n=lm(e,l)}else if(t instanceof we){let l=t.error;if(l instanceof Zn){let a=l.slug;n=rm(e.articles,a)}else if(l instanceof Qn){let a=l.id;n=nm(e.articles,a)}else if(l instanceof pn){let a=l.error;n=o([Jr(Hi(a))])}else if(l instanceof Xn){let a=l.attempted_action;n=o([Jr("Authentication required: "+a)])}else{let a=l.msg;n=o([Jr(a)])}}else if(t instanceof Or)n=im();else if(t instanceof Ur){let l=t.requested_uri;n=om(l)}else{let l=t.content;n=cm(l)}let r=n,i;return t instanceof Tt?i=l=>x(o([f("min-h-screen bg-zinc-900 text-zinc-100 selection:bg-pink-700 selection:text-zinc-100 ")]),o([Ba(e.notice),La(e),Ls(o([f("mx-auto px-10 py-10")]),l),Pa(e)])):t instanceof Wi?i=l=>x(o([f("min-h-screen bg-zinc-900 text-zinc-100 selection:bg-pink-700 selection:text-zinc-100 ")]),o([Ba(e.notice),La(e),Ls(o([f("mx-auto px-10 py-10")]),l),Pa(e)])):i=l=>x(o([f("min-h-screen bg-zinc-900 text-zinc-100 selection:bg-pink-700 selection:text-zinc-100 ")]),o([Ba(e.notice),La(e),Ls(o([f("max-w-screen-md mx-auto px-10 py-10")]),l),Pa(e)])),i(r)}var pm=`# Quick Start for Markdown users

Djot is a lot like Markdown.  Here are some of the main
differences you need to be aware of in making the transition.

#### Blank lines

In djot you need blank lines around block-level
elements.  Hence, instead of

\`\`\`
This is some text.
## My next heading
\`\`\`

you must write

\`\`\`
This is some text.

## My next heading
\`\`\`

Instead of

\`\`\`\`
This is some text.
\`\`\` lua
local foo = bar.baz or false
\`\`\`
\`\`\`\`

you must write

\`\`\`\`
This is some text.

\`\`\` lua
local foo = bar.baz or false
\`\`\`
\`\`\`\`

Instead of

\`\`\`
Text.
> a blockquote.
\`\`\`

you must write

\`\`\`
Text.

> a blockquote.
\`\`\`

And instead of

\`\`\`
Before a thematic break.
****
After a thematic break.
\`\`\`

you must write

\`\`\`
Before a thematic break.

****

After a thematic break.
\`\`\`

#### Lists

A special case of this is that you always need a blank line before a
list, even if it's a sublist. So, while in Markdown you can write

\`\`\`
- one
  - two
  - three
\`\`\`

in djot you must write

\`\`\`
- one

  - two
  - three
\`\`\`

#### Headings

There are no Setext-style (underlined) headings, only ATX- (\`#\`) style.

Heading content can extend over several lines, which may or
may not be preceded by \`#\` characters:

\`\`\`
## This is a single
## level-2 heading

### This is a single
level-3 heading
\`\`\`

As a result, headings must always have a blank line following.

Trailing \`#\` characters in a heading are read as part of the
content and not ignored.

#### Code blocks

There are no indented code blocks, only fenced with \` \`\`\` \`.

#### Block quotes

You need a space after the \`>\` character, unless it is followed
by a newline.

#### Emphasis

Use single \`_\` delimiters for regular emphasis and
single \`*\` delimiters for strong emphasis.

#### Links

There is no special syntax for adding a title to a link, as
in Markdown:

\`\`\`
[link](http://example.com "Go to my website")
\`\`\`

If you want a title attribute on a link, use the general attribute syntax:

\`\`\`
[link](http://example.com){title="Go to my website"}
\`\`\`

#### Hard line breaks

In Markdown you can create a hard line break by ending a line
with two spaces. In djot you use a backslash before the newline.

\`\`\`
A new\\
line.
\`\`\`

#### Raw HTML

In Markdown you can just insert raw HTML "as is."  In djot,
you must mark it as raw HTML:

\`\`\`\`
This is raw HTML: \`<a id="foo">\`{=html}.

Here is a raw HTML block:

\`\`\` =html
<table>
<tr><td>foo</td></tr>
</table>
\`\`\`
\`\`\`\`

#### Tables

Pipe tables always require a pipe character at the start and end
of each line, unlike in many Markdown implementations.  So, this
is not a table:

\`\`\`
a|b
-|-
1|2
\`\`\`

but this is:

\`\`\`
| a | b |
| - | - |
| 1 | 2 |
\`\`\`


#### That's enough to get started!

Here we have just focused on things that might trip up
Markdown users.  If you keep these in mind, you should be
able to start using djot without looking at any more
documentation.

However, we haven't discussed any of the things
you can do in djot but not Markdown. See the [syntax
description](https://htmlpreview.github.io/?https://github.com/jgm/djot/blob/master/doc/syntax.html)
to find about the new constructions that are available.
`;function dm(e){let t=na();if(!(t instanceof w))throw K("let_assert",to,"jst_lustre",158,"init","Pattern match failed, no pattern matched the value.",{value:t,start:4562,end:4602,pattern_start:4573,pattern_end:4580});let n=t[0],r=Gf(Hr,Hf(),l=>new Yl(l)),i=new z(n,ka(n),new He,new F,new F,"","",pm,new hn,!1,"",!0,new g,new g,hs(),!1,"","",!1),s=Fc(l=>{let a=l;return new bl(a)});return[i,Ln(o([s,r,ma(l=>new ts(l),i.base_uri)]))]}function lp(){let e=kc(dm,F$,fm),t=Ac(e,"#app",void 0);if(!(t instanceof w))throw K("let_assert",to,"jst_lustre",119,"main","Pattern match failed, no pattern matched the value.",{value:t,start:3588,end:3637,pattern_start:3599,pattern_end:3604})}function te(e,t,n){let r="\x1B[90m",i="\x1B[39m",s=`${t}:${n}`,l=Gt(e);if(globalThis.process?.stderr?.write){let a=`${r}${s}${i}
${l}
`;process.stderr.write(a)}else if(globalThis.Deno){let a=`${r}${s}${i}
${l}
`;globalThis.Deno.stderr.writeSync(new TextEncoder().encode(a))}else{let a=`${s}
${l}`;globalThis.console.log(a)}return e}function _m(e){let t='"';for(let n=0;n<e.length;n++){let r=e[n];r==`
`?t+="\\n":r=="\r"?t+="\\r":r=="	"?t+="\\t":r=="\f"?t+="\\f":r=="\\"?t+="\\\\":r=='"'?t+='\\"':r<" "||r>"~"&&r<"\xA0"?t+="\\u{"+r.charCodeAt(0).toString(16).toUpperCase().padStart(4,"0")+"}":t+=r}return t+='"',t}function $m(e){let t="dict.from_list([",n=!0,r=[];return e.forEach((i,s)=>{r.push([s,i])}),r.sort(),r.forEach(([i,s])=>{n||(t=t+", "),t=t+"#("+Gt(i)+", "+Gt(s)+")",n=!1}),t+"])"}function mm(e){let t=globalThis.Object.keys(e).map(n=>{let r=Gt(e[n]);return isNaN(parseInt(n))?`${n}: ${r}`:r}).join(", ");return t?`${e.constructor.name}(${t})`:e.constructor.name}function hm(e){let t=Object.getPrototypeOf(e)?.constructor?.name||"Object",n=[];for(let s of Object.keys(e))n.push(`${Gt(s)}: ${Gt(e[s])}`);let r=n.length?" "+n.join(", ")+" ":"";return`//js(${t==="Object"?"":t+" "}{${r}})`}function Gt(e){let t=typeof e;if(e===!0)return"True";if(e===!1)return"False";if(e===null)return"//js(null)";if(e===void 0)return"Nil";if(t==="string")return _m(e);if(t==="bigint"||t==="number")return e.toString();if(globalThis.Array.isArray(e))return`#(${e.map(Gt).join(", ")})`;if(e instanceof Q)return`[${e.toArray().map(Gt).join(", ")}]`;if(e instanceof Kt)return`//utfcodepoint(${String.fromCodePoint(e.value)})`;if(e instanceof Ie)return wm(e);if(e instanceof _)return mm(e);if(gm(e))return $m(e);if(e instanceof Set)return`//js(Set(${[...e].map(Gt).join(", ")}))`;if(e instanceof RegExp)return`//js(${e})`;if(e instanceof Date)return`//js(Date("${e.toISOString()}"))`;if(e instanceof Function){let n=[];for(let r of Array(e.length).keys())n.push(String.fromCharCode(r+97));return`//fn(${n.join(", ")}) { ... }`}return hm(e)}function wm(e){let t=e.bitOffset+8*Math.trunc(e.bitSize/8),n=bn(e,e.bitOffset,t),r=e.bitSize%8;if(r>0){let i=is(e,t,e.bitSize,!1,!1),s=Array.from(n.rawBuffer),l=`${i}:size(${r})`;return s.length===0?`<<${l}>>`:`<<${Array.from(n.rawBuffer).join(", ")}, ${l}>>`}else return`<<${Array.from(n.rawBuffer).join(", ")}>>`}function gm(e){try{return e instanceof Be}catch{return!1}}lp();
