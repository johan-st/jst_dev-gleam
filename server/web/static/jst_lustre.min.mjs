var _=class{withFields(t){let n=Object.keys(this).map(i=>i in t?t[i]:this[i]);return new this.constructor(...n)}},ce=class{static fromArray(t,n){let i=n||new y;for(let r=t.length-1;r>=0;--r)i=new tn(t[r],i);return i}[Symbol.iterator](){return new Jo(this)}toArray(){return[...this]}atLeastLength(t){let n=this;for(;t-- >0&&n;)n=n.tail;return n!==void 0}hasLength(t){let n=this;for(;t-- >0&&n;)n=n.tail;return t===-1&&n instanceof y}countLength(){let t=this,n=0;for(;t;)t=t.tail,n++;return n-1}};function b(e,t){return new tn(e,t)}function l(e,t){return ce.fromArray(e,t)}var Jo=class{#e;constructor(t){this.#e=t}next(){if(this.#e instanceof y)return{done:!0};{let{head:t,tail:n}=this.#e;return this.#e=n,{value:t,done:!1}}}},y=class extends ce{},tn=class extends ce{constructor(t,n){super(),this.head=t,this.tail=n}},it=class{bitSize;byteSize;bitOffset;rawBuffer;constructor(t,n,i){if(!(t instanceof Uint8Array))throw globalThis.Error("BitArray can only be constructed from a Uint8Array");if(this.bitSize=n??t.length*8,this.byteSize=Math.trunc((this.bitSize+7)/8),this.bitOffset=i??0,this.bitSize<0)throw globalThis.Error(`BitArray bit size is invalid: ${this.bitSize}`);if(this.bitOffset<0||this.bitOffset>7)throw globalThis.Error(`BitArray bit offset is invalid: ${this.bitOffset}`);if(t.length!==Math.trunc((this.bitOffset+this.bitSize+7)/8))throw globalThis.Error("BitArray buffer length is invalid");this.rawBuffer=t}byteAt(t){if(!(t<0||t>=this.byteSize))return Ti(this.rawBuffer,this.bitOffset,t)}equals(t){if(this.bitSize!==t.bitSize)return!1;let n=Math.trunc(this.bitSize/8);if(this.bitOffset===0&&t.bitOffset===0){for(let r=0;r<n;r++)if(this.rawBuffer[r]!==t.rawBuffer[r])return!1;let i=this.bitSize%8;if(i){let r=8-i;if(this.rawBuffer[n]>>r!==t.rawBuffer[n]>>r)return!1}}else{for(let r=0;r<n;r++){let s=Ti(this.rawBuffer,this.bitOffset,r),o=Ti(t.rawBuffer,t.bitOffset,r);if(s!==o)return!1}let i=this.bitSize%8;if(i){let r=Ti(this.rawBuffer,this.bitOffset,n),s=Ti(t.rawBuffer,t.bitOffset,n),o=8-i;if(r>>o!==s>>o)return!1}}return!0}get buffer(){if(Ou("buffer","Use BitArray.byteAt() or BitArray.rawBuffer instead"),this.bitOffset!==0||this.bitSize%8!==0)throw new globalThis.Error("BitArray.buffer does not support unaligned bit arrays");return this.rawBuffer}get length(){if(Ou("length","Use BitArray.bitSize or BitArray.byteSize instead"),this.bitOffset!==0||this.bitSize%8!==0)throw new globalThis.Error("BitArray.length does not support unaligned bit arrays");return this.rawBuffer.length}};function Ti(e,t,n){if(t===0)return e[n]??0;{let i=e[n]<<t&255,r=e[n+1]>>8-t;return i|r}}var hn=class{constructor(t){this.value=t}},Mu={};function Ou(e,t){Mu[e]||(console.warn(`Deprecated BitArray.${e} property used in JavaScript FFI code. ${t}.`),Mu[e]=!0)}function Gn(e,t,n){if(n??=e.bitSize,Du(e,t,n),t===n)return new it(new Uint8Array);if(t===0&&n===e.bitSize)return e;t+=e.bitOffset,n+=e.bitOffset;let i=Math.trunc(t/8),s=Math.trunc((n+7)/8)-i,o;return i===0&&s===e.rawBuffer.byteLength?o=e.rawBuffer:o=new Uint8Array(e.rawBuffer.buffer,e.rawBuffer.byteOffset+i,s),new it(o,n-t,t%8)}function Fs(e,t,n,i,r){if(Du(e,t,n),t===n)return 0;t+=e.bitOffset,n+=e.bitOffset;let s=t%8===0,o=n%8===0;if(s&&o)return rp(e,t/8,n/8,i,r);let a=n-t,u=Math.trunc(t/8),c=Math.trunc((n-1)/8);if(u==c){let p=255>>t%8,d=(8-n%8)%8,h=(e.rawBuffer[u]&p)>>d;if(r){let v=2**(a-1);h>=v&&(h-=v*2)}return h}return a<=53?lp(e.rawBuffer,t,n,i,r):op(e.rawBuffer,t,n,i,r)}function rp(e,t,n,i,r){return n-t<=6?ip(e.rawBuffer,t,n,i,r):sp(e.rawBuffer,t,n,i,r)}function ip(e,t,n,i,r){let s=n-t,o=0;if(i)for(let a=t;a<n;a++)o*=256,o+=e[a];else for(let a=n-1;a>=t;a--)o*=256,o+=e[a];if(r){let a=2**(s*8-1);o>=a&&(o-=a*2)}return o}function sp(e,t,n,i,r){let s=n-t,o=0n;if(i)for(let a=t;a<n;a++)o*=256n,o+=BigInt(e[a]);else for(let a=n-1;a>=t;a--)o*=256n,o+=BigInt(e[a]);if(r){let a=1n<<BigInt(s*8-1);o>=a&&(o-=a*2n)}return Number(o)}function lp(e,t,n,i,r){let s=t%8===0,o=n-t,a=Math.trunc(t/8),u=0;if(i){if(!s){let c=8-t%8;u=e[a++]&(1<<c)-1,o-=c}for(;o>=8;)u*=256,u+=e[a++],o-=8;o>0&&(u*=2**o,u+=e[a]>>8-o)}else if(s){let c=n-t,p=1;for(;c>=8;)u+=e[a++]*p,p*=256,c-=8;u+=(e[a]>>8-c)*p}else{let c=t%8,p=8-c,d=n-t,h=1;for(;d>=8;){let v=e[a]<<c|e[a+1]>>p;u+=(v&255)*h,h*=256,d-=8,a++}if(d>0){let v=d-Math.max(0,d-p),A=(e[a]&(1<<p)-1)>>p-v;d-=v,d>0&&(A*=2**d,A+=e[a+1]>>8-d),u+=A*h}}if(r){let c=2**(n-t-1);u>=c&&(u-=c*2)}return u}function op(e,t,n,i,r){let s=t%8===0,o=n-t,a=Math.trunc(t/8),u=0n;if(i){if(!s){let c=8-t%8;u=BigInt(e[a++]&(1<<c)-1),o-=c}for(;o>=8;)u*=256n,u+=BigInt(e[a++]),o-=8;o>0&&(u<<=BigInt(o),u+=BigInt(e[a]>>8-o))}else if(s){let c=n-t,p=0n;for(;c>=8;)u+=BigInt(e[a++])<<p,p+=8n,c-=8;u+=BigInt(e[a]>>8-c)<<p}else{let c=t%8,p=8-c,d=n-t,h=0n;for(;d>=8;){let v=e[a]<<c|e[a+1]>>p;u+=BigInt(v&255)<<h,h+=8n,d-=8,a++}if(d>0){let v=d-Math.max(0,d-p),A=(e[a]&(1<<p)-1)>>p-v;d-=v,d>0&&(A<<=d,A+=e[a+1]>>8-d),u+=BigInt(A)<<h}}if(r){let c=2n**BigInt(n-t-1);u>=c&&(u-=c*2n)}return Number(u)}function Du(e,t,n){if(t<0||t>e.bitSize||n<t||n>e.bitSize){let i=`Invalid bit array slice: start = ${t}, end = ${n}, bit size = ${e.bitSize}`;throw new globalThis.Error(i)}}var Nr=class e extends _{static isResult(t){return t instanceof e}},g=class extends Nr{constructor(t){super(),this[0]=t}isOk(){return!0}},k=class extends Nr{constructor(t){super(),this[0]=t}isOk(){return!1}};function N(e,t){let n=[e,t];for(;n.length;){let i=n.pop(),r=n.pop();if(i===r)continue;if(!Uu(i)||!Uu(r)||!$p(i,r)||up(i,r)||cp(i,r)||fp(i,r)||dp(i,r)||pp(i,r)||_p(i,r))return!1;let o=Object.getPrototypeOf(i);if(o!==null&&typeof o.equals=="function")try{if(i.equals(r))continue;return!1}catch{}let[a,u]=ap(i);for(let c of a(i))n.push(u(i,c),u(r,c))}return!0}function ap(e){if(e instanceof Map)return[t=>t.keys(),(t,n)=>t.get(n)];{let t=e instanceof globalThis.Error?["message"]:[];return[n=>[...t,...Object.keys(n)],(n,i)=>n[i]]}}function up(e,t){return e instanceof Date&&(e>t||e<t)}function cp(e,t){return!(e instanceof it)&&e.buffer instanceof ArrayBuffer&&e.BYTES_PER_ELEMENT&&!(e.byteLength===t.byteLength&&e.every((n,i)=>n===t[i]))}function fp(e,t){return Array.isArray(e)&&e.length!==t.length}function dp(e,t){return e instanceof Map&&e.size!==t.size}function pp(e,t){return e instanceof Set&&(e.size!=t.size||[...e].some(n=>!t.has(n)))}function _p(e,t){return e instanceof RegExp&&(e.source!==t.source||e.flags!==t.flags)}function Uu(e){return typeof e=="object"&&e!==null}function $p(e,t){return typeof e!="object"&&typeof t!="object"&&(!e||!t)||[Promise,WeakSet,WeakMap,Function].some(i=>e instanceof i)?!1:e.constructor===t.constructor}function Kn(e,t){return t===0?0:e%t}function Vn(e,t){return Math.trunc(Yo(e,t))}function Yo(e,t){return t===0?0:e/t}function H(e,t,n,i,r,s,o){let a=new globalThis.Error(s);a.gleam_error=e,a.file=t,a.module=n,a.line=i,a.function=r,a.fn=r;for(let u in o)a[u]=o[u];return a}var $=class extends _{constructor(t){super(),this[0]=t}},x=class extends _{};function Hs(e,t){if(e instanceof $){let n=e[0];return new g(n)}else return new k(t)}function Lr(e,t){if(e instanceof $){let n=e[0];return new $(t(n))}else return new x}function Ru(e){return e instanceof $?e[0]:new x}function Fu(e,t){if(e instanceof $){let n=e[0];return t(n)}else return new x}function qt(e,t,n){return e?t:n()}var fe=class extends _{},pe=class extends _{},Oe=class extends _{};function st(e,t,n){return Gu(t,n,e)}function hp(e,t){for(;;){let n=e,i=t;if(n instanceof y)return i;{let r=n.head;e=n.tail,t=b(r,i)}}}function wp(e,t){for(;;){let n=e,i=t;if(n instanceof y)return hp(i,l([]));{let r=n.tail,s=n.head[0];e=r,t=b(s,i)}}}function Ws(e){return wp(Jn(e),l([]))}function Zo(e,t){return Wu(t,e)}function Xo(e,t,n){let i=zt(e,t);if(i instanceof g){let r=i[0];return st(e,t,n(new $(r)))}else return st(e,t,n(new x))}function Ku(e,t){let n=e[0],i=e[1];return[n,t(i)]}var ze=class extends _{},Yn=class extends _{};function yp(e,t){for(;;){let n=e,i=t;if(n instanceof y)return i;e=n.tail,t=i+1}}function Qo(e){return yp(e,0)}function Zn(e,t){for(;;){let n=e,i=t;if(n instanceof y)return i;{let r=n.head;e=n.tail,t=b(r,i)}}}function C(e){return Zn(e,l([]))}function vp(e,t,n){for(;;){let i=e,r=t,s=n;if(i instanceof y)return C(s);{let o=i.head,a=i.tail,u;r(o)?u=b(o,s):u=s;let p=u;e=a,t=r,n=p}}}function Nt(e,t){return vp(e,t,l([]))}function kp(e,t,n){for(;;){let i=e,r=t,s=n;if(i instanceof y)return C(s);{let o=i.head,a=i.tail,u,c=r(o);if(c instanceof g){let d=c[0];u=b(d,s)}else u=s;let p=u;e=a,t=r,n=p}}}function Xn(e,t){return kp(e,t,l([]))}function Ap(e,t,n){for(;;){let i=e,r=t,s=n;if(i instanceof y)return C(s);{let o=i.head;e=i.tail,t=r,n=b(r(o),s)}}}function D(e,t){return Ap(e,t,l([]))}function zp(e,t){for(;;){let n=e,i=t;if(n instanceof y)return i;{let r=n.head;e=n.tail,t=b(r,i)}}}function me(e,t){return zp(C(e),t)}function Sp(e,t){for(;;){let n=e,i=t;if(n instanceof y)return C(i);{let r=n.head;e=n.tail,t=Zn(r,i)}}}function Mr(e){return Sp(e,l([]))}function Je(e,t,n){for(;;){let i=e,r=t,s=n;if(i instanceof y)return r;{let o=i.head;e=i.tail,t=s(r,o),n=s}}}function ea(e,t,n){let i=Je(e,[t,l([])],(r,s)=>{let o=r[0],a=r[1],u=n(o,s),c=u[0],p=u[1];return[c,b(p,a)]});return Ku(i,C)}function jp(e,t,n,i){for(;;){let r=e,s=t,o=n,a=i;if(r instanceof y)return s;{let u=r.head;e=r.tail,t=o(s,u,a),n=o,i=a+1}}}function ta(e,t,n){return jp(e,t,n,0)}function St(e,t){for(;;){let n=e,i=t;if(n instanceof y)return new k(void 0);{let r=n.head,s=n.tail;if(i(r))return new g(r);e=s,t=i}}}function Vu(e,t){for(;;){let n=e,i=t;if(n instanceof y)return!0;{let r=n.head,s=n.tail;if(i(r))e=s,t=i;else return!1}}}function qi(e,t){for(;;){let n=e,i=t;if(n instanceof y)return!1;{let r=n.head,s=n.tail;if(i(r))return!0;e=s,t=i}}}function Ep(e,t,n,i,r,s){for(;;){let o=e,a=t,u=n,c=i,p=r,d=s,h=b(p,u);if(o instanceof y)return c instanceof ze?b(C(h),d):b(h,d);{let v=o.head,A=o.tail,q=a(p,v);if(c instanceof ze)if(q instanceof fe)e=A,t=a,n=h,i=c,r=v,s=d;else if(q instanceof pe)e=A,t=a,n=h,i=c,r=v,s=d;else{let j;c instanceof ze?j=b(C(h),d):j=b(h,d);let ne=j;if(A instanceof y)return b(l([v]),ne);{let re=A.head,M=A.tail,B,P=a(v,re);P instanceof fe?B=new ze:P instanceof pe?B=new ze:B=new Yn;let we=B;e=M,t=a,n=l([v]),i=we,r=re,s=ne}}else if(q instanceof fe){let j;c instanceof ze?j=b(C(h),d):j=b(h,d);let ne=j;if(A instanceof y)return b(l([v]),ne);{let re=A.head,M=A.tail,B,P=a(v,re);P instanceof fe?B=new ze:P instanceof pe?B=new ze:B=new Yn;let we=B;e=M,t=a,n=l([v]),i=we,r=re,s=ne}}else if(q instanceof pe){let j;c instanceof ze?j=b(C(h),d):j=b(h,d);let ne=j;if(A instanceof y)return b(l([v]),ne);{let re=A.head,M=A.tail,B,P=a(v,re);P instanceof fe?B=new ze:P instanceof pe?B=new ze:B=new Yn;let we=B;e=M,t=a,n=l([v]),i=we,r=re,s=ne}}else e=A,t=a,n=h,i=c,r=v,s=d}}}function Cp(e,t,n,i){for(;;){let r=e,s=t,o=n,a=i;if(r instanceof y)return Zn(s,a);if(s instanceof y)return Zn(r,a);{let u=r.head,c=r.tail,p=s.head,d=s.tail,h=o(u,p);h instanceof fe?(e=c,t=s,n=o,i=b(u,a)):h instanceof pe?(e=r,t=d,n=o,i=b(p,a)):(e=r,t=d,n=o,i=b(p,a))}}}function Tp(e,t,n){for(;;){let i=e,r=t,s=n;if(i instanceof y)return C(s);{let o=i.tail;if(o instanceof y){let a=i.head;return C(b(C(a),s))}else{let a=i.head,u=o.head,c=o.tail,p=Cp(a,u,r,l([]));e=c,t=r,n=b(p,s)}}}}function qp(e,t,n,i){for(;;){let r=e,s=t,o=n,a=i;if(r instanceof y)return Zn(s,a);if(s instanceof y)return Zn(r,a);{let u=r.head,c=r.tail,p=s.head,d=s.tail,h=o(u,p);h instanceof fe?(e=r,t=d,n=o,i=b(p,a)):h instanceof pe?(e=c,t=s,n=o,i=b(u,a)):(e=c,t=s,n=o,i=b(u,a))}}}function Bp(e,t,n){for(;;){let i=e,r=t,s=n;if(i instanceof y)return C(s);{let o=i.tail;if(o instanceof y){let a=i.head;return C(b(C(a),s))}else{let a=i.head,u=o.head,c=o.tail,p=qp(a,u,r,l([]));e=c,t=r,n=b(p,s)}}}}function Pp(e,t,n){for(;;){let i=e,r=t,s=n;if(i instanceof y)return l([]);if(r instanceof ze){if(i.tail instanceof y)return i.head;e=Tp(i,s,l([])),t=new Yn,n=s}else if(i.tail instanceof y){let a=i.head;return C(a)}else e=Bp(i,s,l([])),t=new ze,n=s}}function Or(e,t){if(e instanceof y)return l([]);{let n=e.tail;if(n instanceof y){let i=e.head;return l([i])}else{let i=e.head,r=n.head,s=n.tail,o,a=t(i,r);a instanceof fe?o=new ze:a instanceof pe?o=new ze:o=new Yn;let u=o,c=Ep(s,t,l([i]),u,r,l([]));return Pp(c,new ze,t)}}}function Np(e,t,n){for(;;){let i=e,r=t,s=n,o=Gs(i,r);if(o instanceof fe)e=i,t=r-1,n=b(r,s);else{if(o instanceof pe)return b(r,s);e=i,t=r+1,n=b(r,s)}}}function Ju(e,t){return Np(e,t,l([]))}function Lp(e,t,n,i){for(;;){let r=e,s=t,o=n,a=i;if(r instanceof y)return C(b([s,o],a));{let u=r.head[0];if(N(u,s)){let c=r.tail;return Zn(a,b([u,o],c))}else{let c=r.head;e=r.tail,t=s,n=o,i=b(c,a)}}}}function na(e,t,n){return Lp(e,t,n,l([]))}function Ip(e,t){if(e instanceof y)return new k(void 0);{let n=e.head,i=e.tail;return new g(Je(i,n,t))}}function Yu(e){return Ip(e,(t,n)=>n)}function Ks(e,t,n){let r=e,s=ia(r,t,n);return s}function Pi(e,t){return e===t?new pe:tc(e,t)?new fe:new Oe}function ec(e,t,n){if(n<0)return"";if(t<0){let s=Lt(e)+t;return s<0?"":la(e,s,n)}else return la(e,t,n)}function Fp(e,t){for(;;){let n=e,i=t;if(n instanceof y)return i;{let r=n.head;e=n.tail,t=i+r}}}function wn(e){return Fp(e,"")}function Hp(e,t,n){for(;;){let i=e,r=t,s=n;if(r<=0)return s;e=i,t=r-1,n=s+i}}function Ni(e,t){return Hp(e,t,"")}function Wp(e,t,n){for(;;){let i=e,r=t,s=n;if(i instanceof y)return s;{let o=i.head;e=i.tail,t=r,n=s+r+o}}}function _t(e,t){if(e instanceof y)return"";{let n=e.head,i=e.tail;return Wp(i,t,n)}}function Gp(e,t){let n=Lt(t),i=Vn(e,n),r=Kn(e,n);return Ni(t,i)+ec(t,0,r)}function gn(e,t,n){let i=Lt(e),r=t-i;return r<=0?e:Gp(r,n)+e}function er(e){let n=Ii(e);return Mi(n)}function Vs(e,t){for(;;){let n=e,i=t;if(i>0){let s=Js(n);if(s instanceof g)e=s[0][1],t=i-1;else return n}else return n}}function nn(e,t){if(t==="")return Ur(e);{let i=e,r=sa(i,t);return D(r,ve)}}function oa(e){let t=It(e);return t}function sc(e){return e instanceof g}function bn(e,t){if(e instanceof g){let n=e[0];return new g(t(n))}else{let n=e[0];return new k(n)}}function Zs(e,t){if(e instanceof g){let n=e[0];return new g(n)}else{let n=e[0];return new k(t(n))}}function Oi(e,t){if(e instanceof g){let n=e[0];return t(n)}else{let n=e[0];return new k(n)}}function $t(e,t){return Oi(e,t)}var tr=class extends _{constructor(t,n,i){super(),this.expected=t,this.found=n,this.path=i}};function Zp(e,t){return Zs(e,n=>D(n,t))}function lc(e){return da(e)}function oc(e){return t=>{if(e instanceof y)return new k(l([new tr("another type",De(t),l([]))]));{let n=e.head,i=e.tail,r=n(t);if(r instanceof g){let s=r[0];return new g(s)}else return oc(i)(t)}}}function Xp(e,t){let n=t,i=oc(l([da,u=>bn(ac(u),J)])),r,s=i(n);if(s instanceof g)r=s[0];else{let u=l(["<",De(n),">"]),c=Qn(u);r=c}let o=r,a=e;return new tr(a.expected,a.found,b(o,e.path))}function fa(e,t){return n=>{let i=new tr("field","nothing",l([]));return Oi(uc(n,e),r=>{let o=Hs(r,l([i])),a=Oi(o,t);return Zp(a,u=>Xp(u,e))})}}var cc=new WeakMap,pa=new DataView(new ArrayBuffer(8)),_a=0;function $a(e){let t=cc.get(e);if(t!==void 0)return t;let n=_a++;return _a===2147483647&&(_a=0),cc.set(e,n),n}function ma(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}function wa(e){let t=0,n=e.length;for(let i=0;i<n;i++)t=Math.imul(31,t)+e.charCodeAt(i)|0;return t}function dc(e){pa.setFloat64(0,e);let t=pa.getInt32(0),n=pa.getInt32(4);return Math.imul(73244475,t>>16^t)^n}function Qp(e){return wa(e.toString())}function e_(e){let t=Object.getPrototypeOf(e);if(t!==null&&typeof t.hashCode=="function")try{let i=e.hashCode(e);if(typeof i=="number")return i}catch{}if(e instanceof Promise||e instanceof WeakSet||e instanceof WeakMap)return $a(e);if(e instanceof Date)return dc(e.getTime());let n=0;if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),Array.isArray(e)||e instanceof Uint8Array)for(let i=0;i<e.length;i++)n=Math.imul(31,n)+ht(e[i])|0;else if(e instanceof Set)e.forEach(i=>{n=n+ht(i)|0});else if(e instanceof Map)e.forEach((i,r)=>{n=n+ma(ht(i),ht(r))|0});else{let i=Object.keys(e);for(let r=0;r<i.length;r++){let s=i[r],o=e[s];n=n+ma(ht(o),wa(s))|0}}return n}function ht(e){if(e===null)return 1108378658;if(e===void 0)return 1108378659;if(e===!0)return 1108378657;if(e===!1)return 1108378656;switch(typeof e){case"number":return dc(e);case"string":return wa(e);case"bigint":return Qp(e);case"object":return e_(e);case"symbol":return $a(e);case"function":return $a(e);default:return 0}}var Ot=5,ga=Math.pow(2,Ot),t_=ga-1,n_=ga/2,r_=ga/4,Re=0,Mt=1,ot=2,rr=3,xa={type:ot,bitmap:0,array:[]};function Ui(e,t){return e>>>t&t_}function Qs(e,t){return 1<<Ui(e,t)}function i_(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),e=e+(e>>4)&252645135,e+=e>>8,e+=e>>16,e&127}function ba(e,t){return i_(e&t-1)}function wt(e,t,n){let i=e.length,r=new Array(i);for(let s=0;s<i;++s)r[s]=e[s];return r[t]=n,r}function s_(e,t,n){let i=e.length,r=new Array(i+1),s=0,o=0;for(;s<t;)r[o++]=e[s++];for(r[o++]=n;s<i;)r[o++]=e[s++];return r}function ha(e,t){let n=e.length,i=new Array(n-1),r=0,s=0;for(;r<t;)i[s++]=e[r++];for(++r;r<n;)i[s++]=e[r++];return i}function pc(e,t,n,i,r,s){let o=ht(t);if(o===i)return{type:rr,hash:o,array:[{type:Re,k:t,v:n},{type:Re,k:r,v:s}]};let a={val:!1};return Di(ya(xa,e,o,t,n,a),e,i,r,s,a)}function Di(e,t,n,i,r,s){switch(e.type){case Mt:return l_(e,t,n,i,r,s);case ot:return ya(e,t,n,i,r,s);case rr:return o_(e,t,n,i,r,s)}}function l_(e,t,n,i,r,s){let o=Ui(n,t),a=e.array[o];if(a===void 0)return s.val=!0,{type:Mt,size:e.size+1,array:wt(e.array,o,{type:Re,k:i,v:r})};if(a.type===Re)return N(i,a.k)?r===a.v?e:{type:Mt,size:e.size,array:wt(e.array,o,{type:Re,k:i,v:r})}:(s.val=!0,{type:Mt,size:e.size,array:wt(e.array,o,pc(t+Ot,a.k,a.v,n,i,r))});let u=Di(a,t+Ot,n,i,r,s);return u===a?e:{type:Mt,size:e.size,array:wt(e.array,o,u)}}function ya(e,t,n,i,r,s){let o=Qs(n,t),a=ba(e.bitmap,o);if((e.bitmap&o)!==0){let u=e.array[a];if(u.type!==Re){let p=Di(u,t+Ot,n,i,r,s);return p===u?e:{type:ot,bitmap:e.bitmap,array:wt(e.array,a,p)}}let c=u.k;return N(i,c)?r===u.v?e:{type:ot,bitmap:e.bitmap,array:wt(e.array,a,{type:Re,k:i,v:r})}:(s.val=!0,{type:ot,bitmap:e.bitmap,array:wt(e.array,a,pc(t+Ot,c,u.v,n,i,r))})}else{let u=e.array.length;if(u>=n_){let c=new Array(32),p=Ui(n,t);c[p]=ya(xa,t+Ot,n,i,r,s);let d=0,h=e.bitmap;for(let v=0;v<32;v++){if((h&1)!==0){let A=e.array[d++];c[v]=A}h=h>>>1}return{type:Mt,size:u+1,array:c}}else{let c=s_(e.array,a,{type:Re,k:i,v:r});return s.val=!0,{type:ot,bitmap:e.bitmap|o,array:c}}}}function o_(e,t,n,i,r,s){if(n===e.hash){let o=va(e,i);if(o!==-1)return e.array[o].v===r?e:{type:rr,hash:n,array:wt(e.array,o,{type:Re,k:i,v:r})};let a=e.array.length;return s.val=!0,{type:rr,hash:n,array:wt(e.array,a,{type:Re,k:i,v:r})}}return Di({type:ot,bitmap:Qs(e.hash,t),array:[e]},t,n,i,r,s)}function va(e,t){let n=e.array.length;for(let i=0;i<n;i++)if(N(t,e.array[i].k))return i;return-1}function Xs(e,t,n,i){switch(e.type){case Mt:return a_(e,t,n,i);case ot:return u_(e,t,n,i);case rr:return c_(e,i)}}function a_(e,t,n,i){let r=Ui(n,t),s=e.array[r];if(s!==void 0){if(s.type!==Re)return Xs(s,t+Ot,n,i);if(N(i,s.k))return s}}function u_(e,t,n,i){let r=Qs(n,t);if((e.bitmap&r)===0)return;let s=ba(e.bitmap,r),o=e.array[s];if(o.type!==Re)return Xs(o,t+Ot,n,i);if(N(i,o.k))return o}function c_(e,t){let n=va(e,t);if(!(n<0))return e.array[n]}function ka(e,t,n,i){switch(e.type){case Mt:return f_(e,t,n,i);case ot:return d_(e,t,n,i);case rr:return p_(e,i)}}function f_(e,t,n,i){let r=Ui(n,t),s=e.array[r];if(s===void 0)return e;let o;if(s.type===Re){if(!N(s.k,i))return e}else if(o=ka(s,t+Ot,n,i),o===s)return e;if(o===void 0){if(e.size<=r_){let a=e.array,u=new Array(e.size-1),c=0,p=0,d=0;for(;c<r;){let h=a[c];h!==void 0&&(u[p]=h,d|=1<<c,++p),++c}for(++c;c<a.length;){let h=a[c];h!==void 0&&(u[p]=h,d|=1<<c,++p),++c}return{type:ot,bitmap:d,array:u}}return{type:Mt,size:e.size-1,array:wt(e.array,r,o)}}return{type:Mt,size:e.size,array:wt(e.array,r,o)}}function d_(e,t,n,i){let r=Qs(n,t);if((e.bitmap&r)===0)return e;let s=ba(e.bitmap,r),o=e.array[s];if(o.type!==Re){let a=ka(o,t+Ot,n,i);return a===o?e:a!==void 0?{type:ot,bitmap:e.bitmap,array:wt(e.array,s,a)}:e.bitmap===r?void 0:{type:ot,bitmap:e.bitmap^r,array:ha(e.array,s)}}return N(i,o.k)?e.bitmap===r?void 0:{type:ot,bitmap:e.bitmap^r,array:ha(e.array,s)}:e}function p_(e,t){let n=va(e,t);if(n<0)return e;if(e.array.length!==1)return{type:rr,hash:e.hash,array:ha(e.array,n)}}function _c(e,t){if(e===void 0)return;let n=e.array,i=n.length;for(let r=0;r<i;r++){let s=n[r];if(s!==void 0){if(s.type===Re){t(s.v,s.k);continue}_c(s,t)}}}var Ye=class e{static fromObject(t){let n=Object.keys(t),i=e.new();for(let r=0;r<n.length;r++){let s=n[r];i=i.set(s,t[s])}return i}static fromMap(t){let n=e.new();return t.forEach((i,r)=>{n=n.set(r,i)}),n}static new(){return new e(void 0,0)}constructor(t,n){this.root=t,this.size=n}get(t,n){if(this.root===void 0)return n;let i=Xs(this.root,0,ht(t),t);return i===void 0?n:i.v}set(t,n){let i={val:!1},r=this.root===void 0?xa:this.root,s=Di(r,0,ht(t),t,n,i);return s===this.root?this:new e(s,i.val?this.size+1:this.size)}delete(t){if(this.root===void 0)return this;let n=ka(this.root,0,ht(t),t);return n===this.root?this:n===void 0?e.new():new e(n,this.size-1)}has(t){return this.root===void 0?!1:Xs(this.root,0,ht(t),t)!==void 0}entries(){if(this.root===void 0)return[];let t=[];return this.forEach((n,i)=>t.push([i,n])),t}forEach(t){_c(this.root,t)}hashCode(){let t=0;return this.forEach((n,i)=>{t=t+ma(ht(n),ht(i))|0}),t}equals(t){if(!(t instanceof e)||this.size!==t.size)return!1;try{return this.forEach((n,i)=>{if(!N(t.get(i,!n),n))throw fc}),!0}catch(n){if(n===fc)return!1;throw n}}},fc=Symbol();var xc=void 0,mc={};function ve(e){return e}function J(e){return e.toString()}function Aa(e){let t=e.toString().replace("+","");if(t.indexOf(".")>=0)return t;{let n=t.indexOf("e");return n>=0?t.slice(0,n)+".0"+t.slice(n):t+".0"}}function ia(e,t,n){return typeof e.replaceAll<"u"?e.replaceAll(t,n):e.replace(new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"),n)}function Lt(e){if(e==="")return 0;let t=el(e);if(t){let n=0;for(let i of t)n++;return n}else return e.match(/./gsu).length}function Ur(e){let t=el(e);return t?ce.fromArray(Array.from(t).map(n=>n.segment)):ce.fromArray(e.match(/./gsu))}var hc;function el(e){if(globalThis.Intl&&Intl.Segmenter)return hc||=new Intl.Segmenter,hc.segment(e)[Symbol.iterator]()}function Js(e){let t,n=el(e);return n?t=n.next().value?.segment:t=e.match(/./su)?.[0],t?new g([t,e.slice(t.length)]):new k(xc)}function ir(e){return[e.charCodeAt(0)|0,e.slice(1)]}function lt(e){return e.toLowerCase()}function tc(e,t){return e<t}function sa(e,t){return ce.fromArray(e.split(t))}function Qn(e){let t="";for(let n of e)t=t+n;return t}function la(e,t,n){if(n<=0||t>=e.length)return"";let i=el(e);if(i){for(;t-- >0;)i.next();let r="";for(;n-- >0;){let s=i.next().value;if(s===void 0)break;r+=s.segment}return r}else return e.match(/./gsu).slice(t,t+n).join("")}function Be(e,t,n){return e.slice(t,t+n)}function Ys(e,t){return e.indexOf(t)>=0}function xn(e,t){return e.startsWith(t)}function Li(e,t){return e.endsWith(t)}var bc=[" ","	",`
`,"\v","\f","\r","\x85","\u2028","\u2029"].join(""),__=new RegExp(`^[${bc}]*`),$_=new RegExp(`[${bc}]*$`);function Ii(e){return e.replace(__,"")}function Mi(e){return e.replace($_,"")}function le(){return Ye.new()}function Jn(e){return ce.fromArray(e.entries())}function Wu(e,t){return t.delete(e)}function zt(e,t){let n=e.get(t,mc);return n===mc?new k(xc):new g(n)}function Gu(e,t,n){return n.set(e,t)}function De(e){if(typeof e=="string")return"String";if(typeof e=="boolean")return"Bool";if(e instanceof Nr)return"Result";if(e instanceof ce)return"List";if(e instanceof it)return"BitArray";if(e instanceof Ye)return"Dict";if(Number.isInteger(e))return"Int";if(Array.isArray(e))return`Tuple of ${e.length} elements`;if(typeof e=="number")return"Float";if(e===null)return"Null";if(e===void 0)return"Nil";{let t=typeof e;return t.charAt(0).toUpperCase()+t.slice(1)}}function za(e,t){return m_(e,De(t))}function m_(e,t){return new k(ce.fromArray([new tr(e,t,ce.fromArray([]))]))}function da(e){return typeof e=="string"?new g(e):za("String",e)}function ac(e){return Number.isInteger(e)?new g(e):za("Int",e)}function uc(e,t){let n=()=>za("Dict",e);if(e instanceof Ye||e instanceof WeakMap||e instanceof Map){let i=zt(e,t);return new g(i.isOk()?new $(i[0]):new x)}else return e===null?n():Object.getPrototypeOf(e)==Object.prototype?wc(e,t,()=>new g(new x)):wc(e,t,n)}function wc(e,t,n){try{return t in e?new g(new $(e[t])):n()}catch{return n()}}function It(e){let t=typeof e;if(e===!0)return"True";if(e===!1)return"False";if(e===null)return"//js(null)";if(e===void 0)return"Nil";if(t==="string")return h_(e);if(t==="bigint"||Number.isInteger(e))return e.toString();if(t==="number")return Aa(e);if(Array.isArray(e))return`#(${e.map(It).join(", ")})`;if(e instanceof ce)return b_(e);if(e instanceof hn)return y_(e);if(e instanceof it)return`<<${ic(e,"")}>>`;if(e instanceof _)return x_(e);if(e instanceof Ye)return w_(e);if(e instanceof Set)return`//js(Set(${[...e].map(It).join(", ")}))`;if(e instanceof RegExp)return`//js(${e})`;if(e instanceof Date)return`//js(Date("${e.toISOString()}"))`;if(e instanceof Function){let n=[];for(let i of Array(e.length).keys())n.push(String.fromCharCode(i+97));return`//fn(${n.join(", ")}) { ... }`}return g_(e)}function h_(e){let t='"';for(let n=0;n<e.length;n++){let i=e[n];switch(i){case`
`:t+="\\n";break;case"\r":t+="\\r";break;case"	":t+="\\t";break;case"\f":t+="\\f";break;case"\\":t+="\\\\";break;case'"':t+='\\"';break;default:i<" "||i>"~"&&i<"\xA0"?t+="\\u{"+i.charCodeAt(0).toString(16).toUpperCase().padStart(4,"0")+"}":t+=i}}return t+='"',t}function w_(e){let t="dict.from_list([",n=!0;return e.forEach((i,r)=>{n||(t=t+", "),t=t+"#("+It(r)+", "+It(i)+")",n=!1}),t+"])"}function g_(e){let t=Object.getPrototypeOf(e)?.constructor?.name||"Object",n=[];for(let s of Object.keys(e))n.push(`${It(s)}: ${It(e[s])}`);let i=n.length?" "+n.join(", ")+" ":"";return`//js(${t==="Object"?"":t+" "}{${i}})`}function x_(e){let t=Object.keys(e).map(n=>{let i=It(e[n]);return isNaN(parseInt(n))?`${n}: ${i}`:i}).join(", ");return t?`${e.constructor.name}(${t})`:e.constructor.name}function b_(e){return`[${e.toArray().map(It).join(", ")}]`}function y_(e){return`//utfcodepoint(${String.fromCodePoint(e.value)})`}function ic(e,t){if(e.bitSize===0)return t;for(let n=0;n<e.byteSize-1;n++)t+=e.byteAt(n).toString(),t+=", ";if(e.byteSize*8===e.bitSize)t+=e.byteAt(e.byteSize-1).toString();else{let n=e.bitSize%8;t+=e.byteAt(e.byteSize-1)>>8-n,t+=`:size(${n})`}return t}function nr(e){return e>=0?e:e*-1}function Gs(e,t){return e===t?new pe:e<t?new fe:new Oe}var tl=class extends _{constructor(t){super(),this[0]=t}},Dr=class extends _{},Ri=class extends _{},Fi=class extends _{},Rr=class extends _{},sr=class extends _{},Hi=class extends _{},Wi=class extends _{},Gi=class extends _{},nl=class extends _{};function vn(e,t){return[Vn(e,t),Kn(e,t)]}var yc=1e3;var vc=1e6;var kc=6e7;var Ac=36e8;var zc=864e8;var Sc=6048e8;var jc=2592e9;var Ec=31536e9;function Cc(e){let n=Je(e,0,(i,r)=>{let s=r[1];if(s instanceof Dr){let o=r[0];return i+o}else if(s instanceof Ri){let o=r[0];return i+o*yc}else if(s instanceof Fi){let o=r[0];return i+o*vc}else if(s instanceof Rr){let o=r[0];return i+o*kc}else if(s instanceof sr){let o=r[0];return i+o*Ac}else if(s instanceof Hi){let o=r[0];return i+o*zc}else if(s instanceof Wi){let o=r[0];return i+o*Sc}else if(s instanceof Gi){let o=r[0];return i+o*jc}else{let o=r[0];return i+o*Ec}});return new tl(n)}function Tc(e){let t=e[0],n=nr(t),i=vn(n,Ec),r=i[0],s=i[1],o=vn(s,jc),a=o[0],u=o[1],c=vn(u,Sc),p=c[0],d=c[1],h=vn(d,zc),v=h[0],A=h[1],q=vn(A,Ac),j=q[0],ne=q[1],re=vn(ne,kc),M=re[0],B=re[1],P=vn(B,vc),we=P[0],Wn=P[1],Iu=vn(Wn,yc),Qd=Iu[0],ep=Iu[1],tp=l([[r,new nl],[a,new Gi],[p,new Wi],[v,new Hi],[j,new sr],[M,new Rr],[we,new Fi],[Qd,new Ri],[ep,new Dr]]),np=Nt(tp,Ci=>Ci[0]>0);return D(np,Ci=>t<0?[-1*Ci[0],Ci[1]]:Ci)}var qc=l([["Africa/Abidjan",0],["Africa/Algiers",3600],["Africa/Bissau",0],["Africa/Cairo",7200],["Africa/Casablanca",3600],["Africa/Ceuta",3600],["Africa/El_Aaiun",3600],["Africa/Johannesburg",7200],["Africa/Juba",7200],["Africa/Khartoum",7200],["Africa/Lagos",3600],["Africa/Maputo",7200],["Africa/Monrovia",0],["Africa/Nairobi",10800],["Africa/Ndjamena",3600],["Africa/Sao_Tome",0],["Africa/Tripoli",7200],["Africa/Tunis",3600],["Africa/Windhoek",7200],["America/Adak",-36e3],["America/Anchorage",-32400],["America/Araguaina",-10800],["America/Argentina/Buenos_Aires",-10800],["America/Argentina/Catamarca",-10800],["America/Argentina/Cordoba",-10800],["America/Argentina/Jujuy",-10800],["America/Argentina/La_Rioja",-10800],["America/Argentina/Mendoza",-10800],["America/Argentina/Rio_Gallegos",-10800],["America/Argentina/Salta",-10800],["America/Argentina/San_Juan",-10800],["America/Argentina/San_Luis",-10800],["America/Argentina/Tucuman",-10800],["America/Argentina/Ushuaia",-10800],["America/Asuncion",-14400],["America/Bahia",-10800],["America/Bahia_Banderas",-21600],["America/Barbados",-14400],["America/Belem",-10800],["America/Belize",-21600],["America/Boa_Vista",-14400],["America/Bogota",-18e3],["America/Boise",-25200],["America/Cambridge_Bay",-25200],["America/Campo_Grande",-14400],["America/Cancun",-18e3],["America/Caracas",-14400],["America/Cayenne",-10800],["America/Chicago",-21600],["America/Chihuahua",-21600],["America/Ciudad_Juarez",-25200],["America/Costa_Rica",-21600],["America/Cuiaba",-14400],["America/Danmarkshavn",0],["America/Dawson",-25200],["America/Dawson_Creek",-25200],["America/Denver",-25200],["America/Detroit",-18e3],["America/Edmonton",-25200],["America/Eirunepe",-18e3],["America/El_Salvador",-21600],["America/Fort_Nelson",-25200],["America/Fortaleza",-10800],["America/Glace_Bay",-14400],["America/Goose_Bay",-14400],["America/Grand_Turk",-18e3],["America/Guatemala",-21600],["America/Guayaquil",-18e3],["America/Guyana",-14400],["America/Halifax",-14400],["America/Havana",-18e3],["America/Hermosillo",-25200],["America/Indiana/Indianapolis",-18e3],["America/Indiana/Knox",-21600],["America/Indiana/Marengo",-18e3],["America/Indiana/Petersburg",-18e3],["America/Indiana/Tell_City",-21600],["America/Indiana/Vevay",-18e3],["America/Indiana/Vincennes",-18e3],["America/Indiana/Winamac",-18e3],["America/Inuvik",-25200],["America/Iqaluit",-18e3],["America/Jamaica",-18e3],["America/Juneau",-32400],["America/Kentucky/Louisville",-18e3],["America/Kentucky/Monticello",-18e3],["America/La_Paz",-14400],["America/Lima",-18e3],["America/Los_Angeles",-28800],["America/Maceio",-10800],["America/Managua",-21600],["America/Manaus",-14400],["America/Martinique",-14400],["America/Matamoros",-21600],["America/Mazatlan",-25200],["America/Menominee",-21600],["America/Merida",-21600],["America/Metlakatla",-32400],["America/Mexico_City",-21600],["America/Miquelon",-10800],["America/Moncton",-14400],["America/Monterrey",-21600],["America/Montevideo",-10800],["America/New_York",-18e3],["America/Nome",-32400],["America/Noronha",-7200],["America/North_Dakota/Beulah",-21600],["America/North_Dakota/Center",-21600],["America/North_Dakota/New_Salem",-21600],["America/Nuuk",-7200],["America/Ojinaga",-21600],["America/Panama",-18e3],["America/Paramaribo",-10800],["America/Phoenix",-25200],["America/Port-au-Prince",-18e3],["America/Porto_Velho",-14400],["America/Puerto_Rico",-14400],["America/Punta_Arenas",-10800],["America/Rankin_Inlet",-21600],["America/Recife",-10800],["America/Regina",-21600],["America/Resolute",-21600],["America/Rio_Branco",-18e3],["America/Santarem",-10800],["America/Santiago",-14400],["America/Santo_Domingo",-14400],["America/Sao_Paulo",-10800],["America/Scoresbysund",-7200],["America/Sitka",-32400],["America/St_Johns",-12600],["America/Swift_Current",-21600],["America/Tegucigalpa",-21600],["America/Thule",-14400],["America/Tijuana",-28800],["America/Toronto",-18e3],["America/Vancouver",-28800],["America/Whitehorse",-25200],["America/Winnipeg",-21600],["America/Yakutat",-32400],["Antarctica/Casey",28800],["Antarctica/Davis",25200],["Antarctica/Macquarie",36e3],["Antarctica/Mawson",18e3],["Antarctica/Palmer",-10800],["Antarctica/Rothera",-10800],["Antarctica/Troll",0],["Antarctica/Vostok",18e3],["Asia/Almaty",18e3],["Asia/Amman",10800],["Asia/Anadyr",43200],["Asia/Aqtau",18e3],["Asia/Aqtobe",18e3],["Asia/Ashgabat",18e3],["Asia/Atyrau",18e3],["Asia/Baghdad",10800],["Asia/Baku",14400],["Asia/Bangkok",25200],["Asia/Barnaul",25200],["Asia/Beirut",7200],["Asia/Bishkek",21600],["Asia/Chita",32400],["Asia/Colombo",19800],["Asia/Damascus",10800],["Asia/Dhaka",21600],["Asia/Dili",32400],["Asia/Dubai",14400],["Asia/Dushanbe",18e3],["Asia/Famagusta",7200],["Asia/Gaza",7200],["Asia/Hebron",7200],["Asia/Ho_Chi_Minh",25200],["Asia/Hong_Kong",28800],["Asia/Hovd",25200],["Asia/Irkutsk",28800],["Asia/Jakarta",25200],["Asia/Jayapura",32400],["Asia/Jerusalem",7200],["Asia/Kabul",16200],["Asia/Kamchatka",43200],["Asia/Karachi",18e3],["Asia/Kathmandu",20700],["Asia/Khandyga",32400],["Asia/Kolkata",19800],["Asia/Krasnoyarsk",25200],["Asia/Kuching",28800],["Asia/Macau",28800],["Asia/Magadan",39600],["Asia/Makassar",28800],["Asia/Manila",28800],["Asia/Nicosia",7200],["Asia/Novokuznetsk",25200],["Asia/Novosibirsk",25200],["Asia/Omsk",21600],["Asia/Oral",18e3],["Asia/Pontianak",25200],["Asia/Pyongyang",32400],["Asia/Qatar",10800],["Asia/Qostanay",18e3],["Asia/Qyzylorda",18e3],["Asia/Riyadh",10800],["Asia/Sakhalin",39600],["Asia/Samarkand",18e3],["Asia/Seoul",32400],["Asia/Shanghai",28800],["Asia/Singapore",28800],["Asia/Srednekolymsk",39600],["Asia/Taipei",28800],["Asia/Tashkent",18e3],["Asia/Tbilisi",14400],["Asia/Tehran",12600],["Asia/Thimphu",21600],["Asia/Tokyo",32400],["Asia/Tomsk",25200],["Asia/Ulaanbaatar",28800],["Asia/Urumqi",21600],["Asia/Ust-Nera",36e3],["Asia/Vladivostok",36e3],["Asia/Yakutsk",32400],["Asia/Yangon",23400],["Asia/Yekaterinburg",18e3],["Asia/Yerevan",14400],["Atlantic/Azores",-3600],["Atlantic/Bermuda",-14400],["Atlantic/Canary",0],["Atlantic/Cape_Verde",-3600],["Atlantic/Faroe",0],["Atlantic/Madeira",0],["Atlantic/South_Georgia",-7200],["Atlantic/Stanley",-10800],["Australia/Adelaide",34200],["Australia/Brisbane",36e3],["Australia/Broken_Hill",34200],["Australia/Darwin",34200],["Australia/Eucla",31500],["Australia/Hobart",36e3],["Australia/Lindeman",36e3],["Australia/Lord_Howe",37800],["Australia/Melbourne",36e3],["Australia/Perth",28800],["Australia/Sydney",36e3],["Etc/GMT",0],["Etc/GMT+1",-3600],["Etc/GMT+10",-36e3],["Etc/GMT+11",-39600],["Etc/GMT+12",-43200],["Etc/GMT+2",-7200],["Etc/GMT+3",-10800],["Etc/GMT+4",-14400],["Etc/GMT+5",-18e3],["Etc/GMT+6",-21600],["Etc/GMT+7",-25200],["Etc/GMT+8",-28800],["Etc/GMT+9",-32400],["Etc/GMT-1",3600],["Etc/GMT-10",36e3],["Etc/GMT-11",39600],["Etc/GMT-12",43200],["Etc/GMT-13",46800],["Etc/GMT-14",50400],["Etc/GMT-2",7200],["Etc/GMT-3",10800],["Etc/GMT-4",14400],["Etc/GMT-5",18e3],["Etc/GMT-6",21600],["Etc/GMT-7",25200],["Etc/GMT-8",28800],["Etc/GMT-9",32400],["Etc/UTC",0],["Europe/Andorra",3600],["Europe/Astrakhan",14400],["Europe/Athens",7200],["Europe/Belgrade",3600],["Europe/Berlin",3600],["Europe/Brussels",3600],["Europe/Bucharest",7200],["Europe/Budapest",3600],["Europe/Chisinau",7200],["Europe/Dublin",3600],["Europe/Gibraltar",3600],["Europe/Helsinki",7200],["Europe/Istanbul",10800],["Europe/Kaliningrad",7200],["Europe/Kirov",10800],["Europe/Kyiv",7200],["Europe/Lisbon",0],["Europe/London",0],["Europe/Madrid",3600],["Europe/Malta",3600],["Europe/Minsk",10800],["Europe/Moscow",10800],["Europe/Paris",3600],["Europe/Prague",3600],["Europe/Riga",7200],["Europe/Rome",3600],["Europe/Samara",14400],["Europe/Saratov",14400],["Europe/Simferopol",10800],["Europe/Sofia",7200],["Europe/Tallinn",7200],["Europe/Tirane",3600],["Europe/Ulyanovsk",14400],["Europe/Vienna",3600],["Europe/Vilnius",7200],["Europe/Volgograd",10800],["Europe/Warsaw",3600],["Europe/Zurich",3600],["Indian/Chagos",21600],["Indian/Maldives",18e3],["Indian/Mauritius",14400],["Pacific/Apia",46800],["Pacific/Auckland",43200],["Pacific/Bougainville",39600],["Pacific/Chatham",45900],["Pacific/Easter",-21600],["Pacific/Efate",39600],["Pacific/Fakaofo",46800],["Pacific/Fiji",43200],["Pacific/Galapagos",-21600],["Pacific/Gambier",-32400],["Pacific/Guadalcanal",39600],["Pacific/Guam",36e3],["Pacific/Honolulu",-36e3],["Pacific/Kanton",46800],["Pacific/Kiritimati",50400],["Pacific/Kosrae",39600],["Pacific/Kwajalein",43200],["Pacific/Marquesas",-34200],["Pacific/Nauru",43200],["Pacific/Niue",-39600],["Pacific/Norfolk",39600],["Pacific/Noumea",39600],["Pacific/Pago_Pago",-39600],["Pacific/Palau",32400],["Pacific/Pitcairn",-28800],["Pacific/Port_Moresby",36e3],["Pacific/Rarotonga",-36e3],["Pacific/Tahiti",-36e3],["Pacific/Tarawa",43200],["Pacific/Tongatapu",46800]]);function Bc(){return Date.now()*1e3}function Pc(){return-new Date().getTimezoneOffset()}function Nc(){return new $(Intl.DateTimeFormat().resolvedOptions().timeZone)}function Lc(){return Math.floor(globalThis.performance.now()*1e3)}function Ic(e,t){let n=new Date((e+t)/1e3);return[[n.getUTCFullYear(),n.getUTCMonth()+1,n.getUTCDate()],[n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),n.getUTCMilliseconds()]]}var T_="src/birl.gleam",rl=class extends _{constructor(t,n,i,r){super(),this.wall_time=t,this.offset=n,this.timezone=i,this.monotonic_time=r}};function Oc(e){let t=e.wall_time;return Vn(t,1e3)}function lr(e){return new rl(e*1e3,0,new x,new x)}function Uc(e,t){let n=e.wall_time,i=e.monotonic_time,r=t.wall_time,s=t.monotonic_time,o;if(s instanceof $)if(i instanceof $){let h=s[0];o=[i[0],h]}else o=[n,r];else o=[n,r];let a=o,u=a[0],c=a[1],p=u===c,d=u<c;return p?new pe:d?new fe:new Oe}function q_(e){return qt(e===0,new g("Z"),()=>{let t=(()=>{let n=l([[e,new Dr]]),i=Cc(n);return Tc(i)})();if(t instanceof y)return new k(void 0);{let n=t.tail;if(n instanceof y)if(t.head[1]instanceof sr){let r=t.head[0],s=l([r>0?wn(l(["+",(()=>{let c=J(r);return gn(c,2,"0")})()])):wn(l(["-",(()=>{let c=nr(r),p=J(c);return gn(p,2,"0")})()])),"00"]),o=_t(s,":");return new g(o)}else return new k(void 0);else if(n.tail instanceof y)if(n.head[1]instanceof Rr)if(t.head[1]instanceof sr){let o=n.head[0],a=t.head[0],u=l([a>0?wn(l(["+",(()=>{let h=J(a);return gn(h,2,"0")})()])):wn(l(["-",(()=>{let h=nr(a),v=J(h);return gn(v,2,"0")})()])),(()=>{let d=nr(o),h=J(d);return gn(h,2,"0")})()]),c=_t(u,":");return new g(c)}else return new k(void 0);else return new k(void 0);else return new k(void 0)}})}function B_(e){let t=e.wall_time,n=e.offset,i=Ic(t,n),r=i[0],s=i[1],o=q_(n);if(!(o instanceof g))throw H("let_assert",T_,"birl",1324,"to_parts","Pattern match failed, no pattern matched the value.",{value:o,start:33803,end:33845,pattern_start:33814,pattern_end:33824});let a=o[0];return[r,s,a]}function Fr(e){let t=B_(e),n=t[0][0],i=t[0][1],r=t[0][2];return J(n)+"-"+(()=>{let o=J(i);return gn(o,2,"0")})()+"-"+(()=>{let o=J(r);return gn(o,2,"0")})()}function Dc(){let e=Bc(),t=Pc(),n=Lc(),i=Nc();return new rl(e,t*6e7,(()=>{let r=Lr(i,s=>qi(qc,a=>a[0]===s)?new $(s):new x);return Ru(r)})(),new $(n))}var Ki=class extends _{constructor(t){super(),this.dict=t}};function Hr(){return new Ki(le())}function kn(e,t){let n=e.dict,i=zt(n,t);return sc(i)}function Ea(e,t){return new Ki(Zo(e.dict,t))}function Ca(e){return Ws(e.dict)}var P_=void 0;function il(e,t){return new Ki(st(e.dict,t,P_))}var F=class extends _{constructor(t,n,i,r,s,o,a){super(),this.scheme=t,this.userinfo=n,this.host=i,this.port=r,this.path=s,this.query=o,this.fragment=a}};function I_(e){return 48>=e&&e<=57||65>=e&&e<=90||97>=e&&e<=122||e===58||e===46}function Dt(e,t){return new g((()=>{let n=t;return new F(n.scheme,n.userinfo,n.host,n.port,n.path,n.query,new $(e))})())}function M_(e,t,n,i){for(;;){let r=e,s=t,o=n,a=i;if(s.startsWith("#"))if(a===0){let u=s.slice(1);return Dt(u,o)}else{let u=s.slice(1),c=Be(r,0,a),p,d=o;return p=new F(d.scheme,d.userinfo,d.host,d.port,d.path,new $(c),d.fragment),Dt(u,p)}else{if(s==="")return new g((()=>{let u=o;return new F(u.scheme,u.userinfo,u.host,u.port,u.path,new $(r),u.fragment)})());{let c=ir(s)[1];e=r,t=c,n=o,i=a+1}}}}function An(e,t){return M_(e,e,t,0)}function O_(e,t,n,i){for(;;){let r=e,s=t,o=n,a=i;if(s.startsWith("?")){let u=s.slice(1),c=Be(r,0,a),p,d=o;return p=new F(d.scheme,d.userinfo,d.host,d.port,c,d.query,d.fragment),An(u,p)}else if(s.startsWith("#")){let u=s.slice(1),c=Be(r,0,a),p,d=o;return p=new F(d.scheme,d.userinfo,d.host,d.port,c,d.query,d.fragment),Dt(u,p)}else{if(s==="")return new g((()=>{let u=o;return new F(u.scheme,u.userinfo,u.host,u.port,r,u.query,u.fragment)})());{let c=ir(s)[1];e=r,t=c,n=o,i=a+1}}}}function Gr(e,t){return O_(e,e,t,0)}function Ut(e,t,n){for(;;){let i=e,r=t,s=n;if(i.startsWith("0"))e=i.slice(1),t=r,n=s*10;else if(i.startsWith("1"))e=i.slice(1),t=r,n=s*10+1;else if(i.startsWith("2"))e=i.slice(1),t=r,n=s*10+2;else if(i.startsWith("3"))e=i.slice(1),t=r,n=s*10+3;else if(i.startsWith("4"))e=i.slice(1),t=r,n=s*10+4;else if(i.startsWith("5"))e=i.slice(1),t=r,n=s*10+5;else if(i.startsWith("6"))e=i.slice(1),t=r,n=s*10+6;else if(i.startsWith("7"))e=i.slice(1),t=r,n=s*10+7;else if(i.startsWith("8"))e=i.slice(1),t=r,n=s*10+8;else if(i.startsWith("9"))e=i.slice(1),t=r,n=s*10+9;else if(i.startsWith("?")){let o=i.slice(1),a,u=r;return a=new F(u.scheme,u.userinfo,u.host,new $(s),u.path,u.query,u.fragment),An(o,a)}else if(i.startsWith("#")){let o=i.slice(1),a,u=r;return a=new F(u.scheme,u.userinfo,u.host,new $(s),u.path,u.query,u.fragment),Dt(o,a)}else if(i.startsWith("/")){let o,a=r;return o=new F(a.scheme,a.userinfo,a.host,new $(s),a.path,a.query,a.fragment),Gr(i,o)}else return i===""?new g((()=>{let o=r;return new F(o.scheme,o.userinfo,o.host,new $(s),o.path,o.query,o.fragment)})()):new k(void 0)}}function sl(e,t){if(e.startsWith(":0")){let n=e.slice(2);return Ut(n,t,0)}else if(e.startsWith(":1")){let n=e.slice(2);return Ut(n,t,1)}else if(e.startsWith(":2")){let n=e.slice(2);return Ut(n,t,2)}else if(e.startsWith(":3")){let n=e.slice(2);return Ut(n,t,3)}else if(e.startsWith(":4")){let n=e.slice(2);return Ut(n,t,4)}else if(e.startsWith(":5")){let n=e.slice(2);return Ut(n,t,5)}else if(e.startsWith(":6")){let n=e.slice(2);return Ut(n,t,6)}else if(e.startsWith(":7")){let n=e.slice(2);return Ut(n,t,7)}else if(e.startsWith(":8")){let n=e.slice(2);return Ut(n,t,8)}else if(e.startsWith(":9")){let n=e.slice(2);return Ut(n,t,9)}else{if(e.startsWith(":"))return new k(void 0);if(e.startsWith("?")){let n=e.slice(1);return An(n,t)}else if(e.startsWith("#")){let n=e.slice(1);return Dt(n,t)}else return e.startsWith("/")?Gr(e,t):e===""?new g(t):new k(void 0)}}function Hc(e,t,n,i){for(;;){let r=e,s=t,o=n,a=i;if(s==="")return new g((()=>{let u=o;return new F(u.scheme,u.userinfo,new $(r),u.port,u.path,u.query,u.fragment)})());if(s.startsWith(":")){let u=Be(r,0,a),c,p=o;return c=new F(p.scheme,p.userinfo,new $(u),p.port,p.path,p.query,p.fragment),sl(s,c)}else if(s.startsWith("/")){let u=Be(r,0,a),c,p=o;return c=new F(p.scheme,p.userinfo,new $(u),p.port,p.path,p.query,p.fragment),Gr(s,c)}else if(s.startsWith("?")){let u=s.slice(1),c=Be(r,0,a),p,d=o;return p=new F(d.scheme,d.userinfo,new $(c),d.port,d.path,d.query,d.fragment),An(u,p)}else if(s.startsWith("#")){let u=s.slice(1),c=Be(r,0,a),p,d=o;return p=new F(d.scheme,d.userinfo,new $(c),d.port,d.path,d.query,d.fragment),Dt(u,p)}else{let c=ir(s)[1];e=r,t=c,n=o,i=a+1}}}function U_(e,t,n,i){for(;;){let r=e,s=t,o=n,a=i;if(s==="")return new g((()=>{let u=o;return new F(u.scheme,u.userinfo,new $(s),u.port,u.path,u.query,u.fragment)})());if(s.startsWith("]"))if(a===0){let u=s.slice(1);return sl(u,o)}else{let u=s.slice(1),c=Be(r,0,a+1),p,d=o;return p=new F(d.scheme,d.userinfo,new $(c),d.port,d.path,d.query,d.fragment),sl(u,p)}else if(s.startsWith("/")){if(a===0)return Gr(s,o);{let u=Be(r,0,a),c,p=o;return c=new F(p.scheme,p.userinfo,new $(u),p.port,p.path,p.query,p.fragment),Gr(s,c)}}else if(s.startsWith("?"))if(a===0){let u=s.slice(1);return An(u,o)}else{let u=s.slice(1),c=Be(r,0,a),p,d=o;return p=new F(d.scheme,d.userinfo,new $(c),d.port,d.path,d.query,d.fragment),An(u,p)}else if(s.startsWith("#"))if(a===0){let u=s.slice(1);return Dt(u,o)}else{let u=s.slice(1),c=Be(r,0,a),p,d=o;return p=new F(d.scheme,d.userinfo,new $(c),d.port,d.path,d.query,d.fragment),Dt(u,p)}else{let u=ir(s),c=u[0],p=u[1];if(I_(c))e=r,t=p,n=o,i=a+1;else return Hc(r,r,o,0)}}}function D_(e,t){return U_(e,e,t,0)}function R_(e,t){return Hc(e,e,t,0)}function Wr(e,t){if(e.startsWith("["))return D_(e,t);if(e.startsWith(":")){let n,i=t;return n=new F(i.scheme,i.userinfo,new $(""),i.port,i.path,i.query,i.fragment),sl(e,n)}else return e===""?new g((()=>{let n=t;return new F(n.scheme,n.userinfo,new $(""),n.port,n.path,n.query,n.fragment)})()):R_(e,t)}function F_(e,t,n,i){for(;;){let r=e,s=t,o=n,a=i;if(s.startsWith("@"))if(a===0){let u=s.slice(1);return Wr(u,o)}else{let u=s.slice(1),c=Be(r,0,a),p,d=o;return p=new F(d.scheme,new $(c),d.host,d.port,d.path,d.query,d.fragment),Wr(u,p)}else{if(s==="")return Wr(r,o);if(s.startsWith("/"))return Wr(r,o);if(s.startsWith("?"))return Wr(r,o);if(s.startsWith("#"))return Wr(r,o);{let c=ir(s)[1];e=r,t=c,n=o,i=a+1}}}}function H_(e,t){return F_(e,e,t,0)}function Ta(e,t){if(e==="//")return new g((()=>{let n=t;return new F(n.scheme,n.userinfo,new $(""),n.port,n.path,n.query,n.fragment)})());if(e.startsWith("//")){let n=e.slice(2);return H_(n,t)}else return Gr(e,t)}function W_(e,t,n,i){for(;;){let r=e,s=t,o=n,a=i;if(s.startsWith("/")){if(a===0)return Ta(s,o);{let u=Be(r,0,a),c,p=o;return c=new F(new $(lt(u)),p.userinfo,p.host,p.port,p.path,p.query,p.fragment),Ta(s,c)}}else if(s.startsWith("?"))if(a===0){let u=s.slice(1);return An(u,o)}else{let u=s.slice(1),c=Be(r,0,a),p,d=o;return p=new F(new $(lt(c)),d.userinfo,d.host,d.port,d.path,d.query,d.fragment),An(u,p)}else if(s.startsWith("#"))if(a===0){let u=s.slice(1);return Dt(u,o)}else{let u=s.slice(1),c=Be(r,0,a),p,d=o;return p=new F(new $(lt(c)),d.userinfo,d.host,d.port,d.path,d.query,d.fragment),Dt(u,p)}else if(s.startsWith(":")){if(a===0)return new k(void 0);{let u=s.slice(1),c=Be(r,0,a),p,d=o;return p=new F(new $(lt(c)),d.userinfo,d.host,d.port,d.path,d.query,d.fragment),Ta(u,p)}}else{if(s==="")return new g((()=>{let u=o;return new F(u.scheme,u.userinfo,u.host,u.port,r,u.query,u.fragment)})());{let c=ir(s)[1];e=r,t=c,n=o,i=a+1}}}}function G_(e,t){for(;;){let n=e,i=t;if(n instanceof y)return C(i);{let r=n.head,s=n.tail,o;r===""||r==="."?o=i:r===".."?i instanceof y?o=l([]):o=i.tail:o=b(r,i);let a=o;e=s,t=a}}}function K_(e){return G_(e,l([]))}function Vi(e){return K_(nn(e,"/"))}function Ne(e){let t,n=e.fragment;if(n instanceof $){let P=n[0];t=l(["#",P])}else t=l([]);let i=t,r,s=e.query;if(s instanceof $){let P=s[0];r=b("?",b(P,i))}else r=i;let o=r,a=b(e.path,o),u,c=e.host;xn(e.path,"/")?u=a:c instanceof $&&c[0]!==""?u=b("/",a):u=a;let d=u,h,v=e.host,A=e.port;if(A instanceof $)if(v instanceof $){let P=A[0];h=b(":",b(J(P),d))}else h=d;else h=d;let q=h,j,ne=e.scheme,re=e.userinfo,M=e.host;if(M instanceof $)if(re instanceof $)if(ne instanceof $){let P=M[0],we=re[0],Wn=ne[0];j=b(Wn,b("://",b(we,b("@",b(P,q)))))}else j=q;else if(ne instanceof $){let P=M[0],we=ne[0];j=b(we,b("://",b(P,q)))}else{let P=M[0];j=b("//",b(P,q))}else if(re instanceof $)if(ne instanceof $){let P=ne[0];j=b(P,b(":",q))}else j=q;else if(ne instanceof $){let P=ne[0];j=b(P,b(":",q))}else j=q;return wn(j)}var V_=new F(new x,new x,new x,new x,"",new x,new x);function he(e){return W_(e,e,V_,0)}function qa(e,t){if(e instanceof Ye||e instanceof WeakMap||e instanceof Map){let i={},r=e.get(t,i);return r===i?new g(new x):new g(new $(r))}let n=Number.isInteger(t);if(n&&t>=0&&t<8&&e instanceof ce){let i=0;for(let r of e){if(i===t)return new g(new $(r));i++}return new k("Indexable")}return n&&Array.isArray(e)||e&&typeof e=="object"||e&&Object.getPrototypeOf(e)===Object.prototype?t in e?new g(new $(e[t])):new g(new x):new k(n?"Indexable":"Dict")}function Wc(e,t,n,i,r){if(!(e instanceof ce||Array.isArray(e))){let o=new gt("List",De(e),r);return[r,ce.fromArray([o])]}let s=[];for(let o of e){let a=t(o),[u,c]=a;if(c instanceof tn){let[p,d]=n(a,i.toString());return[r,d]}s.push(u),i++}return[ce.fromArray(s),r]}function Gc(e){return Number.isInteger(e)?new g(e):new k(0)}function Kc(e){return typeof e=="string"?new g(e):new k("")}var gt=class extends _{constructor(t,n,i){super(),this.expected=t,this.found=n,this.path=i}},at=class extends _{constructor(t){super(),this.function=t}};function Zi(e,t){let n=t.function(e),i=n[0],r=n[1];return r instanceof y?new g(i):new k(r)}function Ze(e){return new at(t=>[e,l([])])}function Ba(e,t){return new at(n=>{let i=e.function(n),r=i[0],s=i[1];return[t(r),s]})}function Vc(e,t){return new at(n=>{let i=e.function(n),r=i[0],s=i[1],a=t(r).function(n),u=a,c=a[0];return s instanceof y?u:[c,s]})}function J_(e,t,n){for(;;){let i=e,r=t,s=n;if(s instanceof y)return r;{let o=s.head,a=s.tail,u=o.function(i),c=u;if(u[1]instanceof y)return c;e=i,t=r,n=a}}}function ll(e,t){return new at(n=>{let i=e.function(n),r=i;return i[1]instanceof y?r:J_(n,r,t)})}function Jc(e,t){return l([new gt(e,De(t),l([]))])}function Yc(e,t,n){let i=n(e);return i instanceof g?[i[0],l([])]:[i[0],l([new gt(t,De(e),l([]))])]}function Y_(e){return N(!0,e)?[!0,l([])]:N(!1,e)?[!1,l([])]:[!1,Jc("Bool",e)]}function Z_(e){return Yc(e,"Int",Gc)}function Zc(e,t){return new at(n=>[e,Jc(t,n)])}var Xc=new at(Y_),Le=new at(Z_);function X_(e){return Yc(e,"String",Kc)}var je=new at(X_);function rn(e){return new at(t=>Wc(t,e.function,(n,i)=>Yi(n,l([i])),0,l([])))}function Yi(e,t){let n=ll(je,l([Ba(Le,J)])),i=D(t,s=>{let o=s,a=Zi(o,n);return a instanceof g?a[0]:"<"+De(o)+">"}),r=D(e[1],s=>{let o=s;return new gt(o.expected,o.found,me(i,s.path))});return[e[0],r]}function Q_(e,t,n,i,r){for(;;){let s=e,o=t,a=n,u=i,c=r;if(s instanceof y){let p=a(u);return Yi(p,C(o))}else{let p=s.head,d=s.tail,h=qa(u,p);if(h instanceof g){let v=h[0];if(v instanceof $){let A=v[0];e=d,t=b(p,o),n=a,i=A,r=c}else return c(u,b(p,o))}else{let v=h[0],j=[a(u)[0],l([new gt(v,De(u),l([]))])];return Yi(j,C(o))}}}}function e$(e,t,n){return new at(i=>{let r=Q_(e,l([]),t.function,i,(p,d)=>{let A=[t.function(p)[0],l([new gt("Field","Nothing",l([]))])];return Yi(A,C(d))}),s=r[0],o=r[1],a=n(s).function(i),u=a[0],c=a[1];return[u,me(o,c)]})}function Z(e,t,n){return e$(l([e]),t,n)}function Pa(e,t,n,i){return new at(r=>{let s,o,a=qa(r,e);if(a instanceof g){let q=a[0];if(q instanceof $){let j=q[0];o=n.function(j)}else o=[t,l([])]}else{let q=a[0];o=[t,l([new gt(q,De(r),l([]))])]}s=Yi(o,l([e]));let c=s,p=c[0],d=c[1],h=i(p).function(r),v=h[0],A=h[1];return[v,me(d,A)]})}function Na(e){return JSON.stringify(e)}function Qc(e){return Object.fromEntries(e)}function ef(e){return e.toArray()}function tf(e){try{let t=JSON.parse(e);return new g(t)}catch(t){return new k(n$(t,e))}}function n$(e,t){return r$(e)?new Kr:i$(e,t)}function r$(e){return/((unexpected (end|eof))|(end of data)|(unterminated string)|(json( parse error|\.parse)\: expected '(\:|\}|\])'))/i.test(e.message)}function i$(e,t){let n=[s$,l$,a$,o$];for(let i of n){let r=i(e,t);if(r)return r}return new Rt("",0)}function s$(e){let n=/unexpected token '(.)', ".+" is not valid JSON/i.exec(e.message);if(!n)return null;let i=ol(n[1]);return new Rt(i,-1)}function l$(e){let n=/unexpected token (.) in JSON at position (\d+)/i.exec(e.message);if(!n)return null;let i=ol(n[1]),r=Number(n[2]);return new Rt(i,r)}function o$(e,t){let i=/(unexpected character|expected .*) at line (\d+) column (\d+)/i.exec(e.message);if(!i)return null;let r=Number(i[2]),s=Number(i[3]),o=u$(r,s,t),a=ol(t[o]);return new Rt(a,o)}function a$(e){let n=/unexpected (identifier|token) "(.)"/i.exec(e.message);if(!n)return null;let i=ol(n[2]);return new Rt(i,0)}function ol(e){return"0x"+e.charCodeAt(0).toString(16).toUpperCase()}function u$(e,t,n){if(e===1)return t-1;let i=1,r=0;return n.split("").find((s,o)=>(s===`
`&&(i+=1),i===e?(r=o+t,!0):!1)),r}var Kr=class extends _{},Rt=class extends _{constructor(t){super(),this[0]=t}},al=class extends _{constructor(t){super(),this[0]=t}},ul=class extends _{constructor(t){super(),this[0]=t}},La=class extends _{constructor(t){super(),this[0]=t}};function c$(e,t){return $t(tf(e),n=>{let i=Zi(n,t);return Zs(i,r=>new La(r))})}function nf(e,t){return c$(e,t)}function jt(e){return Na(e)}function ke(e){return e}function Ma(e){return e}function Ft(e){return e}function Et(e){return Qc(e)}function Oa(e){return ef(e)}function Qi(e,t){let i=D(e,t);return Oa(i)}var es=class extends _{constructor(t){super(),this.all=t}};function rf(e){return new es(l([t=>e(t.dispatch,t.emit,t.select,t.root)]))}function Xe(e){return rf((t,n,i,r)=>e(t))}function z(){return new es(l([]))}function sn(e){return new es(Je(e,l([]),(t,n)=>{let i=n.all;return me(t,i)}))}var or=class extends _{constructor(t){super(),this.content=t}},xe=class extends _{constructor(t,n,i,r,s,o,a){super(),this.key=t,this.namespace=n,this.tag=i,this.attrs=r,this.children=s,this.self_closing=o,this.void=a}};var ar=class extends _{constructor(t,n,i){super(),this[0]=t,this[1]=n,this.as_property=i}},ts=class extends _{constructor(t,n){super(),this[0]=t,this[1]=n}};function p$(e){if(e instanceof ar)return new k(void 0);{let t=e[0],n=e[1],i=Vs(t,2);return new g([i,n])}}function _$(e,t,n){return ta(e,t,(i,r,s)=>{let o=n+"-"+J(s);return sf(r,i,o)})}function sf(e,t,n){for(;;){let i=e,r=t,s=n;if(i instanceof or)return r;if(i instanceof xe){let o=i.attrs,a=i.children,u=Je(o,r,(c,p)=>{let d=p$(p);if(d instanceof g){let h=d[0][0],v=d[0][1];return st(c,s+"-"+h,v)}else return c});return _$(a,u,s)}else{let o=i.subtree;e=o(),t=r,n=s}}}function lf(e){return sf(e,le(),"0")}function E(e,t){return new ar(e,t,!1)}function af(e,t){return new ar(e,t,!0)}function uf(e,t){return new ts("on"+e,t)}function f(e){return E("class",e)}function ns(e){return E("class",(()=>{let n=Xn(e,i=>i[1]?new g(i[0]):new k(void 0));return _t(n," ")})())}function Sn(e){return E("id",e)}function cf(e){return E("role",e)}function jn(e){return E("title",e)}function ff(e){return E("type",e)}function on(e){return E("value",e)}function ur(e){return E("placeholder",e)}function cr(e){return af("disabled",e)}function Ua(e){return af("required",e)}function fr(e){return E("href",e)}function df(e){return E("src",e)}function pf(e){return E("alt",e)}function X(e,t,n){return e==="area"?new xe("","",e,t,l([]),!1,!0):e==="base"?new xe("","",e,t,l([]),!1,!0):e==="br"?new xe("","",e,t,l([]),!1,!0):e==="col"?new xe("","",e,t,l([]),!1,!0):e==="embed"?new xe("","",e,t,l([]),!1,!0):e==="hr"?new xe("","",e,t,l([]),!1,!0):e==="img"?new xe("","",e,t,l([]),!1,!0):e==="input"?new xe("","",e,t,l([]),!1,!0):e==="link"?new xe("","",e,t,l([]),!1,!0):e==="meta"?new xe("","",e,t,l([]),!1,!0):e==="param"?new xe("","",e,t,l([]),!1,!0):e==="source"?new xe("","",e,t,l([]),!1,!0):e==="track"?new xe("","",e,t,l([]),!1,!0):e==="wbr"?new xe("","",e,t,l([]),!1,!0):new xe("","",e,t,n,!1,!1)}function rs(e,t,n,i){return new xe("",e,t,n,i,!1,!1)}function is(e){return new or(e)}function oe(){return new or("")}var fl=class extends _{constructor(t){super(),this[0]=t}},dl=class extends _{constructor(t,n){super(),this[0]=t,this[1]=n}},pl=class extends _{constructor(t,n){super(),this[0]=t,this[1]=n}};function _f(e){return N(e.created,le())&&N(e.removed,Hr())&&N(e.updated,le())}var _l=class extends _{constructor(t){super(),this[0]=t}},$l=class extends _{constructor(t,n){super(),this[0]=t,this[1]=n}},ss=class extends _{constructor(t){super(),this[0]=t}},Ht=class extends _{constructor(t){super(),this[0]=t}},ls=class extends _{constructor(t,n){super(),this[0]=t,this[1]=n}},ml=class extends _{constructor(t,n){super(),this[0]=t,this[1]=n}};var os=class extends _{},hl=class extends _{constructor(t,n){super(),this[0]=t,this[1]=n}},wl=class extends _{constructor(t){super(),this[0]=t}},gl=class extends _{constructor(t){super(),this[0]=t}};globalThis.customElements&&!globalThis.customElements.get("lustre-fragment")&&globalThis.customElements.define("lustre-fragment",class extends HTMLElement{constructor(){super()}});function Da(e,t,n){let i,r=[{prev:e,next:t,parent:e.parentNode}];for(;r.length;){let{prev:s,next:o,parent:a}=r.pop();for(;o.subtree!==void 0;)o=o.subtree();if(o.content!==void 0)if(s)if(s.nodeType===Node.TEXT_NODE)s.textContent!==o.content&&(s.textContent=o.content),i??=s;else{let u=document.createTextNode(o.content);a.replaceChild(u,s),i??=u}else{let u=document.createTextNode(o.content);a.appendChild(u),i??=u}else if(o.tag!==void 0){let u=w$({prev:s,next:o,dispatch:n,stack:r});s?s!==u&&a.replaceChild(u,s):a.appendChild(u),i??=u}}return i}function w$({prev:e,next:t,dispatch:n,stack:i}){let r=t.namespace||"http://www.w3.org/1999/xhtml",s=e&&e.nodeType===Node.ELEMENT_NODE&&e.localName===t.tag&&e.namespaceURI===(t.namespace||"http://www.w3.org/1999/xhtml"),o=s?e:r?document.createElementNS(r,t.tag):document.createElement(t.tag),a;if(as.has(o))a=as.get(o);else{let M=new Map;as.set(o,M),a=M}let u=s?new Set(a.keys()):null,c=s?new Set(Array.from(e.attributes,M=>M.name)):null,p=null,d=null,h=null;if(s&&t.tag==="textarea"){let M=t.children[Symbol.iterator]().next().value?.content;M!==void 0&&(o.value=M)}let v=[];for(let M of t.attrs){let B=M[0],P=M[1];if(M.as_property)o[B]!==P&&(o[B]=P),s&&c.delete(B);else if(B.startsWith("on")){let we=B.slice(2),Wn=n(P,we==="input");a.has(we)||o.addEventListener(we,us),a.set(we,Wn),s&&u.delete(we)}else if(B.startsWith("data-lustre-on-")){let we=B.slice(15),Wn=n(g$);a.has(we)||o.addEventListener(we,us),a.set(we,Wn),o.setAttribute(B,P),s&&(u.delete(we),c.delete(B))}else B.startsWith("delegate:data-")||B.startsWith("delegate:aria-")?(o.setAttribute(B,P),v.push([B.slice(10),P])):B==="class"?p=p===null?P:p+" "+P:B==="style"?d=d===null?P:d+P:B==="dangerous-unescaped-html"?h=P:(o.getAttribute(B)!==P&&o.setAttribute(B,P),(B==="value"||B==="selected")&&(o[B]=P),s&&c.delete(B))}if(p!==null&&(o.setAttribute("class",p),s&&c.delete("class")),d!==null&&(o.setAttribute("style",d),s&&c.delete("style")),s){for(let M of c)o.removeAttribute(M);for(let M of u)a.delete(M),o.removeEventListener(M,us)}if(t.tag==="slot"&&window.queueMicrotask(()=>{for(let M of o.assignedElements())for(let[B,P]of v)M.hasAttribute(B)||M.setAttribute(B,P)}),t.key!==void 0&&t.key!=="")o.setAttribute("data-lustre-key",t.key);else if(h!==null)return o.innerHTML=h,o;let A=o.firstChild,q=null,j=null,ne=null,re=xl(t).next().value;if(s&&re!==void 0&&re.key!==void 0&&re.key!==""){q=new Set,j=$f(e),ne=$f(t);for(let M of xl(t))A=x$(A,M,o,i,ne,j,q)}else for(let M of xl(t))i.unshift({prev:A,next:M,parent:o}),A=A?.nextSibling;for(;A;){let M=A.nextSibling;o.removeChild(A),A=M}return o}var as=new WeakMap;function us(e){let t=e.currentTarget;if(!as.has(t)){t.removeEventListener(e.type,us);return}let n=as.get(t);if(!n.has(e.type)){t.removeEventListener(e.type,us);return}n.get(e.type)(e)}function g$(e){let t=e.currentTarget,n=t.getAttribute(`data-lustre-on-${e.type}`),i=JSON.parse(t.getAttribute("data-lustre-data")||"{}"),r=JSON.parse(t.getAttribute("data-lustre-include")||"[]");switch(e.type){case"input":case"change":r.push("target.value");break}return{tag:n,data:r.reduce((s,o)=>{let a=o.split(".");for(let u=0,c=s,p=e;u<a.length;u++)u===a.length-1?c[a[u]]=p[a[u]]:(c[a[u]]??={},p=p[a[u]],c=c[a[u]]);return s},{data:i})}}function $f(e){let t=new Map;if(e)for(let n of xl(e)){let i=n?.key||n?.getAttribute?.("data-lustre-key");i&&t.set(i,n)}return t}function x$(e,t,n,i,r,s,o){for(;e&&!r.has(e.getAttribute("data-lustre-key"));){let u=e.nextSibling;n.removeChild(e),e=u}if(s.size===0)return i.unshift({prev:e,next:t,parent:n}),e=e?.nextSibling,e;if(o.has(t.key))return console.warn(`Duplicate key found in Lustre vnode: ${t.key}`),i.unshift({prev:null,next:t,parent:n}),e;o.add(t.key);let a=s.get(t.key);if(!a&&!e)return i.unshift({prev:null,next:t,parent:n}),e;if(!a&&e!==null){let u=document.createTextNode("");return n.insertBefore(u,e),i.unshift({prev:u,next:t,parent:n}),e}return!a||a===e?(i.unshift({prev:e,next:t,parent:n}),e=e?.nextSibling,e):(n.insertBefore(a,e),i.unshift({prev:a,next:t,parent:n}),e)}function*xl(e){for(let t of e.children)yield*mf(t)}function*mf(e){e.subtree!==void 0?yield*mf(e.subtree()):yield e}var Ra=class e{static start({init:t,update:n,view:i},r,s){if(!Jr())return new k(new cs);let o=r instanceof HTMLElement?r:document.querySelector(r);if(!o)return new k(new bl(r));let a=new e(o,t(s),n,i);return new g(u=>a.send(u))}constructor(t,[n,i],r,s){this.root=t,this.#e=n,this.#s=r,this.#n=s,this.#t=window.setTimeout(()=>this.#r(i.all.toArray(),!0),0)}root;send(t){if(t instanceof ss){if(t[0]instanceof gl){this.#t=window.clearTimeout(this.#t),this.#i=[],this.#e=t[0][0];let n=this.#n(this.#e),i=(s,o=!1)=>a=>{let u=s(a);u instanceof g&&this.send(new Ht(u[0],o))},r=this.root.firstChild??this.root.appendChild(document.createTextNode(""));Da(r,n,i)}}else if(t instanceof Ht){let n=t[0],i=t[1]??!1;this.#i.push(n),i?(this.#t=window.clearTimeout(this.#t),this.#r()):this.#t||(this.#t=window.setTimeout(()=>this.#r()))}else if(t instanceof ls){let n=t[0],i=t[1];this.root.dispatchEvent(new CustomEvent(n,{detail:i,bubbles:!0,composed:!0}))}else if(t instanceof os)for(this.#t=window.clearTimeout(this.#t),this.#e=null,this.#s=null,this.#n=null,this.#i=null;this.root.firstChild;)this.root.firstChild.remove()}#e;#s;#n;#i=[];#t;#r(t=[]){this.#t=void 0,this.#l(t);let n=this.#n(this.#e),i=(s,o=!1)=>a=>{let u=s(a);u instanceof g&&this.send(new Ht(u[0],o))},r=this.root.firstChild??this.root.appendChild(document.createTextNode(""));Da(r,n,i)}#l(t=[]){for(;this.#i.length>0;){let n=this.#i.shift(),[i,r]=this.#s(this.#e,n);t=t.concat(r.all.toArray()),this.#e=i}for(;t.length>0;){let n=t.shift(),i=a=>this.send(new Ht(a)),r=(a,u)=>this.root.dispatchEvent(new CustomEvent(a,{detail:u,bubbles:!0,composed:!0})),s=()=>{},o=this.root;n({dispatch:i,emit:r,select:s,root:o})}this.#i.length>0&&this.#l(t)}},hf=Ra.start;var Fa=class e{static start({init:t,update:n,view:i,on_attribute_change:r},s){let o=new e(t(s),n,i,r);return new g(a=>o.send(a))}constructor([t,n],i,r,s){this.#e=t,this.#s=i,this.#i=r,this.#t=r(t),this.#a=s,this.#r=new Map,this.#l=lf(this.#t),this.#o(n.all.toArray())}send(t){if(t instanceof _l){for(let n of t[0]){let i=this.#a.get(n[0]);if(!i)continue;let r=i(n[1]);r instanceof k||this.#n.push(r)}this.#o()}else if(t instanceof $l)this.#n=this.#n.concat(t[0].toArray()),this.#o(t[1].all.toArray());else if(!(t instanceof ss))if(t instanceof Ht)this.#n.push(t[0]),this.#o();else if(t instanceof ls){let n=new dl(t[0],t[1]);for(let[i,r]of this.#r)r(n)}else if(t instanceof ml){let n=this.#l.get(t[0]);if(!n)return;let i=n(t[1]);if(i instanceof k)return;this.#n.push(i[0]),this.#o()}else if(t instanceof hl){let n=Ws(this.#a),i=new pl(n,this.#t);this.#r=this.#r.set(t[0],t[1]),t[1](i)}else t instanceof wl&&(this.#r=this.#r.delete(t[0]))}#e;#s;#n;#i;#t;#r;#l;#a;#o(t=[]){this.#u(t);let n=this.#i(this.#e),i=elements(this.#t,n);if(!_f(i)){let r=new fl(i);for(let[s,o]of this.#r)o(r)}this.#t=n,this.#l=i.handlers}#u(t=[]){for(;this.#n.length>0;){let n=this.#n.shift(),[i,r]=this.#s(this.#e,n);t=t.concat(r.all.toArray()),this.#e=i}for(;t.length>0;)t.shift()({dispatch:a=>this.send(new Ht(a)),emit:(a,u)=>this.root.dispatchEvent(new CustomEvent(a,{detail:u,bubbles:!0,composed:!0})),select:()=>{},root:null});this.#n.length>0&&this.#u(t)}},b$=Fa.start,Jr=()=>globalThis.window&&window.document;var Ha=class extends _{constructor(t,n,i,r){super(),this.init=t,this.update=n,this.view=i,this.on_attribute_change=r}};var bl=class extends _{constructor(t){super(),this.selector=t}},cs=class extends _{};function wf(e,t,n){return new Ha(e,t,n,new x)}function gf(e,t,n){return qt(!Jr(),new k(new cs),()=>hf(e,t,n))}function m(e){return is(e)}function Wa(e,t){return X("article",e,t)}function bf(e,t){return X("header",e,t)}function dr(e,t){return X("h1",e,t)}function Ee(e,t){return X("h2",e,t)}function G(e,t){return X("h3",e,t)}function _e(e,t){return X("h4",e,t)}function yf(e,t){return X("h5",e,t)}function vf(e,t){return X("h6",e,t)}function yl(e,t){return X("main",e,t)}function kf(e,t){return X("nav",e,t)}function Qe(e,t){return X("section",e,t)}function w(e,t){return X("div",e,t)}function Af(e){return X("hr",e,l([]))}function vl(e,t){return X("li",e,t)}function ae(e,t){return X("p",e,t)}function Fe(e,t){return X("pre",e,t)}function kl(e,t){return X("ul",e,t)}function pr(e,t){return X("a",e,t)}function zf(e){return X("br",e,l([]))}function Ie(e,t){return X("code",e,t)}function Sf(e,t){return X("em",e,t)}function T(e,t){return X("span",e,t)}function fs(e,t){return X("strong",e,t)}function jf(e){return X("img",e,l([]))}function Al(e,t){return rs("http://www.w3.org/2000/svg","svg",e,t)}function ge(e,t){return X("button",e,t)}function ds(e){return X("input",e,l([]))}function En(e,t){return X("label",e,t)}function Yr(e,t){return X("textarea",e,l([is(t)]))}function Sl(e,t){return uf(e,t)}function ps(e){return Sl("click",t=>new g(e))}function ue(e){return Sl("mousedown",t=>new g(e))}function Ef(e){return Sl("mouseenter",t=>new g(e))}function y$(e){let t=e;return fa("target",fa("value",lc))(t)}function an(e){return Sl("input",t=>{let n=y$(t);return bn(n,e)})}var v$={handle_external_links:!1,handle_internal_links:!0},Tf=window?.location?.href,Ka=()=>Tf?new g(Ga(new URL(Tf))):new k(void 0),Va=(e,t=v$)=>{document.addEventListener("click",n=>{let i=Bf(n.target);if(i)try{let r=new URL(i.href),s=Ga(r),o=r.host!==window.location.host;return!t.handle_external_links&&o||!t.handle_internal_links&&!o?void 0:(n.preventDefault(),o||(window.history.pushState({},"",i.href),window.requestAnimationFrame(()=>{r.hash&&document.getElementById(r.hash.slice(1))?.scrollIntoView()})),e(s))}catch{return}}),window.addEventListener("popstate",n=>{n.preventDefault();let i=new URL(window.location.href),r=Ga(i);window.requestAnimationFrame(()=>{i.hash&&document.getElementById(i.hash.slice(1))?.scrollIntoView()}),e(r)}),window.addEventListener("modem-push",({detail:n})=>{e(n)}),window.addEventListener("modem-replace",({detail:n})=>{e(n)})},qf=e=>{window.history.pushState({},"",Ne(e)),window.requestAnimationFrame(()=>{e.fragment[0]&&document.getElementById(e.fragment[0])?.scrollIntoView()}),window.dispatchEvent(new CustomEvent("modem-push",{detail:e}))};var Bf=e=>!e||e.tagName==="BODY"?null:e.tagName==="A"?e:Bf(e.parentElement),Ga=e=>new F(e.protocol?new $(e.protocol.slice(0,-1)):new x,new x,e.hostname?new $(e.hostname):new x,e.port?new $(Number(e.port)):new x,e.pathname,e.search?new $(e.search.slice(1)):new x,e.hash?new $(e.hash.slice(1)):new x);function Pf(e){return Xe(t=>qt(!Jr(),void 0,()=>Va(n=>{let r=e(n);return t(r)})))}var k$=new F(new x,new x,new x,new x,"",new x,new x);function Cn(e,t,n){return Xe(i=>qt(!Jr(),void 0,()=>qf((()=>{let r=k$;return new F(r.scheme,r.userinfo,r.host,r.port,e,t,n)})())))}function Zr(e,t){localStorage.setItem(e,t)}function Nf(e){let t=localStorage.getItem(e);return t?new g(t):new k(void 0)}function Lf(e){return JSON.parse(e)}function If(e){navigator.clipboard.writeText(e).then(()=>{}).catch(t=>{console.error("Failed to copy to clipboard:",t)})}function Mf(e,t){setTimeout(e,t)}var ut=class extends _{},Wt=class extends _{},Ja=class extends _{},_r=class extends _{},$r=class extends _{},Ya=class extends _{},Za=class extends _{},Xa=class extends _{},Qa=class extends _{};var un=class extends _{},Pe=class extends _{};function Of(e){return e instanceof ut?"GET":e instanceof Wt?"POST":e instanceof Ja?"HEAD":e instanceof _r?"PUT":e instanceof $r?"DELETE":e instanceof Ya?"TRACE":e instanceof Za?"CONNECT":e instanceof Xa?"OPTIONS":e instanceof Qa?"PATCH":e[0]}function Uf(e){return e instanceof un?"http":"https"}var Gt=class extends _{constructor(t,n,i,r,s,o,a,u){super(),this.method=t,this.headers=n,this.body=i,this.scheme=r,this.host=s,this.port=o,this.path=a,this.query=u}};function Rf(e){return new F(new $(Uf(e.scheme)),new x,new $(e.host),e.port,e.path,e.query,new x)}function jl(e,t,n){let i=na(e.headers,lt(t),n),r=e;return new Gt(r.method,i,r.body,r.scheme,r.host,r.port,r.path,r.query)}function cn(e,t){let n=e.method,i=e.headers,r=e.scheme,s=e.host,o=e.port,a=e.path,u=e.query;return new Gt(n,i,t,r,s,o,a,u)}function Me(e,t){let n=e;return new Gt(t,n.headers,n.body,n.scheme,n.host,n.port,n.path,n.query)}function He(){return new Gt(new ut,l([]),"",new Pe,"localhost",new x,"",new x)}function We(e,t){let n=e;return new Gt(n.method,n.headers,n.body,t,n.host,n.port,n.path,n.query)}function Qr(e,t){let n=e;return new Gt(n.method,n.headers,n.body,n.scheme,t,n.port,n.path,n.query)}function ei(e,t){let n=e;return new Gt(n.method,n.headers,n.body,n.scheme,n.host,new $(t),n.path,n.query)}function Ge(e,t){let n=e;return new Gt(n.method,n.headers,n.body,n.scheme,n.host,n.port,t,n.query)}var Tn=class extends _{constructor(t,n,i,r,s,o){super(),this.saving=t,this.slug=n,this.title=i,this.subtitle=r,this.leading=s,this.content=o}};function Ff(e,t,n,i,r){return new Tn(!1,e,t,n,i,r)}function Cl(e){return e.saving}function Tl(e){return e.slug}function ql(e){return e.title}function Bl(e){return e.subtitle}function _s(e){return e.leading}function $s(e){return e.content}function Hf(e,t){let n=e.saving,i=e.title,r=e.subtitle,s=e.leading,o=e.content;return new Tn(n,t,i,r,s,o)}function Wf(e,t){let n=e.saving,i=e.slug,r=e.subtitle,s=e.leading,o=e.content;return new Tn(n,i,t,r,s,o)}function Gf(e,t){let n=e.saving,i=e.slug,r=e.title,s=e.leading,o=e.content;return new Tn(n,i,r,t,s,o)}function Kf(e,t){let n=e.saving,i=e.slug,r=e.title,s=e.subtitle,o=e.content;return new Tn(n,i,r,s,t,o)}function Vf(e,t){let n=e.saving,i=e.slug,r=e.title,s=e.subtitle,o=e.leading;return new Tn(n,i,r,s,o,t)}var Pl=class extends _{constructor(t,n,i){super(),this.status=t,this.headers=n,this.body=i}};var ti=class e{constructor(t){this.promise=t}static wrap(t){return t instanceof Promise?new e(t):t}static unwrap(t){return t instanceof e?t.promise:t}};function Nl(e){return Promise.resolve(ti.wrap(e))}function Yf(e,t){return e.then(n=>t(ti.unwrap(n)))}function Ll(e,t){return e.then(n=>ti.wrap(t(ti.unwrap(n))))}function eu(e,t){return e.catch(n=>t(n))}function Zf(e,t){return Ll(e,i=>(t(i),i))}function Il(e,t){return Yf(e,i=>{if(i instanceof g){let r=i[0];return t(r)}else{let r=i[0];return Nl(new k(r))}})}async function Qf(e){try{return new g(await fetch(e))}catch(t){return new k(new Ml(t.toString()))}}function ed(e){return new Pl(e.status,ce.fromArray([...e.headers]),e)}function T$(e){let t=Ne(Rf(e)),n=Of(e.method).toUpperCase(),i={headers:q$(e.headers),method:n};return[t,i]}function td(e){let[t,n]=T$(e);return n.method!=="GET"&&n.method!=="HEAD"&&(n.body=e.body),new globalThis.Request(t,n)}function q$(e){let t=new globalThis.Headers;for(let[n,i]of e)t.append(n.toLowerCase(),i);return t}async function tu(e){let t;try{t=await e.body.text()}catch{return new k(new Ol)}return new g(e.withFields({body:t}))}var Ml=class extends _{constructor(t){super(),this[0]=t}},Ol=class extends _{};function nd(e){let n=td(e),i=Qf(n);return Il(i,r=>Nl(new g(ed(r))))}var Ul=class extends _{constructor(t){super(),this[0]=t}},ms=class extends _{constructor(t){super(),this[0]=t}},hs=class extends _{constructor(t){super(),this[0]=t}},ni=class extends _{},ws=class extends _{},gs=class extends _{constructor(t,n){super(),this[0]=t,this[1]=n}},nu=class extends _{},Dl=class extends _{constructor(t){super(),this.run=t}};function P$(e,t,n){let i=nd(e),r=Il(i,tu),s=Ll(r,a=>{if(a instanceof g){let u=a[0];return t.run(new g(u))}else return t.run(new k(new ni))}),o=eu(s,a=>t.run(new k(new ni)));Zf(o,n)}function Ke(e,t){return Xe(n=>P$(e,t,n))}function rd(e){let t=e.status;if(200<=t&&t<=299){let n=e.body;return new g(n)}else{let n=e.status;if(n===401)return new k(new nu);if(n===404)return new k(new ws);if(n===500){let i=e.body;return new k(new ms(i))}else{let i=n,r=e.body;return new k(new gs(i,r))}}}function ri(e){return new Dl(t=>{let i=$t(t,rd);return e(i)})}function xt(e,t){return new Dl(n=>{let r=$t(n,rd),s=$t(r,o=>{let a=nf(o,e);if(a instanceof g){let u=a[0];return new g(u)}else{let u=a[0];return new k(new hs(u))}});return t(s)})}var qn=class extends _{},et=class extends _{},Ae=class extends _{constructor(t){super(),this.session=t}},ru=class extends _{constructor(t,n,i){super(),this.subject=t,this.expiry=n,this.permissions=i}};function N$(e){return e instanceof qn?l([]):e instanceof et?l([]):e.session.permissions}function Fl(e,t){return qi(N$(e),n=>qi(t,i=>i===n))}function iu(e,t){let n,i=t.scheme;if(i instanceof $){let d=i[0];d==="http"?n=We(e,new un):d==="https"?n=We(e,new Pe):n=We(e,new Pe)}else n=We(e,new Pe);let r=n,s,o=t.host;if(o instanceof $){let d=o[0];s=Qr(r,d)}else s=r;let a=s,u,c=t.port;if(c instanceof $){let d=c[0];u=ei(a,d)}else u=a;return u}function id(e,t){let n=He(),i=Me(n,new ut),r=Ge(i,"/api/auth/logout"),s=jl(r,"credentials","include"),o=iu(s,t);return Ke(o,ri(e))}function L$(){return Z("subject",je,e=>Z("expiresAt",Le,t=>Z("permissions",rn(je),n=>Ze(new ru(e,t,n)))))}function sd(){let e=L$();return Vc(e,t=>Ze(new Ae(t)))}function su(e,t,n,i){let r,s=Et(l([["username",ke(t)],["password",ke(n)]]));r=jt(s);let o=r,a=He(),u=Me(a,new Wt),c=Ge(u,"/api/auth"),p=cn(c,o),d=iu(p,i);return Ke(d,xt(sd(),e))}function lu(e,t){let n=He(),i=Me(n,new ut),r=Ge(i,"/api/auth"),s=jl(r,"credentials","include"),o=iu(s,t);return Ke(o,xt(sd(),e))}var Y=class extends _{},ie=class extends _{},L=class extends _{constructor(t){super(),this[0]=t}},Ce=class extends _{constructor(t){super(),this[0]=t}},Bn=class extends _{constructor(t){super(),this[0]=t}};function ct(e,t){if(e instanceof L){let n=e[0];return new L(t(n))}else if(e instanceof Ce){let n=e[0];return new Ce(t(n))}else return e}var be=class extends _{constructor(t,n,i,r,s,o,a,u,c,p,d){super(),this.id=t,this.slug=n,this.revision=i,this.author=r,this.tags=s,this.published_at=o,this.title=a,this.subtitle=u,this.leading=c,this.content=p,this.draft=d}};function ii(e){let t=e.content;if(t instanceof L){let n=e.slug,i=e.title,r=e.subtitle,s=e.leading,o=t[0],a=Ff(n,i,r,s,o);return new $(a)}else return new x}function xs(e,t){return Fl(t,l(["post_edit_any"]))}function ld(e,t){return Fl(t,l(["post_edit_any"]))}function od(e,t){return Fl(t,l(["post_edit_any"]))}function bs(e,t){let n,i=t.scheme;if(i instanceof $){let d=i[0];d==="http"?n=We(e,new un):d==="https"?n=We(e,new Pe):n=We(e,new Pe)}else n=We(e,new Pe);let r=n,s,o=t.host;if(o instanceof $){let d=o[0];s=Qr(r,d)}else s=r;let a=s,u,c=t.port;if(c instanceof $){let d=c[0];u=ei(a,d)}else u=a;return u}function ad(e,t,n){let i,r=He(),s=Me(r,new $r),o=Ge(s,"/api/articles/"+t);return i=bs(o,n),Ke(i,ri(e))}function si(){return Pa("version",0,Le,e=>Z("id",je,t=>Z("author",je,n=>Z("tags",ll(rn(je),l([Ze(l([]))])),i=>Z("published_at",Ba(Le,s=>s===0?new x:new $(lr(s))),r=>Z("slug",je,s=>Z("revision",Le,o=>Z("title",je,a=>Z("leading",je,u=>Z("subtitle",je,c=>Pa("content","",je,p=>{let d;p===""?d=new Y:d=new L(p);let h=d;return Ze(new be(t,s,o,n,i,r,a,c,u,h,new x))})))))))))))}function mr(e,t,n){let i,r=He(),s=Me(r,new ut),o=Ge(s,"/api/articles/"+t);return i=bs(o,n),Ke(i,xt(si(),e))}function I$(){return Z("articles",ll(rn(si()),l([Ze(l([]))])),e=>Ze(e))}function ys(e,t){let n,i=He(),r=Me(i,new ut),s=Ge(r,"/api/articles");return n=bs(s,t),Ke(n,xt(I$(),e))}function Hl(e){let t=e.id,n=e.slug,i=e.revision,r=e.author,s=e.tags,o=e.published_at,a=e.title,u=e.subtitle,c=e.leading,p=e.content,d;if(p instanceof L){let q=p[0];d=ke(q)}else d=ke("");let h=d,v;if(o instanceof $){let q=o[0];v=Ft(Oc(q))}else v=Ft(0);let A=v;return Et(l([["struct_version",Ft(1)],["id",ke(t)],["revision",Ft(i)],["slug",ke(n)],["title",ke(a)],["leading",ke(c)],["subtitle",ke(u)],["author",ke(r)],["published_at",A],["tags",Qi(s,ke)],["content",h]]))}function Wl(e,t,n){let i,r=He(),s=Me(r,new _r),o=Ge(s,"/api/articles/"+t.id),a=cn(o,(()=>{let c=Hl(t);return jt(c)})());return i=bs(a,n),Ke(i,xt(si(),e))}function ud(e,t,n){let i,r=He(),s=Me(r,new Wt),o=Ge(s,"/api/articles"),a=cn(o,(()=>{let c=Hl(t);return jt(c)})());return i=bs(a,n),Ke(i,xt(si(),e))}function li(e,t){let n=e.draft;if(n instanceof $){let i=n[0],r=e;return new be(r.id,r.slug,r.revision,r.author,r.tags,r.published_at,r.title,r.subtitle,r.leading,r.content,new $(t(i)))}else return M$("draft_update: not an article with draft","src/article/article.gleam",316),e}function M$(e,t,n){let i="\x1B[90m",r="\x1B[39m",s=`${t}:${n}`,o=fn(e);if(globalThis.process?.stderr?.write){let a=`${i}${s}${r}
${o}
`;process.stderr.write(a)}else if(globalThis.Deno){let a=`${i}${s}${r}
${o}
`;globalThis.Deno.stderr.writeSync(new TextEncoder().encode(a))}else{let a=`${s}
${o}`;globalThis.console.log(a)}return e}function O$(e){let t='"';for(let n=0;n<e.length;n++){let i=e[n];i==`
`?t+="\\n":i=="\r"?t+="\\r":i=="	"?t+="\\t":i=="\f"?t+="\\f":i=="\\"?t+="\\\\":i=='"'?t+='\\"':i<" "||i>"~"&&i<"\xA0"?t+="\\u{"+i.charCodeAt(0).toString(16).toUpperCase().padStart(4,"0")+"}":t+=i}return t+='"',t}function U$(e){let t="dict.from_list([",n=!0,i=[];return e.forEach((r,s)=>{i.push([s,r])}),i.sort(),i.forEach(([r,s])=>{n||(t=t+", "),t=t+"#("+fn(r)+", "+fn(s)+")",n=!1}),t+"])"}function D$(e){let t=globalThis.Object.keys(e).map(n=>{let i=fn(e[n]);return isNaN(parseInt(n))?`${n}: ${i}`:i}).join(", ");return t?`${e.constructor.name}(${t})`:e.constructor.name}function R$(e){let t=Object.getPrototypeOf(e)?.constructor?.name||"Object",n=[];for(let s of Object.keys(e))n.push(`${fn(s)}: ${fn(e[s])}`);let i=n.length?" "+n.join(", ")+" ":"";return`//js(${t==="Object"?"":t+" "}{${i}})`}function fn(e){let t=typeof e;if(e===!0)return"True";if(e===!1)return"False";if(e===null)return"//js(null)";if(e===void 0)return"Nil";if(t==="string")return O$(e);if(t==="bigint"||t==="number")return e.toString();if(globalThis.Array.isArray(e))return`#(${e.map(fn).join(", ")})`;if(e instanceof ce)return`[${e.toArray().map(fn).join(", ")}]`;if(e instanceof hn)return`//utfcodepoint(${String.fromCodePoint(e.value)})`;if(e instanceof it)return F$(e);if(e instanceof _)return D$(e);if(H$(e))return U$(e);if(e instanceof Set)return`//js(Set(${[...e].map(fn).join(", ")}))`;if(e instanceof RegExp)return`//js(${e})`;if(e instanceof Date)return`//js(Date("${e.toISOString()}"))`;if(e instanceof Function){let n=[];for(let i of Array(e.length).keys())n.push(String.fromCharCode(i+97));return`//fn(${n.join(", ")}) { ... }`}return R$(e)}function F$(e){let t=e.bitOffset+8*Math.trunc(e.bitSize/8),n=Gn(e,e.bitOffset,t),i=e.bitSize%8;if(i>0){let r=Fs(e,t,e.bitSize,!1,!1),s=Array.from(n.rawBuffer),o=`${r}:size(${i})`;return s.length===0?`<<${o}>>`:`<<${Array.from(n.rawBuffer).join(", ")}, ${o}>>`}else return`<<${Array.from(n.rawBuffer).join(", ")}>>`}function H$(e){try{return e instanceof Ye}catch{return!1}}var K=class extends _{},de=class extends _{},O=class extends _{},ee=class extends _{},te=class extends _{},ft=class extends _{};var vs=class extends _{},ks=class extends _{},As=class extends _{},zs=class extends _{},R=class extends _{},ye=class extends _{},Te=class extends _{};function bt(e,t){let n;return t instanceof K?n="text-zinc-400 bg-zinc-500/10 sheen-neutral":t instanceof de?n="text-pink-400 bg-pink-500/10 sheen-pink":t instanceof O?n="text-teal-400 bg-teal-500/10 sheen-teal":t instanceof ee?n="text-orange-400 bg-orange-500/10 sheen-orange":t instanceof te?n="text-red-400 bg-red-500/10 sheen-red":n="text-green-400 bg-green-500/10 sheen-green",w(l([f("inline-flex items-center justify-center text-center rounded overflow-hidden relative px-4 py-2 text-sm "+n),E("aria-label",e),E("role","status")]),l([m(e)]))}function Pn(e){let t;e instanceof K?t="bg-zinc-500/20 sheen-neutral":e instanceof de?t="bg-pink-500/20 sheen-pink":e instanceof O?t="bg-teal-500/20 sheen-teal":e instanceof ee?t="bg-orange-500/20 sheen-orange":e instanceof te?t="bg-red-500/20 sheen-red":t="bg-green-500/20 sheen-green";let n=t;return w(l([f("w-full bg-zinc-800 rounded-full h-2 mb-4 overflow-hidden")]),l([w(l([f("h-full rounded-full relative overflow-hidden "+n)]),l([]))]))}function Ss(e,t,n){return w(l([f("flex items-center justify-center py-12 md:py-16")]),l([w(l([f("flex flex-col items-center space-y-6 text-center max-w-md")]),l([bt(e,n),(()=>{if(t instanceof $){let i=t[0];return ae(l([f("text-zinc-500 text-sm")]),l([m(i)]))}else return oe()})()]))]))}function Gl(e,t){return bf(l([f("py-12 md:py-16")]),l([dr(l([f("page-title text-3xl sm:text-4xl md:text-5xl font-light leading-tight mb-4")]),l([m(e)])),(()=>{if(t instanceof $){let n=t[0];return ae(l([f("text-lg text-zinc-400 font-light italic mb-8")]),l([m(n)]))}else return oe()})()]))}function Kl(e){return dr(l([f("page-title text-3xl sm:text-4xl md:text-5xl font-light leading-tight mb-4")]),l([m(e)]))}function js(e,t,n,i){let r;return n instanceof R?t instanceof K?r="text-zinc-400 border-zinc-600 hover:bg-zinc-950/50 hover:text-zinc-300 hover:border-zinc-400 cursor-pointer":t instanceof de?r="text-pink-400 border-pink-600 hover:bg-pink-950/50 hover:text-pink-300 hover:border-pink-400 cursor-pointer":t instanceof O?r="text-teal-400 border-teal-600 hover:bg-teal-950/50 hover:text-teal-300 hover:border-teal-400 cursor-pointer":t instanceof ee?r="text-orange-400 border-orange-600 hover:bg-orange-950/50 hover:text-orange-300 hover:border-orange-400 cursor-pointer":t instanceof te?r="text-red-400 border-red-600 hover:bg-red-950/50 hover:text-red-300 hover:border-red-400 cursor-pointer":r="text-green-400 border-green-600 hover:bg-green-950/50 hover:text-green-300 hover:border-green-400":n instanceof ye?t instanceof K?r="text-zinc-400 border-zinc-600 opacity-70 cursor-wait sheen-neutral overflow-hidden relative":t instanceof de?r="text-pink-400 border-pink-600 opacity-70 cursor-wait sheen-pink overflow-hidden relative":t instanceof O?r="text-teal-400 border-teal-600 opacity-70 cursor-wait sheen-teal overflow-hidden relative":t instanceof ee?r="text-orange-400 border-orange-600  opacity-70 cursor-wait sheen-orange overflow-hidden relative":t instanceof te?r="text-red-400 border-red-600 opacity-70 cursor-wait sheen-red overflow-hidden relative":r="text-green-400 border-green-600 opacity-70 cursor-wait sheen-green overflow-hidden relative":(t instanceof K||t instanceof de||t instanceof O||t instanceof ee||t instanceof te,r="text-zinc-400 border-zinc-600 opacity-50 cursor-not-allowed"),ge(l([f("block w-full text-left px-4 py-3 sm:py-2 text-sm transition-colors duration-200 border-l-2 -left-[1px] relative min-h-[44px] "+r),cr(!(n instanceof R)),ue(i)]),l([m(e)]))}function cu(e,t,n,i){let r;return n instanceof R?t instanceof K?r="text-zinc-400 border-zinc-600 hover:bg-zinc-950/50 hover:text-zinc-300 hover:border-zinc-400 cursor-pointer":t instanceof de?r="text-pink-400 border-pink-600 hover:bg-pink-950/50 hover:text-pink-300 hover:border-pink-400 cursor-pointer":t instanceof O?r="text-teal-400 border-teal-600 hover:bg-teal-950/50 hover:text-teal-300 hover:border-teal-400 cursor-pointer":t instanceof ee?r="text-orange-400 border-orange-600 hover:bg-orange-950/50 hover:text-orange-300 hover:border-orange-400 cursor-pointer":t instanceof te?r="text-red-400 border-red-600 hover:bg-red-950/50 hover:text-red-300 hover:border-red-400 cursor-pointer":r="text-green-400 border-green-600 hover:bg-green-950/50 hover:text-green-300 hover:border-green-400 cursor-pointer":n instanceof ye?t instanceof K?r="text-zinc-400 border-zinc-600 opacity-70 cursor-wait sheen-neutral overflow-hidden relative":t instanceof de?r="text-pink-400 border-pink-600 opacity-70 cursor-wait sheen-pink overflow-hidden relative":t instanceof O?r="text-teal-400 border-teal-600 opacity-70 cursor-wait sheen-teal overflow-hidden relative":t instanceof ee?r="text-orange-400 border-orange-600  opacity-70 cursor-wait sheen-orange overflow-hidden relative":t instanceof te?r="text-red-400 border-red-600 opacity-70 cursor-wait sheen-red overflow-hidden relative":r="text-green-400 border-green-600 opacity-70 cursor-wait sheen-green overflow-hidden relative":(t instanceof K||t instanceof de||t instanceof O||t instanceof ee||t instanceof te,r="text-zinc-400 border-zinc-600 opacity-50 cursor-not-allowed"),ge(l([f("block w-full text-left px-4 py-3 sm:py-2 text-sm transition-colors duration-200 border-l-2 -left-[1px] relative min-h-[44px] "+r),cr(!(n instanceof R)),ue(i)]),e)}function V(e,t,n,i){let r;return n instanceof R?t instanceof K?r="text-zinc-400 border-zinc-600 bg-zinc-500/10 hover:bg-zinc-950/50 hover:text-zinc-300 hover:border-zinc-400 cursor-pointer":t instanceof de?r="text-pink-400 border-pink-600 bg-pink-500/10 hover:bg-pink-950/50 hover:text-pink-300 hover:border-pink-400 cursor-pointer":t instanceof O?r="text-teal-400 border-teal-600 bg-teal-500/10 hover:bg-teal-950/50 hover:text-teal-300 hover:border-teal-400 cursor-pointer":t instanceof ee?r="text-orange-400 border-orange-600 bg-orange-500/10 hover:bg-orange-950/50 hover:text-orange-300 hover:border-orange-400 cursor-pointer":t instanceof te?r="text-red-400 border-red-600 bg-red-500/10 hover:bg-red-950/50 hover:text-red-300 hover:border-red-400 cursor-pointer":r="text-green-400 border-green-600 bg-green-500/10 hover:bg-green-950/50 hover:text-green-300 hover:border-green-400 cursor-pointer":n instanceof ye?t instanceof K?r="text-zinc-400 border-zinc-600 bg-zinc-500/10 opacity-70 cursor-wait sheen-neutral overflow-hidden relative":t instanceof de?r="text-pink-400 border-pink-600 bg-pink-500/10 opacity-70 cursor-wait sheen-pink overflow-hidden relative":t instanceof O?r="text-teal-400 border-teal-600 bg-teal-500/10 opacity-70 cursor-wait sheen-teal overflow-hidden relative":t instanceof ee?r="text-orange-400 border-orange-600 bg-orange-500/10 opacity-70 cursor-wait sheen-orange overflow-hidden relative":t instanceof te?r="text-red-400 border-red-600 bg-red-500/10 opacity-70 cursor-wait sheen-red overflow-hidden relative":r="text-green-400 border-green-600 bg-green-500/10 opacity-70 cursor-wait sheen-green overflow-hidden relative":(t instanceof K||t instanceof de||t instanceof O||t instanceof ee||t instanceof te,r="text-zinc-400 border-zinc-600 bg-zinc-500/10 opacity-50 cursor-not-allowed"),ge(l([f("px-4 py-3 sm:py-2 border-r border-l transition-colors duration-200 min-w-24 min-h-[44px] "+r),cr(!(n instanceof R)),ue(i)]),l([m(e)]))}function oi(e,t,n,i){let r;e instanceof vs?r="\u{1F310}":e instanceof ks?r="\u{1F50D}":e instanceof As?r="\u{1F512}":r="\u26A0\uFE0F";let s=r;return w(l([f("py-12 md:py-16 text-center")]),l([w(l([f("max-w-md mx-auto space-y-6")]),l([w(l([f("text-6xl mb-6")]),l([m(s)])),G(l([f("text-2xl font-light text-zinc-200 mb-4")]),l([m(t)])),ae(l([f("text-zinc-400 text-lg mb-8")]),l([m(n)])),(()=>{if(i instanceof $){let o=i[0];return V("Try Again",new O,new R,o)}else return oe()})()]))]))}function hr(e,t,n,i,r,s,o){return w(l([f("mb-6")]),l([En(l([f("block text-sm font-semibold text-zinc-300 mb-3")]),l([m(e),r?T(l([f("text-red-400 ml-1")]),l([m("*")])):oe()])),ds(l([f(s instanceof $?"form-input w-full bg-zinc-800 border-l-2 border-r border-t border-b border-zinc-600 pl-4 pr-4 py-4 sm:py-3 text-zinc-100 placeholder-zinc-500 transition-all duration-300 ease-out outline-none border-l-red-500 focus:border-l-red-400 focus:bg-red-500/5":"form-input w-full bg-zinc-800 border-l-2 border-r border-t border-b border-zinc-600 pl-4 pr-4 py-4 sm:py-3 text-zinc-100 placeholder-zinc-500 transition-all duration-300 ease-out outline-none border-l-teal-600 focus:border-l-teal-400 focus:bg-teal-500/5"),ff(i),on(t),ur(n),Ua(r),an(o)])),(()=>{if(s instanceof $){let a=s[0];return ae(l([f("text-red-400 text-sm mt-2 flex items-center gap-1")]),l([T(l([f("text-red-400")]),l([m("\u26A0 ")])),m(a)]))}else return oe()})()]))}function cd(e,t,n,i,r,s,o){return w(l([f("mb-6")]),l([En(l([f("block text-sm font-semibold text-zinc-300 mb-3")]),l([m(e),r?T(l([f("text-red-400 ml-1")]),l([m("*")])):oe()])),Yr(l([f(s instanceof $?"w-full "+i+" bg-zinc-800 border-l-2 border-r border-t border-b border-zinc-600 p-4 sm:p-3 text-zinc-100 placeholder-zinc-500 resize-none transition-all duration-300 ease-out outline-none border-l-red-500 focus:border-l-red-400 focus:bg-red-500/5":"w-full "+i+" bg-zinc-800 border-l-2 border-r border-t border-b border-zinc-600 p-4 sm:p-3 text-zinc-100 placeholder-zinc-500 resize-none transition-all duration-300 ease-out outline-none border-l-teal-600 focus:border-l-teal-400 focus:bg-teal-500/5"),on(t),ur(n),Ua(r),an(o)]),t),(()=>{if(s instanceof $){let a=s[0];return ae(l([f("text-red-400 text-sm mt-2 flex items-center gap-1")]),l([T(l([f("text-red-400")]),l([m("\u26A0 ")])),m(a)]))}else return oe()})()]))}function fu(e){return w(l([f("modal-backdrop fixed inset-0 z-40"),ps(e)]),l([]))}function du(e,t,n,i){return w(l([f("modal-content fixed inset-0 z-50 flex items-center justify-center p-4")]),l([w(l([f("glass border-l-2 border-teal-600 border-r border-r-zinc-700 border-t border-t-zinc-700 border-b border-b-zinc-700 max-w-md w-full mx-4 overflow-hidden")]),l([w(l([f("flex items-center justify-between p-6 border-b border-zinc-700/50")]),l([Ee(l([f("text-xl font-semibold text-zinc-100")]),l([m(e)])),ge(l([f("text-zinc-400 hover:text-zinc-200 transition-colors text-2xl"),ps(i),E("aria-label","Close modal")]),l([m("\xD7")]))])),w(l([f("p-6 space-y-6")]),t),n instanceof y?oe():w(l([f("flex justify-end space-x-3 p-6 border-t border-zinc-700/50")]),n)]))]))}function Vl(e,t,n){return w(l([f("py-12 md:py-16 text-center")]),l([w(l([f("max-w-md mx-auto space-y-6")]),l([w(l([f("text-6xl mb-6")]),l([m("\u{1F4DD}")])),G(l([f("text-2xl font-light text-zinc-300 mb-4")]),l([m(e)])),ae(l([f("text-zinc-400 text-lg mb-8")]),l([m(t)])),n instanceof $?n[0]:oe()]))]))}function pu(e,t){return ge(l([f("text-pink-500 hover:text-pink-400 transition-colors duration-200 underline decoration-pink-500/30 hover:decoration-pink-400 underline-offset-2"),ps(t)]),l([m(e)]))}function _u(e){return w(l([f("space-y-6")]),e)}function $u(e,t){return w(l([f("flex items-center justify-between")]),l([e,t]))}function fd(e){return T(l([f("gradient-text")]),l([m(e)]))}function dd(e){return w(l([f("glass rounded-xl p-6")]),e)}function wr(e,t){let n;return t instanceof K?n="bg-zinc-600/20 text-zinc-400 ring-zinc-600/30":t instanceof de?n="bg-pink-600/20 text-pink-400 ring-pink-600/30":t instanceof O?n="bg-teal-600/20 text-teal-400 ring-teal-600/30":t instanceof ee?n="bg-orange-600/20 text-orange-400 ring-orange-600/30":t instanceof te?n="bg-red-600/20 text-red-400 ring-red-600/30":n="bg-green-600/20 text-green-400 ring-green-600/30",T(l([f("inline-flex shrink-0 items-center rounded-full px-2 py-1 text-xs font-medium ring-1 ring-inset "+n)]),l([m(e)]))}function yt(e){return w(l([f("bg-zinc-800 rounded-lg border border-zinc-700 p-6")]),e)}function pd(e,t){return w(l([f("bg-zinc-800 rounded-lg border border-zinc-700")]),l([w(l([f("p-6 border-b border-zinc-700/50")]),l([G(l([f("text-lg font-semibold text-zinc-100")]),l([m(e)]))])),w(l([f("p-6")]),t)]))}function gr(e,t,n,i){let r;return t instanceof K?r="bg-zinc-600/20 text-zinc-300 border-zinc-600/50":t instanceof de?r="bg-pink-600/20 text-pink-300 border-pink-600/50":t instanceof O?r="bg-teal-600/20 text-teal-300 border-teal-600/50":t instanceof ee?r="bg-orange-600/20 text-orange-300 border-orange-600/50":t instanceof te?r="bg-red-600/20 text-red-300 border-red-600/50":r="bg-green-600/20 text-green-300 border-green-600/50",w(l([f("flex items-center justify-between rounded-lg border p-4 "+r)]),l([ae(l([f("text-sm font-medium")]),l([m(e)])),(()=>{if(i instanceof $)if(n){let o=i[0];return ge(l([f("text-sm hover:opacity-75 transition-opacity"),ps(o)]),l([m("\xD7")]))}else return oe();else return oe()})()]))}function _d(e){let t,n=Ju(1,e);t=D(n,r=>w(l([f("h-4 bg-zinc-700 rounded animate-pulse mb-2")]),l([])));let i=t;return w(l([f("space-y-2")]),i)}function $d(){return w(l([f("bg-zinc-800 rounded-lg border border-zinc-700 p-6 animate-pulse")]),l([w(l([f("h-6 bg-zinc-700 rounded mb-4 w-3/4")]),l([])),w(l([f("h-4 bg-zinc-700 rounded mb-2")]),l([])),w(l([f("h-4 bg-zinc-700 rounded mb-2 w-5/6")]),l([])),w(l([f("h-4 bg-zinc-700 rounded w-2/3")]),l([]))]))}function md(e){if(e==="")return!1;if(Ys(e,".")){let n=nn(e,".");if(Qo(n)>=2)if(Vu(n,s=>Lt(s)>0)){let s=Yu(n);if(s instanceof g){let o=s[0];return Lt(o)>=2}else return!1}else return!1;else return!1}else return!1}function Jl(e){if(e==="")return[!1,new $("URL is required")];{let t=he(e);if(t instanceof g){let n=t[0],i=n.scheme,r=n.host;if(r instanceof $)if(i instanceof $){let s=r[0],o=i[0];return o==="http"?md(s)?[!0,new x]:[!1,new $("Host must be a valid domain with a TLD (e.g., example.com)")]:o==="https"?md(s)?[!0,new x]:[!1,new $("Host must be a valid domain with a TLD (e.g., example.com)")]:[!1,new $("URL must use http or https protocol")]}else return[!1,new $("URL must include a protocol (http or https)")];else return i instanceof $?[!1,new $("URL must include a host")]:[!1,new $("URL must include both protocol and host")]}else return[!1,new $("Invalid URL format")]}}function Yl(e){return e.preventDefault()}function Zl(e){return e.code}function Xl(e){return e.ctrlKey}function Ql(e){return e.key}function eo(e){return e.shiftKey}function mu(){return document.visibilityState}function J$(){return globalThis}function Y$(e){window.alert(e)}function Z$(e,t){let n=window.prompt(e,t);return n!==null?new g(n):new k}function xr(e,t){return window.addEventListener(e,t)}function X$(e){return e.document}async function Q$(){try{return new g(await window.navigator.wakeLock.request("screen"))}catch(e){return new k(e.toString())}}function em(){return window.location.href}function tm(e){try{return new g(e.location.href)}catch(t){return new k(t.toString())}}function nm(e,t){e.location.href=t}function rm(){return window.location.origin}function im(){return window.location.pathname}function sm(){return window.location.reload()}function lm(e){return e.location.reload()}function om(e){return e.focus()}function am(){let e=window.location.hash;return e==""?new k:new g(decodeURIComponent(e.slice(1)))}function um(){let e=window.location.search;return e==""?new k:new g(decodeURIComponent(e.slice(1)))}function cm(e){return e.innerHeight}function fm(e){return e.innerWidth}function dm(e){return e.outerHeight}function pm(e){return e.outerWidth}function _m(e){return e.screenX}function $m(e){return e.screenY}function mm(e){return e.screenTop}function hm(e){return e.screenLeft}function wm(e){return e.scrollX}function gm(e){return e.scrollY}function xm(e,t,n){try{return new g(window.open(e,t,n))}catch(i){return new k(i.toString())}}function bm(e){e.close()}function ym(e){return e.closed}function vm(e){return window.queueMicrotask(e)}function km(e){return window.requestAnimationFrame(e)}function Am(e){return window.cancelAnimationFrame(e)}function zm(string){try{return new g(eval(string))}catch(e){return new k(e.toString())}}async function Sm(e){try{return new g(await import(e))}catch(t){return new k(t.toString())}}var se=class extends _{constructor(t){super(),this[0]=t}},Nn=class extends _{constructor(t,n){super(),this[0]=t,this[1]=n}},ai=class extends _{},Ct=class extends _{},ui=class extends _{},ci=class extends _{},fi=class extends _{},di=class extends _{},vt=class extends _{},pi=class extends _{},hu=class extends _{};function wd(e,t,n,i){return i?t==="Control"?new se(new Ct):t==="Shift"?new se(new vt):n?new Nn(e,t):e==="Digit1"?new se(new pi):e==="Digit2"?new se(new hu):new Nn(e,t):n?t==="Control"?new se(new Ct):t==="s"?new se(new ui):t==="e"?new se(new ci):t==="n"?new se(new fi):t==="Space"?new se(new di):t==="Shift"?new se(new vt):new Nn(e,t):e==="Escape"?new se(new ai):t==="Control"?new se(new Ct):t==="Shift"?new se(new vt):new Nn(e,t)}function gd(e,t){let n=Xe(r=>xr("keydown",s=>{let o=Zl(s),a=Ql(s),u=Xl(s),c=eo(s),p=wd(o,a,u,c);if(p instanceof se){let d=p[0];return Yl(s),r(e(new se(d)))}else{let d=p[0],h=p[1];return r(e(new Nn(d,h)))}})),i=Xe(r=>xr("keyup",s=>{let o=Zl(s),a=Ql(s),u=Xl(s),c=eo(s),p=wd(o,a,u,c);if(p instanceof se){let d=p[0];return Yl(s),r(t(new se(d)))}else{let d=p[0],h=p[1];return r(t(new Nn(d,h)))}}));return sn(l([n,i]))}var Em="src/routes.gleam",pn=class extends _{},Tt=class extends _{},Kt=class extends _{constructor(t){super(),this.slug=t}},tt=class extends _{constructor(t){super(),this.id=t}},Vt=class extends _{},Jt=class extends _{},kt=class extends _{},Ln=class extends _{constructor(t){super(),this[0]=t}},U=class extends _{},dn=class extends _{constructor(t){super(),this.uri=t}};function wu(e){let t=Vi(e.path);if(t instanceof y)return new pn;{let n=t.tail;if(n instanceof y){let i=t.head;return i===""?new pn:i==="articles"?new Tt:i==="about"?new Vt:i==="djot-demo"?new Jt:i==="url"?new kt:i==="ui-components"?new U:new dn(e)}else{let i=n.tail;if(i instanceof y){let r=t.head;if(r==="article"){let s=n.head;return new Kt(s)}else if(r==="url"){let s=n.head;return new Ln(s)}else return new dn(e)}else if(i.tail instanceof y)if(i.head==="edit")if(t.head==="article"){let a=n.head;return new tt(a)}else return new dn(e);else return new dn(e);else return new dn(e)}}}function _i(e){if(e instanceof pn)return"/";if(e instanceof Tt)return"/articles";if(e instanceof Kt)return"/article/"+e.slug;if(e instanceof tt)return"/article/"+e.id+"/edit";if(e instanceof Vt)return"/about";if(e instanceof Jt)return"/djot-demo/";if(e instanceof kt)return"/url/";if(e instanceof Ln)return"/url/"+e[0];if(e instanceof U)return"/ui-components";{let t=e.uri;return"/404?uri="+Ne(t)}}function I(e){let t,i=_i(e);t=he(i);let r=t;if(!(r instanceof g))throw H("let_assert",Em,"routes",54,"to_uri","Pattern match failed, no pattern matched the value.",{value:r,start:1262,end:1314,pattern_start:1273,pattern_end:1280});return r[0]}function Cm(e,t){for(;;){let n=e,i=t;if(i instanceof y)return n instanceof y;if(n instanceof y)return!1;{let r=i.head,s=i.tail,o=n.head,a=n.tail;if(N(o,r))e=a,t=s;else return!1}}}function xd(e,t){let n,r=_i(e);n=Vi(r);let s=n,o,u=_i(t);return o=Vi(u),Cm(s,o)}var gu=class extends _{constructor(t,n,i,r,s,o,a,u){super(),this.id=t,this.short_code=n,this.target_url=i,this.created_by=r,this.created_at=s,this.updated_at=o,this.access_count=a,this.is_active=u}},to=class extends _{constructor(t,n){super(),this.short_code=t,this.target_url=n}},xu=class extends _{constructor(t,n,i,r){super(),this.short_urls=t,this.total=n,this.limit=i,this.offset=r}},no=class extends _{constructor(t,n){super(),this.id=t,this.is_active=n}};function bu(){return Z("id",je,e=>Z("shortCode",je,t=>Z("targetUrl",je,n=>Z("createdBy",je,i=>Z("createdAt",Le,r=>Z("updatedAt",Le,s=>Z("accessCount",Le,o=>Z("isActive",Xc,a=>Ze(new gu(e,t,n,i,r,s,o,a))))))))))}function Tm(){return Z("shortUrls",rn(bu()),e=>Z("total",Le,t=>Z("limit",Le,n=>Z("offset",Le,i=>Ze(new xu(e,t,n,i))))))}function qm(e){return Et(l([["shortCode",ke(e.short_code)],["targetUrl",ke(e.target_url)]]))}function Bm(e){let t=l([["id",ke(e.id)]]),n,i=e.is_active;if(i instanceof $){let s=i[0];n=b(["isActive",Ma(s)],t)}else n=t;return Et(n)}function ro(e,t){let n,i=t.scheme;if(i instanceof $){let d=i[0];d==="http"?n=We(e,new un):d==="https"?n=We(e,new Pe):n=We(e,new Pe)}else n=We(e,new Pe);let r=n,s,o=t.host;if(o instanceof $){let d=o[0];s=Qr(r,d)}else s=r;let a=s,u,c=t.port;if(c instanceof $){let d=c[0];u=ei(a,d)}else u=a;return u}function yd(e,t,n){let i,r=qm(n);i=jt(r);let s=i,o=He(),a=Me(o,new Wt),u=Ge(a,"/api/url"),c=cn(u,s),p=ro(c,t);return Ke(p,xt(bu(),e))}function vd(e,t,n,i){let r="/api/url?limit="+J(n)+"&offset="+J(i),s=He(),o=Me(s,new ut),a=Ge(o,r),u=ro(a,t);return Ke(u,xt(Tm(),e))}function kd(e,t,n){let i=He(),r=Me(i,new $r),s=Ge(r,"/api/url/"+n),o=ro(s,t);return Ke(o,ri(e))}function Ad(e,t,n){let i,r=Bm(n);i=jt(r);let s=i,o=He(),a=Me(o,new _r),u=Ge(a,"/api/url/"+n.id),c=cn(u,s),p=ro(c,t);return Ke(p,xt(bu(),e))}var Ve="src/pages/pages.gleam",Es=class extends _{constructor(t){super(),this[0]=t}},br=class extends _{},_n=class extends _{constructor(t,n){super(),this.article=t,this.session=n}},Yt=class extends _{constructor(t,n){super(),this.article=t,this.session_authenticated=n}},yr=class extends _{constructor(t,n){super(),this.articles=t,this.session=n}},In=class extends _{},$i=class extends _{constructor(t){super(),this.session_authenticated=t}},mi=class extends _{constructor(t,n){super(),this.short=t,this.session_authenticated=n}},hi=class extends _{constructor(t){super(),this.session_authenticated=t}},$e=class extends _{constructor(t){super(),this.error=t}},wi=class extends _{},gi=class extends _{constructor(t){super(),this.requested_uri=t}},Cs=class extends _{constructor(t){super(),this.content=t}},vr=class extends _{constructor(t,n){super(),this.slug=t,this.available_slugs=n}},kr=class extends _{constructor(t){super(),this.id=t}},Mn=class extends _{constructor(t,n){super(),this.error=t,this.context=n}},nt=class extends _{constructor(t){super(),this.attempted_action=t}},xi=class extends _{constructor(t){super(),this.msg=t}};function io(e){if(e instanceof Es){let t=e[0];return I(t)}else if(e instanceof br){let t=he("/");if(!(t instanceof g))throw H("let_assert",Ve,"pages/pages",62,"to_uri","Pattern match failed, no pattern matched the value.",{value:t,start:1556,end:1591,pattern_start:1567,pattern_end:1574});return t[0]}else if(e instanceof _n){let t=e.article,n=he("/article/"+t.slug);if(!(n instanceof g))throw H("let_assert",Ve,"pages/pages",74,"to_uri","Pattern match failed, no pattern matched the value.",{value:n,start:1842,end:1901,pattern_start:1853,pattern_end:1860});return n[0]}else if(e instanceof Yt){let t=e.article,n=he("/article/"+t.id+"/edit");if(!(n instanceof g))throw H("let_assert",Ve,"pages/pages",78,"to_uri","Pattern match failed, no pattern matched the value.",{value:n,start:1961,end:2029,pattern_start:1972,pattern_end:1979});return n[0]}else if(e instanceof yr){let t=he("/articles");if(!(t instanceof g))throw H("let_assert",Ve,"pages/pages",66,"to_uri","Pattern match failed, no pattern matched the value.",{value:t,start:1645,end:1688,pattern_start:1656,pattern_end:1663});return t[0]}else if(e instanceof In){let t=he("/articles");if(!(t instanceof g))throw H("let_assert",Ve,"pages/pages",70,"to_uri","Pattern match failed, no pattern matched the value.",{value:t,start:1743,end:1786,pattern_start:1754,pattern_end:1761});return t[0]}else if(e instanceof $i){let t=he("/url/");if(!(t instanceof g))throw H("let_assert",Ve,"pages/pages",82,"to_uri","Pattern match failed, no pattern matched the value.",{value:t,start:2082,end:2121,pattern_start:2093,pattern_end:2100});return t[0]}else if(e instanceof mi){let t=e.short,n=he("/url/");if(!(n instanceof g))throw H("let_assert",Ve,"pages/pages",86,"to_uri","Pattern match failed, no pattern matched the value.",{value:n,start:2180,end:2219,pattern_start:2191,pattern_end:2198});return n[0]}else if(e instanceof hi){let t=he("/ui-components");if(!(t instanceof g))throw H("let_assert",Ve,"pages/pages",90,"to_uri","Pattern match failed, no pattern matched the value.",{value:t,start:2271,end:2319,pattern_start:2282,pattern_end:2289});return t[0]}else if(e instanceof $e){let t=e.error;if(t instanceof vr){let n=t.slug,i=he("/article/"+n);if(!(i instanceof g))throw H("let_assert",Ve,"pages/pages",97,"to_uri","Pattern match failed, no pattern matched the value.",{value:i,start:2430,end:2481,pattern_start:2441,pattern_end:2448});return i[0]}else if(t instanceof kr){let n=t.id,i=he("/article/"+n+"/edit");if(!(i instanceof g))throw H("let_assert",Ve,"pages/pages",101,"to_uri","Pattern match failed, no pattern matched the value.",{value:i,start:2553,end:2613,pattern_start:2564,pattern_end:2571});return i[0]}else if(t instanceof Mn){let n=he("/");if(!(n instanceof g))throw H("let_assert",Ve,"pages/pages",105,"to_uri","Pattern match failed, no pattern matched the value.",{value:n,start:2677,end:2712,pattern_start:2688,pattern_end:2695});return n[0]}else if(t instanceof nt){let n=he("/");if(!(n instanceof g))throw H("let_assert",Ve,"pages/pages",109,"to_uri","Pattern match failed, no pattern matched the value.",{value:n,start:2786,end:2821,pattern_start:2797,pattern_end:2804});return n[0]}else{let n=he("/");if(!(n instanceof g))throw H("let_assert",Ve,"pages/pages",113,"to_uri","Pattern match failed, no pattern matched the value.",{value:n,start:2878,end:2913,pattern_start:2889,pattern_end:2896});return n[0]}}else if(e instanceof wi){let t=he("/about");if(!(t instanceof g))throw H("let_assert",Ve,"pages/pages",119,"to_uri","Pattern match failed, no pattern matched the value.",{value:t,start:2977,end:3017,pattern_start:2988,pattern_end:2995});return t[0]}else{if(e instanceof gi)return e.requested_uri;{let t=e.content,n=he("/djot-demo/"+t);if(!(n instanceof g))throw H("let_assert",Ve,"pages/pages",123,"to_uri","Pattern match failed, no pattern matched the value.",{value:n,start:3071,end:3127,pattern_start:3082,pattern_end:3089});return n[0]}}}function yu(e){return D(e,t=>t.slug)}function Lm(e){let t=e.expected,n=e.found,i=e.path;return"expected: "+t+", found: "+n+", path: "+_t(i,"/")}function zd(e){if(e instanceof y)return"no errors";{let t=e.head,n=e.tail;return Lm(t)+`
`+zd(n)}}function Im(e){let t=e.expected,n=e.found,i=e.path;return"expected: "+t+", found: "+n+", path: "+_t(i,"/")}function Sd(e){if(e instanceof y)return"";{let t=e.head,n=e.tail;return Im(t)+`
`+Sd(n)}}function Mm(e){if(e instanceof Kr)return"unexpected end of input";if(e instanceof Rt)return"unexpected byte: "+e[0];if(e instanceof al)return"unexpected sequence: "+e[0];if(e instanceof ul){let t=e[0];return`unexpected format
`+zd(t)}else{let t=e[0];return`unable to decode
`+Sd(t)}}function Ts(e){if(e instanceof Ul)return"bad url: "+e[0];if(e instanceof ms)return"internal server error: "+e[0];if(e instanceof hs){let t=e[0];return`json error
`+Mm(t)}else{if(e instanceof ni)return"network error";if(e instanceof ws)return"not found";if(e instanceof gs){let t=e[0],n=e[1];return"other error: "+J(t)+" "+n}else return"unauthorized"}}var jd="http://www.w3.org/2000/svg";function bi(e){return rs(jd,"line",e,l([]))}function Ed(e){return rs(jd,"polyline",e,l([]))}var yi=class extends _{},qs=class extends _{},so=class extends _{};function Bs(e,t){return t instanceof yi?Al(me(e,l([E("viewBox","0 0 24 24"),E("fill","none"),E("stroke","currentColor"),E("stroke-width","2"),E("stroke-linecap","round"),E("stroke-linejoin","round")])),l([bi(l([E("x1","18"),E("y1","6"),E("x2","6"),E("y2","18")])),bi(l([E("x1","6"),E("y1","6"),E("x2","18"),E("y2","18")]))])):t instanceof qs?Al(me(e,l([E("viewBox","0 0 24 24"),E("fill","none"),E("stroke","currentColor"),E("stroke-width","2"),E("stroke-linecap","round"),E("stroke-linejoin","round")])),l([bi(l([E("x1","3"),E("y1","6"),E("x2","21"),E("y2","6")])),bi(l([E("x1","3"),E("y1","12"),E("x2","21"),E("y2","12")])),bi(l([E("x1","3"),E("y1","18"),E("x2","21"),E("y2","18")]))])):Al(me(e,l([E("viewBox","0 0 24 24"),E("fill","none"),E("stroke","currentColor"),E("stroke-width","2"),E("stroke-linecap","round"),E("stroke-linejoin","round")])),l([Ed(l([E("points","20,6 9,17 4,12")]))]))}var vu=class extends _{constructor(t,n){super(),this.content=t,this.references=n}},vi=class extends _{},Ps=class extends _{constructor(t,n){super(),this.attributes=t,this.content=n}},Ns=class extends _{constructor(t,n,i){super(),this.attributes=t,this.level=n,this.content=i}},ku=class extends _{constructor(t,n,i){super(),this.attributes=t,this.language=n,this.content=i}},Ar=class extends _{},dt=class extends _{constructor(t){super(),this[0]=t}},zr=class extends _{constructor(t,n){super(),this.content=t,this.destination=n}},Sr=class extends _{constructor(t,n){super(),this.content=t,this.destination=n}},jr=class extends _{constructor(t){super(),this.content=t}},Er=class extends _{constructor(t){super(),this.content=t}},oo=class extends _{constructor(t){super(),this.content=t}},Cr=class extends _{constructor(t){super(),this[0]=t}},Au=class extends _{constructor(t){super(),this[0]=t}};function lo(e,t,n){return t==="class"?Xo(e,t,i=>i instanceof $?i[0]+" "+n:n):st(e,t,n)}function Rm(e){for(;;){let t=e;if(t instanceof y)return l([]);{let n=t.head;if(n===`
`)e=t.tail;else{let i=n,r=t.tail;return b(i,r)}}}}function Tr(e){for(;;){let t=e;if(t instanceof y)return l([]);{let n=t.head;if(n===" ")e=t.tail;else{let i=n,r=t.tail;return b(i,r)}}}}function Cd(e,t){for(;;){let n=e,i=t;if(i instanceof y)return n>=3?new $([new vi,i]):new x;{let r=i.head;if(r===`
`)return n>=3?new $([new vi,i]):new x;if(r===" "){let s=i.tail;e=n,t=s}else if(r==="	"){let s=i.tail;e=n,t=s}else if(r==="-"){let s=i.tail;e=n+1,t=s}else if(r==="*"){let s=i.tail;e=n+1,t=s}else return new x}}}function Fm(e,t){for(;;){let n=e,i=t;if(n instanceof y)return[i,l([])];{let r=n.head;if(r===`
`){let s=n.tail;return[i+`
`,s]}else{let s=r;e=n.tail,t=i+s}}}}function Hm(e,t,n){for(;;){let i=e,r=t,s=n;if(i instanceof y)return s===0?new $([i]):new $([i]);{let o=i.head;if(o===`
`)if(s===0){let a=i.tail;return new $([a])}else{if(s===0)return new $([i]);if(o===r)e=i.tail,t=r,n=s-1;else return new x}else{if(s===0)return new $([i]);if(o===r)e=i.tail,t=r,n=s-1;else return new x}}}}function Wm(e,t,n,i){for(;;){let r=e,s=t,o=n,a=i,u=Hm(r,s,o);if(u instanceof $){let c=u[0][0];return[a,c]}else{let c=Fm(r,a),p=c[0];e=c[1],t=s,n=o,i=p}}}function Td(e,t){for(;;){let n=e,i=t;if(n instanceof y)return new $([new x,n]);{let r=n.head;if(r==="`")return new x;if(r===`
`)if(i===""){let s=n.tail;return new $([new x,s])}else{let s=n.tail;return new $([new $(i),s])}else{let s=r;e=n.tail,t=i+s}}}}function Gm(e,t,n){for(;;){let i=e,r=t,s=n;if(i instanceof y)return new x;if(i.head===r)e=i.tail,t=r,n=s+1;else if(i.head===`
`)if(s>=3){let u=i.tail;return new $([new x,s,u])}else if(s>=3){let u=Tr(i);return Lr(Td(u,""),c=>{let p=c[0],d=c[1];return[p,s,d]})}else return new x;else if(s>=3){let u=Tr(i);return Lr(Td(u,""),c=>{let p=c[0],d=c[1];return[p,s,d]})}else return new x}}function qd(e,t,n){return Fu(Gm(e,n,1),i=>{let r=i[0],s=i[1],o=i[2],a=Wm(o,n,s,""),u=a[0],c=a[1];return new $([new ku(t,r,u),c])})}function Km(e,t,n){for(;;){let i=e,r=t,s=n;if(i instanceof y)return new $([r,er(s),l([])]);{let o=i.head;if(o===`
`){let a=i.tail;if(a instanceof y){let u=a;return new $([r,er(s),u])}else if(a.head===" "){let c=a.tail;e=Tr(c),t=r,n=s}else{let c=a;return new $([r,er(s),c])}}else{let a=o;e=i.tail,t=r,n=s+a}}}}function Vm(e,t){for(;;){let n=e,i=t;if(n instanceof y)return new x;{let r=n.head;if(r==="]"){let s=n.tail;if(s instanceof y)return new x;if(s.head===":"){let a=s.tail;return Km(a,i,"")}else return new x}else{if(r===`
`)return new x;{let s=r;e=n.tail,t=i+s}}}}}function Bd(e,t,n){for(;;){let i=e,r=t,s=n;if(i instanceof y)return new x;{let o=i.head;if(o===" "){let a=i.tail;return new $([r,s,a])}else{if(o==="}")return new $([r,s,i]);{let a=o;e=i.tail,t=r,n=s+a}}}}}function Jm(e,t,n){for(;;){let i=e,r=t,s=n;if(i instanceof y)return new x;{let o=i.head;if(o==='"'){let a=i.tail;return new $([r,s,a])}else{let a=o;e=i.tail,t=r,n=s+a}}}}function Ym(e,t){for(;;){let n=e,i=t;if(n instanceof y)return new x;{let r=n.head;if(r===" ")return new x;if(r==="="){let s=n.tail;if(s instanceof y)return Bd(s,i,"");if(s.head==='"'){let a=s.tail;return Jm(a,i,"")}else return Bd(s,i,"")}else{let s=r;e=n.tail,t=i+s}}}}function Pd(e,t){for(;;){let n=e,i=t;if(n instanceof y)return new $([i,n]);{let r=n.head;if(r==="}")return new $([i,n]);if(r===" ")return new $([i,n]);if(r==="#")return new x;if(r===".")return new x;if(r==="=")return new x;if(r===`
`)return new x;{let s=r;e=n.tail,t=i+s}}}}function Zm(e,t){for(;;){let n=e,i=t;if(n instanceof y)return new $([i,l([])]);{let r=n.head;if(r===`
`){let s=n.tail;return new $([i,s])}else if(r===" ")e=n.tail,t=i;else return new x}}}function Xm(e,t){for(;;){let n=e,i=t,r=Tr(n);if(r instanceof y)return new x;{let s=r.head;if(s==="}"){let o=r.tail;return Zm(o,i)}else if(s==="#"){let o=r.tail,a=Pd(o,"");if(a instanceof $){let u=a[0][0];e=a[0][1],t=lo(i,"id",u)}else return new x}else if(s==="."){let o=r.tail,a=Pd(o,"");if(a instanceof $){let u=a[0][0];e=a[0][1],t=lo(i,"class",u)}else return new x}else{let o=Ym(r,"");if(o instanceof $){let a=o[0][0],u=o[0][1];e=o[0][2],t=lo(i,a,u)}else return new x}}}}function Qm(e){return e==="#"||e==="?"||e==="!"?!1:e!==","}function eh(e,t){for(;;){let n=e,i=t;if(n instanceof y)return i;{let r=n.head;if(r===" "){let s=n.tail;if(N(s,l([])))return i;i===""?(e=n.tail,t=i):(e=n.tail,t=i+"-")}else if(r===`
`){let s=n.tail;if(N(s,l([])))return i;i===""?(e=n.tail,t=i):(e=n.tail,t=i+"-")}else{let s=r;e=n.tail,t=i+s}}}}function th(e){let n=Ur(e),i=Nt(n,Qm);return eh(i,"")}function nh(e,t,n){for(;;){let i=e,r=t,s=n;if(r<0)return new x;if(i instanceof y)return r>0?new x:r===0?new $([s,l([])]):new x;{let o=i.head;if(o===" ")if(r===0){let a=i.tail;return new $([s,a])}else return new x;else if(o==="#")e=i.tail,t=r-1,n=s;else return new x}}}function rh(e,t,n){for(;;){let i=e,r=t,s=n;if(i instanceof y)return[C(s),l([])];{let o=i.tail;if(o instanceof y){let a=i.head;if(a===`
`)return[C(s),l([])];{let u=a;e=o,t=r,n=b(u,s)}}else{let a=o.head;if(a===`
`){let u=i.head;if(u===`
`){let c=o.tail;return[C(s),c]}else{let c=u;e=o,t=r,n=b(c,s)}}else if(a==="#"){let u=i.head;if(u===`
`){let c=o.tail,p=nh(c,r-1,b(`
`,s));if(p instanceof $){let d=p[0][0];e=p[0][1],t=r,n=d}else return[C(s),i]}else{let c=u;e=o,t=r,n=b(c,s)}}else{let u=i.head;e=o,t=r,n=b(u,s)}}}}}function ih(e,t,n,i){for(;;){let r=e,s=t,o=n,a=i;if(r instanceof y)return[!0,a,r];if(r.head==="`")e=r.tail,t=s,n=o+1,i=a;else return s===o?[!0,a,r]:[!1,a+Ni("`",o),r]}}function Nd(e,t,n){for(;;){let i=e,r=t,s=n;if(i instanceof y)return[s,i];{let o=i.head;if(o==="`"){let a=i.tail,u=ih(a,r,1,s),c=u[0],p=u[1],d=u[2];if(c)return[p,d];e=d,t=r,n=p}else{let a=o;e=i.tail,t=r,n=s+a}}}}function sh(e,t){for(;;){let n=e,i=t;if(n instanceof y){let r=Nd(n,i,""),s=r[0],o=r[1],a;xn(s," `")?a=Ii(s):a=s;let c=a,p;Li(c,"` ")?p=Mi(c):p=c;let h=p;return[new oo(h),o]}else if(n.head==="`")e=n.tail,t=i+1;else{let s=Nd(n,i,""),o=s[0],a=s[1],u;xn(o," `")?u=Ii(o):u=o;let p=u,d;Li(p,"` ")?d=Mi(p):d=p;let v=d;return[new oo(v),a]}}}function lh(e,t,n){for(;;){let i=e,r=t,s=n;if(i instanceof y)return new x;{let o=i.head;if(o==="`")return new x;if(o==="	"){let a=i.tail;if(a instanceof y)if(o===r){let c=a,p=C(s);if(p instanceof y)return new x;{let d=p;return new $([d,c])}}else{let c=o;e=a,t=r,n=b(c,s)}else{let u=a.head;if(u===r)e=a.tail,t=r,n=b(" ",b(u,s));else if(o===r){let p=a,d=C(s);if(d instanceof y)return new x;{let h=d;return new $([h,p])}}else{let p=o;e=a,t=r,n=b(p,s)}}}else if(o===`
`){let a=i.tail;if(a instanceof y)if(o===r){let c=a,p=C(s);if(p instanceof y)return new x;{let d=p;return new $([d,c])}}else{let c=o;e=a,t=r,n=b(c,s)}else{let u=a.head;if(u===r)e=a.tail,t=r,n=b(" ",b(u,s));else if(o===r){let p=a,d=C(s);if(d instanceof y)return new x;{let h=d;return new $([h,p])}}else{let p=o;e=a,t=r,n=b(p,s)}}}else if(o===" "){let a=i.tail;if(a instanceof y)if(o===r){let c=a,p=C(s);if(p instanceof y)return new x;{let d=p;return new $([d,c])}}else{let c=o;e=a,t=r,n=b(c,s)}else{let u=a.head;if(u===r)e=a.tail,t=r,n=b(" ",b(u,s));else if(o===r){let p=a,d=C(s);if(d instanceof y)return new x;{let h=d;return new $([h,p])}}else{let p=o;e=a,t=r,n=b(p,s)}}}else if(o===r){let u=i.tail,c=C(s);if(c instanceof y)return new x;{let p=c;return new $([p,u])}}else{let u=o;e=i.tail,t=r,n=b(u,s)}}}}function Ld(e,t,n,i){for(;;){let r=e,s=t,o=n,a=i;if(r instanceof y)return new x;{let u=r.head;if(u===")")if(s){let c=r.tail;return new $([o,new Au(a),c])}else{let c=u;e=r.tail,t=s,n=o,i=a+c}else if(u==="]")if(s){let c=u;e=r.tail,t=s,n=o,i=a+c}else{let c=r.tail;return new $([o,new Cr(a),c])}else if(u===`
`)if(s)e=r.tail,t=s,n=o,i=a;else if(!s)e=r.tail,t=s,n=o,i=a+" ";else{let c=u;e=r.tail,t=s,n=o,i=a+c}else{let c=u;e=r.tail,t=s,n=o,i=a+c}}}}function oh(e,t){for(;;){let n=e,i=t;if(n instanceof y)return new x;{let r=n.tail;if(r instanceof y){let s=n.head;e=r,t=b(s,i)}else{let s=r.head;if(s==="["){let o=n.head;if(o==="]"){let a=r.tail,u=C(i);return Ld(a,!1,u,"")}else{let a=o;e=r,t=b(a,i)}}else if(s==="("){let o=n.head;if(o==="]"){let a=r.tail,u=C(i);return Ld(a,!0,u,"")}else{let a=o;e=r,t=b(a,i)}}else{let o=n.head;e=r,t=b(o,i)}}}}}function ah(e,t){for(;;){let n=e,i=t;if(n instanceof y)return i>0?new $([i,l([])]):new x;{let r=n.head;if(r==="#")e=n.tail,t=i+1;else if(r===" ")if(i!==0){let s=n.tail;return new $([i,s])}else return new x;else if(r===`
`)if(i!==0){let s=n.tail;return new $([i,s])}else return new x;else return new x}}}function ao(e,t){for(;;){let n=e,i=t;if(n instanceof y)return i;{let r=n.head,s=n.tail;if(r instanceof Ar)e=s,t=i;else if(r instanceof dt){let o=r[0];e=s,t=i+o}else if(r instanceof zr){let o=r.content,a=ao(o,i);e=s,t=a}else if(r instanceof Sr){let o=r.content,a=ao(o,i);e=s,t=a}else if(r instanceof jr){let o=r.content;e=me(o,s),t=i}else if(r instanceof Er){let o=r.content;e=me(o,s),t=i}else{let o=r.content;e=s,t=i+o}}}}function uh(e,t){for(;;){let n=e,i=t;if(n instanceof y)return[C(i),l([])];{let r=n.tail;if(r instanceof y){let s=n.head;if(s===`
`)return[C(i),l([])];{let o=s;e=r,t=b(o,i)}}else if(r.head===`
`){let o=n.head;if(o===`
`){let a=r.tail;return[C(i),a]}else{let a=o;e=r,t=b(a,i)}}else{let o=n.head;e=r,t=b(o,i)}}}}function Id(e,t){let n=lh(e,t,l([]));if(n instanceof $){let i=n[0][0],r=n[0][1],s=uo(i,"",l([]));return new $([s,r])}else return new x}function uo(e,t,n){for(;;){let i=e,r=t,s=n;if(i instanceof y)return r===""?C(s):C(b(new dt(r),s));{let o=i.head;if(o==="\\"){let a=i.tail;if(a instanceof y){let u=o;e=a,t=r+u,n=s}else{let u=a.head,c=a.tail;u===`
`?(e=c,t="",n=b(new Ar,b(new dt(r),s))):u===" "?(e=c,t=r+"&nbsp;",n=s):u==="!"||u==='"'||u==="#"||u==="$"||u==="%"||u==="&"||u==="'"||u==="("||u===")"||u==="*"||u==="+"||u===","||u==="-"||u==="."||u==="/"||u===":"||u===";"||u==="<"||u==="="||u===">"||u==="?"||u==="@"||u==="["||u==="\\"||u==="]"||u==="^"||u==="_"||u==="`"||u==="{"||u==="|"||u==="}"||u==="~"?(e=c,t=r+u,n=s):(e=me(l([u]),c),t=r+"\\",n=s)}}else if(o==="_"){let a=i.tail;if(a instanceof y){let u=o;e=a,t=r+u,n=s}else{let u=a.head;if(u!==" "&&u!=="	"&&u!==`
`){let c=a.tail,p=b(u,c),d=Id(p,"_");if(d instanceof $){let h=d[0][0];e=d[0][1],t="",n=b(new jr(h),b(new dt(r),s))}else e=p,t=r+"_",n=s}else{let c=o;e=a,t=r+c,n=s}}}else if(o==="*"){let a=i.tail;if(a instanceof y){let u=o;e=a,t=r+u,n=s}else{let u=a.head;if(u!==" "&&u!=="	"&&u!==`
`){let c=a.tail,p=b(u,c),d=Id(p,"*");if(d instanceof $){let h=d[0][0];e=d[0][1],t="",n=b(new Er(h),b(new dt(r),s))}else e=p,t=r+"*",n=s}else{let c=o;e=a,t=r+c,n=s}}}else if(o==="["){let a=i.tail,u=Md(a,(c,p)=>new zr(c,p));if(u instanceof $){let c=u[0][0];e=u[0][1],t="",n=b(c,b(new dt(r),s))}else e=a,t=r+"[",n=s}else if(o==="!"){let a=i.tail;if(a instanceof y){let u=o;e=a,t=r+u,n=s}else if(a.head==="["){let c=a.tail,p=Md(c,(d,h)=>new Sr(d,h));if(p instanceof $){let d=p[0][0];e=p[0][1],t="",n=b(d,b(new dt(r),s))}else e=c,t=r+"![",n=s}else{let c=o;e=a,t=r+c,n=s}}else if(o==="`"){let a=i.tail,u=sh(a,1),c=u[0];e=u[1],t="",n=b(c,b(new dt(r),s))}else if(o===`
`){let a=i.tail;e=Tr(a),t=r+`
`,n=s}else{let a=o;e=i.tail,t=r+a,n=s}}}}function Md(e,t){let n=oh(e,l([]));if(n instanceof $){let i=n[0][0],r=n[0][1],s=n[0][2],o=uo(i,"",l([])),a;r instanceof Cr&&r[0]===""?a=new Cr(ao(o,"")):a=r;let u=a;return new $([t(o,u),s])}else return new x}function On(e,t){let n=uh(e,l([])),i=n[0],r=n[1],s=uo(i,"",l([]));return[new Ps(t,s),r]}function ch(e,t,n){let i=ah(e,1);if(i instanceof $){let r=i[0][0],s=i[0][1],o=Tr(s),a=rh(o,r,l([])),u=a[0],c=a[1],p=uo(u,"",l([])),d=ao(p,""),h,v=th(d);if(v==="")h=[t,n];else{let re=v;if(zt(t,re)instanceof g)h=[t,n];else{let B=st(t,re,"#"+re),P=lo(n,"id",re);h=[B,P]}}let A=h,q=A[0],j=A[1];return[new Ns(j,r,p),q,c]}else{let r=On(b("#",e),n),s=r[0],o=r[1];return[s,t,o]}}function fh(e,t,n,i){for(;;){let r=e,s=t,o=n,a=i,u=Rm(r),c=Tr(u);if(c instanceof y)return new vu(C(o),s);{let p=c.head;if(p==="{"){let d=c.tail,h=Xm(d,a);if(h instanceof $){let v=h[0][0];e=h[0][1],t=s,n=o,i=v}else{let v=On(c,a),A=v[0];e=v[1],t=s,n=b(A,o),i=le()}}else if(p==="#"){let d=c.tail,h=ch(d,s,a),v=h[0],A=h[1];e=h[2],t=A,n=b(v,o),i=le()}else if(p==="~"){let d=p,h=c.tail,v=qd(h,a,d);if(v instanceof $){let A=v[0][0];e=v[0][1],t=s,n=b(A,o),i=le()}else{let A=On(c,a),q=A[0];e=A[1],t=s,n=b(q,o),i=le()}}else if(p==="`"){let d=p,h=c.tail,v=qd(h,a,d);if(v instanceof $){let A=v[0][0];e=v[0][1],t=s,n=b(A,o),i=le()}else{let A=On(c,a),q=A[0];e=A[1],t=s,n=b(q,o),i=le()}}else if(p==="["){let d=c.tail,h=Vm(d,"");if(h instanceof $){let v=h[0][0],A=h[0][1],q=h[0][2],j=st(s,v,A);e=q,t=j,n=o,i=le()}else{let v=On(c,a),A=v[0];e=v[1],t=s,n=b(A,o),i=le()}}else if(p==="-"){let d=c.tail,h=Cd(1,d);if(h instanceof $){let v=h[0][0];e=h[0][1],t=s,n=b(v,o),i=le()}else{let v=On(c,a),A=v[0];e=v[1],t=s,n=b(A,o),i=le()}}else if(p==="*"){let d=c.tail,h=Cd(1,d);if(h instanceof $){let v=h[0][0];e=h[0][1],t=s,n=b(v,o),i=le()}else{let v=On(c,a),A=v[0];e=v[1],t=s,n=b(A,o),i=le()}}else{let d=On(c,a),h=d[0];e=d[1],t=s,n=b(h,o),i=le()}}}}function Od(e){let n=Ks(e,`\r
`,`
`),i=Ur(n);return fh(i,le(),l([]),le())}function Ud(e,t){if(e instanceof Cr){let n=e[0],i=zt(t,n);return i instanceof g?i[0]:""}else return e[0]}function zu(e,t){for(;;){let n=e,i=t;if(n instanceof y)return i;{let r=n.head,s=n.tail;if(r instanceof Ar)e=s,t=i;else if(r instanceof dt){let o=r[0];e=s,t=i+o}else if(r instanceof zr){let o=r.content,a=zu(o,i);e=s,t=a}else if(r instanceof Sr){let o=r.content,a=zu(o,i);e=s,t=a}else if(r instanceof jr){let o=r.content;e=me(o,s),t=i}else if(r instanceof Er){let o=r.content;e=me(o,s),t=i}else{let o=r.content;e=s,t=i+o}}}}function Un(e,t){let i=Jn(e),r=Or(i,(s,o)=>Pi(s[0],o[0]));return Je(r,t,(s,o)=>b(E(o[0],o[1]),s))}function dh(e,t,n){if(t instanceof Ar)return l([zf(l([]))]);if(t instanceof dt){let i=t[0];return l([m(i)])}else if(t instanceof zr){let i=t.content,r=t.destination;return l([pr(l([fr(Ud(r,n)),f("text-pink-700 hover:underline cursor-pointer")]),Zt(e,i,n))])}else if(t instanceof Sr){let i=t.content,r=t.destination;return l([jf(l([df(Ud(r,n)),pf(zu(i,"")),f("max-w-full h-auto rounded-lg shadow-lg mt-8")]))])}else if(t instanceof jr){let i=t.content;return l([Sf(l([f("italic")]),Zt(e,i,n))])}else if(t instanceof Er){let i=t.content;return l([fs(l([f("font-bold")]),Zt(e,i,n))])}else{let i=t.content;return l([Ie(l([f("bg-zinc-800 px-1 py-0.5 rounded text-sm font-mono")]),l([m(i)]))])}}function Zt(e,t,n){for(;;){let i=e,r=t,s=n;if(r instanceof y)return i;{let o=r.head,a=r.tail;e=dh(i,o,s),t=a,n=s}}}function ph(e,t,n){let i;if(t instanceof vi)i=Af(l([f("border-zinc-700 my-8")]));else if(t instanceof Ps){let s=t.attributes,o=t.content;i=ae(Un(s,l([f("pt-8")])),Zt(l([]),o,n))}else if(t instanceof Ns){let s=t.attributes,o=t.level,a=t.content;o===1?i=dr(Un(s,l([f("text-3xl text-pink-700 font-light")])),Zt(l([]),a,n)):o===2?i=Ee(Un(s,l([f("text-2xl text-pink-600 font-light pt-16")])),Zt(l([]),a,n)):o===3?i=G(Un(s,l([f("text-xl text-pink-600 font-light pt-12")])),Zt(l([]),a,n)):o===4?i=_e(Un(s,l([f("text-lg text-pink-600 font-light pt-8")])),Zt(l([]),a,n)):o===5?i=yf(Un(s,l([f("text-base text-pink-600 font-light pt-6")])),Zt(l([]),a,n)):i=vf(Un(s,l([f("text-sm text-pink-600 font-light pt-4")])),Zt(l([]),a,n))}else{let s=t.attributes,o=t.language,a=t.content;i=Fe(Un(s,l([f("pt-8")])),l([Ie((()=>{if(o instanceof $){let u=o[0];return l([f("language-"+u+" bg-zinc-800 p-4 rounded-md block overflow-x-auto")])}else return l([f("bg-zinc-800 p-4 rounded-md block overflow-x-auto")])})(),l([m(a)]))]))}return b(i,e)}function _h(e,t,n){for(;;){let i=e,r=t,s=n;if(i instanceof y)return s;{let o=i.head,a=i.tail,u=ph(s,o,r);e=a,t=r,n=u}}}function $h(e){return C(_h(e.content,e.references,l([oe()])))}function co(e){let n=Od(e);return $h(n)}var Dn=class extends _{},ki=class extends _{constructor(t){super(),this.articles=t}};function fo(e){let t;if(e instanceof Dn)t=Et(l([["version",Ft(0)]]));else{let i=e.articles;t=Et(l([["version",Ft(1)],["articles",Qi(i,Hl)]]))}return jt(t)}function Dd(){return Z("version",Le,e=>e===0?Ze(new Dn):e===1?Z("articles",rn(si()),t=>Ze(new ki(t))):Zc(new Dn,"Unsupported model version"))}function Rd(e,t,n){return Xe(i=>{let r=Nf(e);if(r instanceof g){let s=r[0],o=Zi(Lf(s),t);if(o instanceof g){let a=o[0];return i(n(new $(a)))}else return i(n(new x))}else return i(n(new x))})}var Ai="jst_lustre_state";var wh="src/utils/window_events.gleam";function Fd(e){return Xe(t=>(xr("visibilitychange",n=>{let i=mu();if(i==="hidden")return t(e);if(i==="visible")return;throw H("todo",wh,"utils/window_events",11,"setup",i,{})}),xr("blur",n=>t(e))))}var Qt="src/jst_lustre.gleam",S=class extends _{constructor(t,n,i,r,s,o,a,u,c,p,d,h,v,A,q,j,ne,re,M,B){super(),this.base_uri=t,this.route=n,this.session=i,this.articles=r,this.short_urls=s,this.short_url_form_short_code=o,this.short_url_form_target_url=a,this.djot_demo_content=u,this.edit_view_mode=c,this.profile_menu_open=p,this.notice=d,this.debug_use_local_storage=h,this.delete_confirmation=v,this.copy_feedback=A,this.expanded_urls=q,this.login_form_open=j,this.login_username=ne,this.login_password=re,this.login_loading=M,this.key_shortcuts_active=B}},Rn=class extends _{},Is=class extends _{},W=class extends _{constructor(t){super(),this.uri=t}},mn=class extends _{constructor(t){super(),this.uri=t}},_o=class extends _{},Si=class extends _{constructor(t){super(),this.msg=t}},Cu=class extends _{},Tu=class extends _{constructor(t){super(),this.opt=t}},$o=class extends _{constructor(t){super(),this.article=t}},en=class extends _{constructor(t,n){super(),this.id=t,this.result=n}},Fn=class extends _{constructor(t){super(),this.result=t}},mo=class extends _{constructor(t,n){super(),this.article=t,this.text=n}},ho=class extends _{constructor(t,n){super(),this.article=t,this.text=n}},wo=class extends _{constructor(t,n){super(),this.article=t,this.text=n}},go=class extends _{constructor(t,n){super(),this.article=t,this.text=n}},xo=class extends _{constructor(t,n){super(),this.article=t,this.content=n}},zi=class extends _{constructor(t,n){super(),this.id=t,this.result=n}},bo=class extends _{constructor(t){super(),this.article=t}},yo=class extends _{constructor(t){super(),this.article=t}},Ms=class extends _{},vo=class extends _{constructor(t){super(),this.result=t}},ko=class extends _{constructor(t){super(),this.article=t}},Ao=class extends _{constructor(t,n){super(),this.id=t,this.result=n}},zo=class extends _{constructor(t){super(),this.article=t}},So=class extends _{constructor(t){super(),this.article=t}},qu=class extends _{constructor(t,n){super(),this.username=t,this.password=n}},Ls=class extends _{constructor(t){super(),this.result=t}},Os=class extends _{},jo=class extends _{constructor(t){super(),this.result=t}},Bu=class extends _{},Us=class extends _{constructor(t){super(),this.result=t}},Eo=class extends _{constructor(t){super(),this.content=t}},Co=class extends _{constructor(t,n){super(),this.short_code=t,this.target_url=n}},To=class extends _{constructor(t){super(),this.result=t}},qo=class extends _{constructor(t){super(),this.result=t}},Ds=class extends _{constructor(t){super(),this.id=t}},Bo=class extends _{constructor(t,n){super(),this.id=t,this.result=n}},Po=class extends _{constructor(t){super(),this.id=t}},ji=class extends _{},No=class extends _{constructor(t){super(),this.text=t}},Lo=class extends _{constructor(t){super(),this.text=t}},Br=class extends _{constructor(t){super(),this.short_code=t}},Io=class extends _{},Pr=class extends _{constructor(t,n){super(),this.id=t,this.is_active=n}},Mo=class extends _{constructor(t,n){super(),this.id=t,this.result=n}},Hn=class extends _{constructor(t){super(),this.id=t}},Oo=class extends _{},Rs=class extends _{},Uo=class extends _{constructor(t){super(),this.res=t}},qr=class extends _{},Do=class extends _{constructor(t){super(),this[0]=t}},Ro=class extends _{constructor(t){super(),this[0]=t}},Fo=class extends _{},Ho=class extends _{constructor(t){super(),this[0]=t}},Wo=class extends _{constructor(t){super(),this[0]=t}},Go=class extends _{},Pu=class extends _{},Nu=class extends _{},Ko=class extends _{},Vo=class extends _{};function xh(e){qe("fetch_articles_model called","src/jst_lustre.gleam",1152);let t=e[0],n=e[1],i,r=t;i=new S(r.base_uri,r.route,r.session,new ie,r.short_urls,r.short_url_form_short_code,r.short_url_form_target_url,r.djot_demo_content,r.edit_view_mode,r.profile_menu_open,r.notice,r.debug_use_local_storage,r.delete_confirmation,r.copy_feedback,r.expanded_urls,r.login_form_open,r.login_username,r.login_password,r.login_loading,r.key_shortcuts_active);let s=i,o=sn(l([n,ys(a=>new Fn(a),s.base_uri)]));return[s,o]}function po(e,t){let n=wu(t);if(n instanceof pn)return[(()=>{let i=e;return new S(i.base_uri,n,i.session,i.articles,i.short_urls,i.short_url_form_short_code,i.short_url_form_target_url,i.djot_demo_content,i.edit_view_mode,i.profile_menu_open,i.notice,i.debug_use_local_storage,i.delete_confirmation,i.copy_feedback,i.expanded_urls,i.login_form_open,i.login_username,i.login_password,i.login_loading,i.key_shortcuts_active)})(),z()];if(n instanceof Tt)return e.articles instanceof Y?[(()=>{let r=e;return new S(r.base_uri,n,r.session,new ie,r.short_urls,r.short_url_form_short_code,r.short_url_form_target_url,r.djot_demo_content,r.edit_view_mode,r.profile_menu_open,r.notice,r.debug_use_local_storage,r.delete_confirmation,r.copy_feedback,r.expanded_urls,r.login_form_open,r.login_username,r.login_password,r.login_loading,r.key_shortcuts_active)})(),ys(r=>new Fn(r),e.base_uri)]:[(()=>{let r=e;return new S(r.base_uri,n,r.session,r.articles,r.short_urls,r.short_url_form_short_code,r.short_url_form_target_url,r.djot_demo_content,r.edit_view_mode,r.profile_menu_open,r.notice,r.debug_use_local_storage,r.delete_confirmation,r.copy_feedback,r.expanded_urls,r.login_form_open,r.login_username,r.login_password,r.login_loading,r.key_shortcuts_active)})(),z()];if(n instanceof Kt){let i=n.slug,r=e.articles;if(r instanceof Y)return[(()=>{let s=e;return new S(s.base_uri,n,s.session,new ie,s.short_urls,s.short_url_form_short_code,s.short_url_form_target_url,s.djot_demo_content,s.edit_view_mode,s.profile_menu_open,s.notice,s.debug_use_local_storage,s.delete_confirmation,s.copy_feedback,s.expanded_urls,s.login_form_open,s.login_username,s.login_password,s.login_loading,s.key_shortcuts_active)})(),ys(s=>new Fn(s),e.base_uri)];if(r instanceof L){let s=r[0],o=ea(s,z(),(c,p)=>{let d=p.slug===i;return p.content instanceof Y?d?[sn(l([c,mr(v=>new en(p.id,v),p.id,e.base_uri)])),(()=>{let v=p;return new be(v.id,v.slug,v.revision,v.author,v.tags,v.published_at,v.title,v.subtitle,v.leading,new ie,v.draft)})()]:[c,p]:[c,p]}),a=o[0],u=o[1];return[(()=>{let c=e;return new S(c.base_uri,n,c.session,new L(u),c.short_urls,c.short_url_form_short_code,c.short_url_form_target_url,c.djot_demo_content,c.edit_view_mode,c.profile_menu_open,c.notice,c.debug_use_local_storage,c.delete_confirmation,c.copy_feedback,c.expanded_urls,c.login_form_open,c.login_username,c.login_password,c.login_loading,c.key_shortcuts_active)})(),a]}else return[(()=>{let s=e;return new S(s.base_uri,n,s.session,s.articles,s.short_urls,s.short_url_form_short_code,s.short_url_form_target_url,s.djot_demo_content,s.edit_view_mode,s.profile_menu_open,s.notice,s.debug_use_local_storage,s.delete_confirmation,s.copy_feedback,s.expanded_urls,s.login_form_open,s.login_username,s.login_password,s.login_loading,s.key_shortcuts_active)})(),z()]}else if(n instanceof tt){let i=n.id,r=e.articles;if(r instanceof Y)return[(()=>{let s=e;return new S(s.base_uri,n,s.session,new ie,s.short_urls,s.short_url_form_short_code,s.short_url_form_target_url,s.djot_demo_content,s.edit_view_mode,s.profile_menu_open,s.notice,s.debug_use_local_storage,s.delete_confirmation,s.copy_feedback,s.expanded_urls,s.login_form_open,s.login_username,s.login_password,s.login_loading,s.key_shortcuts_active)})(),ys(s=>new Fn(s),e.base_uri)];if(r instanceof L){let s=r[0],o=ea(s,z(),(c,p)=>{let d;if(p.draft instanceof $)d=p;else{let j=p;d=new be(j.id,j.slug,j.revision,j.author,j.tags,j.published_at,j.title,j.subtitle,j.leading,j.content,ii(p))}let v=d,A=v.id===i;return v.content instanceof Y?A?[sn(l([c,mr(j=>new en(v.id,j),v.id,e.base_uri)])),(()=>{let j=v;return new be(j.id,j.slug,j.revision,j.author,j.tags,j.published_at,j.title,j.subtitle,j.leading,new ie,ii(v))})()]:[c,v]:[c,v]}),a=o[0],u=o[1];return qe(_i(n),"src/jst_lustre.gleam",1238),[(()=>{let c=e;return new S(c.base_uri,n,c.session,new L(u),c.short_urls,c.short_url_form_short_code,c.short_url_form_target_url,c.djot_demo_content,c.edit_view_mode,c.profile_menu_open,c.notice,c.debug_use_local_storage,c.delete_confirmation,c.copy_feedback,c.expanded_urls,c.login_form_open,c.login_username,c.login_password,c.login_loading,c.key_shortcuts_active)})(),a]}else return[(()=>{let s=e;return new S(s.base_uri,n,s.session,s.articles,s.short_urls,s.short_url_form_short_code,s.short_url_form_target_url,s.djot_demo_content,s.edit_view_mode,s.profile_menu_open,s.notice,s.debug_use_local_storage,s.delete_confirmation,s.copy_feedback,s.expanded_urls,s.login_form_open,s.login_username,s.login_password,s.login_loading,s.key_shortcuts_active)})(),z()]}else{if(n instanceof Vt)return[(()=>{let i=e;return new S(i.base_uri,n,i.session,i.articles,i.short_urls,i.short_url_form_short_code,i.short_url_form_target_url,i.djot_demo_content,i.edit_view_mode,i.profile_menu_open,i.notice,i.debug_use_local_storage,i.delete_confirmation,i.copy_feedback,i.expanded_urls,i.login_form_open,i.login_username,i.login_password,i.login_loading,i.key_shortcuts_active)})(),z()];if(n instanceof Jt)return[(()=>{let i=e;return new S(i.base_uri,n,i.session,i.articles,i.short_urls,i.short_url_form_short_code,i.short_url_form_target_url,i.djot_demo_content,i.edit_view_mode,i.profile_menu_open,i.notice,i.debug_use_local_storage,i.delete_confirmation,i.copy_feedback,i.expanded_urls,i.login_form_open,i.login_username,i.login_password,i.login_loading,i.key_shortcuts_active)})(),z()];if(n instanceof kt)return e.short_urls instanceof Y?[(()=>{let r=e;return new S(r.base_uri,n,r.session,r.articles,new ie,r.short_url_form_short_code,r.short_url_form_target_url,r.djot_demo_content,r.edit_view_mode,r.profile_menu_open,r.notice,r.debug_use_local_storage,r.delete_confirmation,r.copy_feedback,r.expanded_urls,r.login_form_open,r.login_username,r.login_password,r.login_loading,r.key_shortcuts_active)})(),vd(r=>new qo(r),e.base_uri,10,0)]:[(()=>{let r=e;return new S(r.base_uri,n,r.session,r.articles,r.short_urls,r.short_url_form_short_code,r.short_url_form_target_url,r.djot_demo_content,r.edit_view_mode,r.profile_menu_open,r.notice,r.debug_use_local_storage,r.delete_confirmation,r.copy_feedback,r.expanded_urls,r.login_form_open,r.login_username,r.login_password,r.login_loading,r.key_shortcuts_active)})(),z()];if(n instanceof Ln){let i=n[0];return[(()=>{let r=e;return new S(r.base_uri,n,r.session,r.articles,r.short_urls,r.short_url_form_short_code,r.short_url_form_target_url,r.djot_demo_content,r.edit_view_mode,r.profile_menu_open,r.notice,r.debug_use_local_storage,r.delete_confirmation,r.copy_feedback,r.expanded_urls,r.login_form_open,r.login_username,r.login_password,r.login_loading,r.key_shortcuts_active)})(),z()]}else return n instanceof U?[(()=>{let i=e;return new S(i.base_uri,n,i.session,i.articles,i.short_urls,i.short_url_form_short_code,i.short_url_form_target_url,i.djot_demo_content,i.edit_view_mode,i.profile_menu_open,i.notice,i.debug_use_local_storage,i.delete_confirmation,i.copy_feedback,i.expanded_urls,i.login_form_open,i.login_username,i.login_password,i.login_loading,i.key_shortcuts_active)})(),z()]:[(()=>{let i=e;return new S(i.base_uri,n,i.session,i.articles,i.short_urls,i.short_url_form_short_code,i.short_url_form_target_url,i.djot_demo_content,i.edit_view_mode,i.profile_menu_open,i.notice,i.debug_use_local_storage,i.delete_confirmation,i.copy_feedback,i.expanded_urls,i.login_form_open,i.login_username,i.login_password,i.login_loading,i.key_shortcuts_active)})(),z()]}}function Hd(e,t){for(;;){let n=e,i=t;if(i instanceof W){let r=i.uri;return po(n,r)}else if(i instanceof mn){let r=i.uri;return[n,Cn(Ne(r),new x,new x)]}else{if(i instanceof _o)return[(()=>{let r=n;return new S(r.base_uri,r.route,r.session,r.articles,r.short_urls,r.short_url_form_short_code,r.short_url_form_target_url,r.djot_demo_content,r.edit_view_mode,!n.profile_menu_open,r.notice,r.debug_use_local_storage,r.delete_confirmation,r.copy_feedback,r.expanded_urls,r.login_form_open,r.login_username,r.login_password,r.login_loading,r.key_shortcuts_active)})(),z()];if(i instanceof Si){let r=i.msg,s,o=n;s=new S(o.base_uri,o.route,o.session,o.articles,o.short_urls,o.short_url_form_short_code,o.short_url_form_target_url,o.djot_demo_content,o.edit_view_mode,!1,o.notice,o.debug_use_local_storage,o.delete_confirmation,o.copy_feedback,o.expanded_urls,o.login_form_open,o.login_username,o.login_password,o.login_loading,o.key_shortcuts_active),e=s,t=r}else{if(i instanceof Cu)return[(()=>{let r=n;return new S(r.base_uri,r.route,r.session,r.articles,r.short_urls,r.short_url_form_short_code,r.short_url_form_target_url,r.djot_demo_content,r.edit_view_mode,r.profile_menu_open,"",r.debug_use_local_storage,r.delete_confirmation,r.copy_feedback,r.expanded_urls,r.login_form_open,r.login_username,r.login_password,r.login_loading,r.key_shortcuts_active)})(),z()];if(i instanceof Tu){let r=i.opt;if(r instanceof $){let s=r[0];if(s instanceof Dn)return[n,z()];{let o=s.articles;return[(()=>{let a=n;return new S(a.base_uri,a.route,a.session,new L(o),a.short_urls,a.short_url_form_short_code,a.short_url_form_target_url,a.djot_demo_content,a.edit_view_mode,a.profile_menu_open,a.notice,a.debug_use_local_storage,a.delete_confirmation,a.copy_feedback,a.expanded_urls,a.login_form_open,a.login_username,a.login_password,a.login_loading,a.key_shortcuts_active)})(),z()]}}else return[n,z()]}else if(i instanceof $o){let r=i.article,s=r.content;if(s instanceof Y){let o,a=n.articles;o=ct(a,c=>D(c,p=>{if(r.id===p.id){let h=p;return new be(h.id,h.slug,h.revision,h.author,h.tags,h.published_at,h.title,h.subtitle,h.leading,new ie,h.draft)}else return p}));let u=o;return[(()=>{let c=n;return new S(c.base_uri,c.route,c.session,u,c.short_urls,c.short_url_form_short_code,c.short_url_form_target_url,c.djot_demo_content,c.edit_view_mode,c.profile_menu_open,c.notice,c.debug_use_local_storage,c.delete_confirmation,c.copy_feedback,c.expanded_urls,c.login_form_open,c.login_username,c.login_password,c.login_loading,c.key_shortcuts_active)})(),mr(c=>new en(r.id,c),r.id,n.base_uri)]}else return s instanceof ie?[n,z()]:s instanceof L?[n,z()]:s instanceof Ce?[n,z()]:[n,mr(o=>new en(r.id,o),r.id,n.base_uri)]}else if(i instanceof en){let r=i.id,s=i.result;if(s instanceof g){let o=s[0],a=r===o.id;if(!a)throw H("let_assert",Qt,"jst_lustre",502,"update","Pattern match failed, no pattern matched the value.",{value:a,start:14739,end:14773,pattern_start:14750,pattern_end:14754});let u,c=n.articles;u=ct(c,d=>D(d,h=>r===h.id?o:h));let p=u;return[(()=>{let d=n;return new S(d.base_uri,d.route,d.session,p,d.short_urls,d.short_url_form_short_code,d.short_url_form_target_url,d.djot_demo_content,d.edit_view_mode,d.profile_menu_open,d.notice,d.debug_use_local_storage,d.delete_confirmation,d.copy_feedback,d.expanded_urls,d.login_form_open,d.login_username,d.login_password,d.login_loading,d.key_shortcuts_active)})(),z()]}else{let o=s[0],a,u=n.articles;a=ct(u,p=>D(p,d=>{if(r===d.id){let v=d;return new be(v.id,v.slug,v.revision,v.author,v.tags,v.published_at,v.title,v.subtitle,v.leading,new Bn(o),v.draft)}else return d}));let c=a;return[(()=>{let p=n;return new S(p.base_uri,p.route,p.session,c,p.short_urls,p.short_url_form_short_code,p.short_url_form_target_url,p.djot_demo_content,p.edit_view_mode,p.profile_menu_open,p.notice,p.debug_use_local_storage,p.delete_confirmation,p.copy_feedback,p.expanded_urls,p.login_form_open,p.login_username,p.login_password,p.login_loading,p.key_shortcuts_active)})(),z()]}}else if(i instanceof Fn){let r=i.result,s=n.route;if(r instanceof g)if(s instanceof Kt){let o=r[0],a=s.slug,u=St(o,c=>c.slug===a);if(u instanceof g)if(u[0].content instanceof Y){let p=u[0].id,d=D(o,h=>{if(h.slug===a){let A=h;return new be(A.id,A.slug,A.revision,A.author,A.tags,A.published_at,A.title,A.subtitle,A.leading,new ie,A.draft)}else return h});return[(()=>{let h=n;return new S(h.base_uri,h.route,h.session,new L(d),h.short_urls,h.short_url_form_short_code,h.short_url_form_target_url,h.djot_demo_content,h.edit_view_mode,h.profile_menu_open,h.notice,h.debug_use_local_storage,h.delete_confirmation,h.copy_feedback,h.expanded_urls,h.login_form_open,h.login_username,h.login_password,h.login_loading,h.key_shortcuts_active)})(),mr(h=>new en(p,h),p,n.base_uri)]}else return qe("article exists. content is pending or loading.","src/jst_lustre.gleam",468),[n,z()];else return[n,Cn((()=>{let c=n.route,p=I(c),d=new dn(p);return _i(d)})(),new x,new x)]}else if(s instanceof tt){let o=r[0],a=s.id;return[(()=>{let u=n;return new S(u.base_uri,u.route,u.session,new L(o),u.short_urls,u.short_url_form_short_code,u.short_url_form_target_url,u.djot_demo_content,u.edit_view_mode,u.profile_menu_open,u.notice,u.debug_use_local_storage,u.delete_confirmation,u.copy_feedback,u.expanded_urls,u.login_form_open,u.login_username,u.login_password,u.login_loading,u.key_shortcuts_active)})(),mr(u=>new en(a,u),a,n.base_uri)]}else{let o=r[0];return[(()=>{let a=n;return new S(a.base_uri,a.route,a.session,new L(o),a.short_urls,a.short_url_form_short_code,a.short_url_form_target_url,a.djot_demo_content,a.edit_view_mode,a.profile_menu_open,a.notice,a.debug_use_local_storage,a.delete_confirmation,a.copy_feedback,a.expanded_urls,a.login_form_open,a.login_username,a.login_password,a.login_loading,a.key_shortcuts_active)})(),z()]}else{let o=r[0];return[(()=>{let a=n;return new S(a.base_uri,a.route,a.session,new Bn(o),a.short_urls,a.short_url_form_short_code,a.short_url_form_target_url,a.djot_demo_content,a.edit_view_mode,a.profile_menu_open,a.notice,a.debug_use_local_storage,a.delete_confirmation,a.copy_feedback,a.expanded_urls,a.login_form_open,a.login_username,a.login_password,a.login_loading,a.key_shortcuts_active)})(),z()]}}else if(i instanceof mo){let r=i.article,s=i.text;if(r.draft instanceof $){let a=li(r,u=>Hf(u,s));return[(()=>{let u=n;return new S(u.base_uri,u.route,u.session,ct(n.articles,c=>D(c,p=>r.id===p.id?a:p)),u.short_urls,u.short_url_form_short_code,u.short_url_form_target_url,u.djot_demo_content,u.edit_view_mode,u.profile_menu_open,u.notice,u.debug_use_local_storage,u.delete_confirmation,u.copy_feedback,u.expanded_urls,u.login_form_open,u.login_username,u.login_password,u.login_loading,u.key_shortcuts_active)})(),z()]}else return[n,z()]}else if(i instanceof ho){let r=i.article,s=i.text,o=li(r,u=>Wf(u,s)),a=ct(n.articles,u=>D(u,c=>r.id===c.id?o:c));return[(()=>{let u=n;return new S(u.base_uri,u.route,u.session,a,u.short_urls,u.short_url_form_short_code,u.short_url_form_target_url,u.djot_demo_content,u.edit_view_mode,u.profile_menu_open,u.notice,u.debug_use_local_storage,u.delete_confirmation,u.copy_feedback,u.expanded_urls,u.login_form_open,u.login_username,u.login_password,u.login_loading,u.key_shortcuts_active)})(),z()]}else if(i instanceof wo){let r=i.article,s=i.text,o=li(r,u=>Kf(u,s)),a=ct(n.articles,u=>D(u,c=>r.id===c.id?o:c));return[(()=>{let u=n;return new S(u.base_uri,u.route,u.session,a,u.short_urls,u.short_url_form_short_code,u.short_url_form_target_url,u.djot_demo_content,u.edit_view_mode,u.profile_menu_open,u.notice,u.debug_use_local_storage,u.delete_confirmation,u.copy_feedback,u.expanded_urls,u.login_form_open,u.login_username,u.login_password,u.login_loading,u.key_shortcuts_active)})(),z()]}else if(i instanceof go){let r=i.article,s=i.text,o=li(r,u=>Gf(u,s)),a=ct(n.articles,u=>D(u,c=>r.id===c.id?o:c));return[(()=>{let u=n;return new S(u.base_uri,u.route,u.session,a,u.short_urls,u.short_url_form_short_code,u.short_url_form_target_url,u.djot_demo_content,u.edit_view_mode,u.profile_menu_open,u.notice,u.debug_use_local_storage,u.delete_confirmation,u.copy_feedback,u.expanded_urls,u.login_form_open,u.login_username,u.login_password,u.login_loading,u.key_shortcuts_active)})(),z()]}else if(i instanceof xo){let r=i.article,s=i.content,o=li(r,a=>Vf(a,s));return[(()=>{let a=n;return new S(a.base_uri,a.route,a.session,ct(n.articles,u=>D(u,c=>r.id===c.id?o:c)),a.short_urls,a.short_url_form_short_code,a.short_url_form_target_url,a.djot_demo_content,a.edit_view_mode,a.profile_menu_open,a.notice,a.debug_use_local_storage,a.delete_confirmation,a.copy_feedback,a.expanded_urls,a.login_form_open,a.login_username,a.login_password,a.login_loading,a.key_shortcuts_active)})(),z()]}else if(i instanceof zi){let r=i.id,s=i.result;if(s instanceof g){let o=s[0],a=ct(n.articles,u=>D(u,c=>r===c.id?o:c));return[(()=>{let u=n;return new S(u.base_uri,u.route,u.session,a,u.short_urls,u.short_url_form_short_code,u.short_url_form_target_url,u.djot_demo_content,u.edit_view_mode,u.profile_menu_open,u.notice,u.debug_use_local_storage,u.delete_confirmation,u.copy_feedback,u.expanded_urls,u.login_form_open,u.login_username,u.login_password,u.login_loading,u.key_shortcuts_active)})(),z()]}else{let o=s[0];return qe("article update response error","src/jst_lustre.gleam",757),qe(o,"src/jst_lustre.gleam",758),[n,z()]}}else if(i instanceof bo){let r=i.article,s=r.draft;if(s instanceof $){let o=s[0],a,u=r;a=new be(u.id,Tl(o),u.revision,u.author,u.tags,u.published_at,ql(o),Bl(o),_s(o),new L($s(o)),new $(o));let c=a,p=ct(n.articles,d=>D(d,h=>r.id===h.id?c:h));return[(()=>{let d=n;return new S(d.base_uri,d.route,d.session,p,d.short_urls,d.short_url_form_short_code,d.short_url_form_target_url,d.djot_demo_content,d.edit_view_mode,d.profile_menu_open,d.notice,d.debug_use_local_storage,d.delete_confirmation,d.copy_feedback,d.expanded_urls,d.login_form_open,d.login_username,d.login_password,d.login_loading,d.key_shortcuts_active)})(),sn(l([Wl(d=>new zi(c.id,d),c,n.base_uri),Cn((()=>{let d=io(new _n(c,n.session));return Ne(d)})(),new x,new x)]))]}else return[n,z()]}else if(i instanceof yo){let r=i.article;qe("article draft discard clicked","src/jst_lustre.gleam",676);let s=ct(n.articles,o=>D(o,a=>{if(r.id===a.id){let c=r;return new be(c.id,c.slug,c.revision,c.author,c.tags,c.published_at,c.title,c.subtitle,c.leading,c.content,new x)}else return a}));return[(()=>{let o=n;return new S(o.base_uri,o.route,o.session,s,o.short_urls,o.short_url_form_short_code,o.short_url_form_target_url,o.djot_demo_content,o.edit_view_mode,o.profile_menu_open,o.notice,o.debug_use_local_storage,o.delete_confirmation,o.copy_feedback,o.expanded_urls,o.login_form_open,o.login_username,o.login_password,o.login_loading,o.key_shortcuts_active)})(),Cn((()=>{let o=io(new _n(r,n.session));return Ne(o)})(),new x,new x)]}else if(i instanceof Ms){qe("article create clicked","src/jst_lustre.gleam",851);let r=new be("","new-article",1,"current-user",l([]),new x,"","","",new L(""),new x);return[n,ud(s=>new vo(s),r,n.base_uri)]}else if(i instanceof vo){let r=i.result;if(r instanceof g){let s=r[0];qe("article created successfully with id: "+s.id,"src/jst_lustre.gleam",881);let o,a=n.articles;if(a instanceof L){let c=a[0];o=new L(b(s,c))}else o=a;let u=o;return[(()=>{let c=n;return new S(c.base_uri,c.route,c.session,u,c.short_urls,c.short_url_form_short_code,c.short_url_form_target_url,c.djot_demo_content,c.edit_view_mode,c.profile_menu_open,c.notice,c.debug_use_local_storage,c.delete_confirmation,c.copy_feedback,c.expanded_urls,c.login_form_open,c.login_username,c.login_password,c.login_loading,c.key_shortcuts_active)})(),Cn((()=>{let c=new tt(s.id),p=I(c);return Ne(p)})(),new x,new x)]}else{let s=r[0];return qe("article creation error","src/jst_lustre.gleam",901),qe(s,"src/jst_lustre.gleam",902),[n,z()]}}else if(i instanceof ko){let r=i.article;return qe("article delete clicked","src/jst_lustre.gleam",909),[n,sn(l([ad(s=>new Ao(r.id,s),r.id,n.base_uri),Cn((()=>{let s=new Tt,o=I(s);return Ne(o)})(),new x,new x)]))]}else if(i instanceof Ao){let r=i.id,s=i.result;if(s instanceof g){let o=ct(n.articles,a=>Nt(a,u=>u.id!==r));return[(()=>{let a=n;return new S(a.base_uri,a.route,a.session,o,a.short_urls,a.short_url_form_short_code,a.short_url_form_target_url,a.djot_demo_content,a.edit_view_mode,a.profile_menu_open,a.notice,a.debug_use_local_storage,a.delete_confirmation,a.copy_feedback,a.expanded_urls,a.login_form_open,a.login_username,a.login_password,a.login_loading,a.key_shortcuts_active)})(),z()]}else{let o=s[0];return qe("article delete response error","src/jst_lustre.gleam",937),qe(o,"src/jst_lustre.gleam",938),[n,z()]}}else if(i instanceof zo){let r=i.article;qe("article publish clicked","src/jst_lustre.gleam",944);let s,o=r;return s=new be(o.id,o.slug,o.revision,o.author,o.tags,new $(Dc()),o.title,o.subtitle,o.leading,o.content,o.draft),[n,Wl(u=>new zi(r.id,u),s,n.base_uri)]}else if(i instanceof So){let r=i.article;return qe("article unpublish clicked","src/jst_lustre.gleam",956),[n,Wl(s=>new zi(r.id,s),(()=>{let s=r;return new be(s.id,s.slug,s.revision,s.author,s.tags,new x,s.title,s.subtitle,s.leading,s.content,s.draft)})(),n.base_uri)]}else if(i instanceof qu){let r=i.username,s=i.password;return[(()=>{let o=n;return new S(o.base_uri,o.route,new qn,o.articles,o.short_urls,o.short_url_form_short_code,o.short_url_form_target_url,o.djot_demo_content,o.edit_view_mode,o.profile_menu_open,"login, CLICK",o.debug_use_local_storage,o.delete_confirmation,o.copy_feedback,o.expanded_urls,o.login_form_open,o.login_username,o.login_password,o.login_loading,o.key_shortcuts_active)})(),su(o=>new Ls(o),r,s,n.base_uri)]}else if(i instanceof Ls){let r=i.result;if(r instanceof g){let s=r[0];return[(()=>{let o=n;return new S(o.base_uri,o.route,s,o.articles,o.short_urls,o.short_url_form_short_code,o.short_url_form_target_url,o.djot_demo_content,o.edit_view_mode,o.profile_menu_open,"Successfully logged in",o.debug_use_local_storage,o.delete_confirmation,o.copy_feedback,o.expanded_urls,!1,"","",!1,o.key_shortcuts_active)})(),z()]}else{let s=r[0];return qe(s,"src/jst_lustre.gleam",785),[(()=>{let o=n;return new S(o.base_uri,o.route,new et,o.articles,o.short_urls,o.short_url_form_short_code,o.short_url_form_target_url,o.djot_demo_content,o.edit_view_mode,o.profile_menu_open,"Login failed. Please check your credentials.",o.debug_use_local_storage,o.delete_confirmation,o.copy_feedback,o.expanded_urls,o.login_form_open,o.login_username,o.login_password,!1,o.key_shortcuts_active)})(),z()]}}else{if(i instanceof Os)return[(()=>{let r=n;return new S(r.base_uri,r.route,new et,r.articles,r.short_urls,r.short_url_form_short_code,r.short_url_form_target_url,r.djot_demo_content,r.edit_view_mode,r.profile_menu_open,r.notice,r.debug_use_local_storage,r.delete_confirmation,r.copy_feedback,r.expanded_urls,r.login_form_open,r.login_username,r.login_password,r.login_loading,r.key_shortcuts_active)})(),id(r=>new jo(r),n.base_uri)];if(i instanceof jo)return[(()=>{let r=n;return new S(r.base_uri,r.route,new et,r.articles,r.short_urls,r.short_url_form_short_code,r.short_url_form_target_url,r.djot_demo_content,r.edit_view_mode,r.profile_menu_open,r.notice,r.debug_use_local_storage,r.delete_confirmation,r.copy_feedback,r.expanded_urls,r.login_form_open,r.login_username,r.login_password,r.login_loading,r.key_shortcuts_active)})(),z()];if(i instanceof Bu)return[(()=>{let r=n;return new S(r.base_uri,r.route,r.session,r.articles,r.short_urls,r.short_url_form_short_code,r.short_url_form_target_url,r.djot_demo_content,r.edit_view_mode,r.profile_menu_open,"auth check, CLICK",r.debug_use_local_storage,r.delete_confirmation,r.copy_feedback,r.expanded_urls,r.login_form_open,r.login_username,r.login_password,r.login_loading,r.key_shortcuts_active)})(),lu(r=>new Us(r),n.base_uri)];if(i instanceof Us){let r=i.result;if(r instanceof g){let s=r[0];return[(()=>{let o=n;return new S(o.base_uri,o.route,s,o.articles,o.short_urls,o.short_url_form_short_code,o.short_url_form_target_url,o.djot_demo_content,o.edit_view_mode,o.profile_menu_open,"auth check, OK",o.debug_use_local_storage,o.delete_confirmation,o.copy_feedback,o.expanded_urls,o.login_form_open,o.login_username,o.login_password,o.login_loading,o.key_shortcuts_active)})(),z()]}else{let s=r[0];return qe("session check response error","src/jst_lustre.gleam",819),qe(s,"src/jst_lustre.gleam",820),[(()=>{let o=n;return new S(o.base_uri,o.route,new et,o.articles,o.short_urls,o.short_url_form_short_code,o.short_url_form_target_url,o.djot_demo_content,o.edit_view_mode,o.profile_menu_open,"auth check, ERROR",o.debug_use_local_storage,o.delete_confirmation,o.copy_feedback,o.expanded_urls,o.login_form_open,o.login_username,o.login_password,o.login_loading,o.key_shortcuts_active)})(),z()]}}else if(i instanceof Eo){let r=i.content;return[(()=>{let s=n;return new S(s.base_uri,s.route,s.session,s.articles,s.short_urls,s.short_url_form_short_code,s.short_url_form_target_url,r,s.edit_view_mode,s.profile_menu_open,s.notice,s.debug_use_local_storage,s.delete_confirmation,s.copy_feedback,s.expanded_urls,s.login_form_open,s.login_username,s.login_password,s.login_loading,s.key_shortcuts_active)})(),z()]}else if(i instanceof Co){let r=i.short_code,s=i.target_url,a=Jl(s)[0],u=n.session;if(a)if(u instanceof Ae){let c=new to(r,s);return[n,yd(p=>new To(p),n.base_uri,c)]}else return[n,z()];else return[n,z()]}else if(i instanceof To){let r=i.result;if(r instanceof g){let s=r[0],o,a=n.short_urls;if(a instanceof Y)o=new L(l([s]));else if(a instanceof ie)o=new L(l([s]));else if(a instanceof L){let c=a[0];o=new L(b(s,c))}else a instanceof Ce?o=new L(l([s])):o=new L(l([s]));let u=o;return[(()=>{let c=n;return new S(c.base_uri,c.route,c.session,c.articles,u,c.short_url_form_short_code,c.short_url_form_target_url,c.djot_demo_content,c.edit_view_mode,c.profile_menu_open,c.notice,c.debug_use_local_storage,c.delete_confirmation,c.copy_feedback,c.expanded_urls,c.login_form_open,c.login_username,c.login_password,c.login_loading,c.key_shortcuts_active)})(),z()]}else{let s=r[0];return[(()=>{let o=n;return new S(o.base_uri,o.route,o.session,o.articles,new Bn(s),o.short_url_form_short_code,o.short_url_form_target_url,o.djot_demo_content,o.edit_view_mode,o.profile_menu_open,o.notice,o.debug_use_local_storage,o.delete_confirmation,o.copy_feedback,o.expanded_urls,o.login_form_open,o.login_username,o.login_password,o.login_loading,o.key_shortcuts_active)})(),z()]}}else if(i instanceof qo){let r=i.result;if(r instanceof g){let s=r[0];return[(()=>{let o=n;return new S(o.base_uri,o.route,o.session,o.articles,new L(s.short_urls),o.short_url_form_short_code,o.short_url_form_target_url,o.djot_demo_content,o.edit_view_mode,o.profile_menu_open,o.notice,o.debug_use_local_storage,o.delete_confirmation,o.copy_feedback,o.expanded_urls,o.login_form_open,o.login_username,o.login_password,o.login_loading,o.key_shortcuts_active)})(),z()]}else{let s=r[0];return[(()=>{let o=n;return new S(o.base_uri,o.route,o.session,o.articles,new Bn(s),o.short_url_form_short_code,o.short_url_form_target_url,o.djot_demo_content,o.edit_view_mode,o.profile_menu_open,o.notice,o.debug_use_local_storage,o.delete_confirmation,o.copy_feedback,o.expanded_urls,o.login_form_open,o.login_username,o.login_password,o.login_loading,o.key_shortcuts_active)})(),z()]}}else if(i instanceof Ds){let r=i.id;return[(()=>{let s=n;return new S(s.base_uri,s.route,s.session,s.articles,s.short_urls,s.short_url_form_short_code,s.short_url_form_target_url,s.djot_demo_content,s.edit_view_mode,s.profile_menu_open,s.notice,s.debug_use_local_storage,new $(r),s.copy_feedback,s.expanded_urls,s.login_form_open,s.login_username,s.login_password,s.login_loading,s.key_shortcuts_active)})(),z()]}else if(i instanceof Bo){let r=i.id;if(i.result instanceof g){let o,a=n.short_urls;if(a instanceof Y)o=new Y;else if(a instanceof ie)o=new ie;else if(a instanceof L){let c=a[0];o=new L(Nt(c,p=>p.id!==r))}else a instanceof Ce?o=new Y:o=new Y;let u=o;return[(()=>{let c=n;return new S(c.base_uri,c.route,c.session,c.articles,u,c.short_url_form_short_code,c.short_url_form_target_url,c.djot_demo_content,c.edit_view_mode,c.profile_menu_open,c.notice,c.debug_use_local_storage,c.delete_confirmation,c.copy_feedback,c.expanded_urls,c.login_form_open,c.login_username,c.login_password,c.login_loading,c.key_shortcuts_active)})(),Cn(Ne(I(new kt)),new x,new x)]}else return[n,z()]}else if(i instanceof Po){let r=i.id;return[(()=>{let s=n;return new S(s.base_uri,s.route,s.session,s.articles,s.short_urls,s.short_url_form_short_code,s.short_url_form_target_url,s.djot_demo_content,s.edit_view_mode,s.profile_menu_open,s.notice,s.debug_use_local_storage,new x,s.copy_feedback,s.expanded_urls,s.login_form_open,s.login_username,s.login_password,s.login_loading,s.key_shortcuts_active)})(),kd(s=>new Bo(r,s),n.base_uri,r)]}else{if(i instanceof ji)return[(()=>{let r=n;return new S(r.base_uri,r.route,r.session,r.articles,r.short_urls,r.short_url_form_short_code,r.short_url_form_target_url,r.djot_demo_content,r.edit_view_mode,r.profile_menu_open,r.notice,r.debug_use_local_storage,new x,r.copy_feedback,r.expanded_urls,r.login_form_open,r.login_username,r.login_password,r.login_loading,r.key_shortcuts_active)})(),z()];if(i instanceof No){let r=i.text;return[(()=>{let s=n;return new S(s.base_uri,s.route,s.session,s.articles,s.short_urls,r,s.short_url_form_target_url,s.djot_demo_content,s.edit_view_mode,s.profile_menu_open,s.notice,s.debug_use_local_storage,s.delete_confirmation,s.copy_feedback,s.expanded_urls,s.login_form_open,s.login_username,s.login_password,s.login_loading,s.key_shortcuts_active)})(),z()]}else if(i instanceof Lo){let r=i.text;return[(()=>{let s=n;return new S(s.base_uri,s.route,s.session,s.articles,s.short_urls,s.short_url_form_short_code,r,s.djot_demo_content,s.edit_view_mode,s.profile_menu_open,s.notice,s.debug_use_local_storage,s.delete_confirmation,s.copy_feedback,s.expanded_urls,s.login_form_open,s.login_username,s.login_password,s.login_loading,s.key_shortcuts_active)})(),z()]}else if(i instanceof Br){let r=i.short_code,s="u.jst.dev/"+r;return If(s),[(()=>{let o=n;return new S(o.base_uri,o.route,o.session,o.articles,o.short_urls,o.short_url_form_short_code,o.short_url_form_target_url,o.djot_demo_content,o.edit_view_mode,o.profile_menu_open,o.notice,o.debug_use_local_storage,o.delete_confirmation,new $(r),o.expanded_urls,o.login_form_open,o.login_username,o.login_password,o.login_loading,o.key_shortcuts_active)})(),Xe(o=>Mf(()=>o(new Io),2e3))]}else{if(i instanceof Io)return[(()=>{let r=n;return new S(r.base_uri,r.route,r.session,r.articles,r.short_urls,r.short_url_form_short_code,r.short_url_form_target_url,r.djot_demo_content,r.edit_view_mode,r.profile_menu_open,r.notice,r.debug_use_local_storage,r.delete_confirmation,new x,r.expanded_urls,r.login_form_open,r.login_username,r.login_password,r.login_loading,r.key_shortcuts_active)})(),z()];if(i instanceof Pr){let r=i.id,s=i.is_active,o=new no(r,new $(!s));return[n,Ad(a=>new Mo(r,a),n.base_uri,o)]}else if(i instanceof Mo){let r=i.id,s=i.result;if(s instanceof g){let o=s[0],a,u=n.short_urls;if(u instanceof Y)a=new Y;else if(u instanceof ie)a=new ie;else if(u instanceof L){let p=u[0];a=new L(D(p,d=>d.id===r?o:d))}else u instanceof Ce?a=new Y:a=new Y;let c=a;return[(()=>{let p=n;return new S(p.base_uri,p.route,p.session,p.articles,c,p.short_url_form_short_code,p.short_url_form_target_url,p.djot_demo_content,p.edit_view_mode,p.profile_menu_open,p.notice,p.debug_use_local_storage,p.delete_confirmation,p.copy_feedback,p.expanded_urls,p.login_form_open,p.login_username,p.login_password,p.login_loading,p.key_shortcuts_active)})(),z()]}else{let o=s[0];return[(()=>{let a=n;return new S(a.base_uri,a.route,a.session,a.articles,new Bn(o),a.short_url_form_short_code,a.short_url_form_target_url,a.djot_demo_content,a.edit_view_mode,a.profile_menu_open,a.notice,a.debug_use_local_storage,a.delete_confirmation,a.copy_feedback,a.expanded_urls,a.login_form_open,a.login_username,a.login_password,a.login_loading,a.key_shortcuts_active)})(),z()]}}else if(i instanceof Hn){let r=i.id,s;kn(n.expanded_urls,r)?s=Ea(n.expanded_urls,r):s=il(n.expanded_urls,r);let a=s;return[(()=>{let u=n;return new S(u.base_uri,u.route,u.session,u.articles,u.short_urls,u.short_url_form_short_code,u.short_url_form_target_url,u.djot_demo_content,u.edit_view_mode,u.profile_menu_open,u.notice,u.debug_use_local_storage,u.delete_confirmation,u.copy_feedback,a,u.login_form_open,u.login_username,u.login_password,u.login_loading,u.key_shortcuts_active)})(),z()]}else if(i instanceof Oo){let r;n.edit_view_mode instanceof Rn?r=new Is:r=new Rn;let o=r;return[(()=>{let a=n;return new S(a.base_uri,a.route,a.session,a.articles,a.short_urls,a.short_url_form_short_code,a.short_url_form_target_url,a.djot_demo_content,o,a.profile_menu_open,a.notice,a.debug_use_local_storage,a.delete_confirmation,a.copy_feedback,a.expanded_urls,a.login_form_open,a.login_username,a.login_password,a.login_loading,a.key_shortcuts_active)})(),z()]}else if(i instanceof Rs){if(n.debug_use_local_storage)Zr(Ai,"");else{let s=new ki((()=>{let o=n.articles;return o instanceof Y?l([]):o instanceof ie?l([]):o instanceof L?o[0]:o instanceof Ce?l([]):l([])})());Zr(Ai,fo(s))}return[(()=>{let s=n;return new S(s.base_uri,s.route,s.session,s.articles,s.short_urls,s.short_url_form_short_code,s.short_url_form_target_url,s.djot_demo_content,s.edit_view_mode,s.profile_menu_open,s.notice,!n.debug_use_local_storage,s.delete_confirmation,s.copy_feedback,s.expanded_urls,s.login_form_open,s.login_username,s.login_password,s.login_loading,s.key_shortcuts_active)})(),z()]}else if(i instanceof Uo){let r=i.res,s=I(n.route);if(r instanceof $){let o=r[0];if(o instanceof Dn)return po(n,s);{let a=o.articles;return po((()=>{let u=n;return new S(u.base_uri,u.route,u.session,new L(a),u.short_urls,u.short_url_form_short_code,u.short_url_form_target_url,u.djot_demo_content,u.edit_view_mode,u.profile_menu_open,u.notice,!0,u.delete_confirmation,u.copy_feedback,u.expanded_urls,u.login_form_open,u.login_username,u.login_password,u.login_loading,u.key_shortcuts_active)})(),s)}}else{let o,a=n;o=new S(a.base_uri,a.route,a.session,a.articles,a.short_urls,a.short_url_form_short_code,a.short_url_form_target_url,a.djot_demo_content,a.edit_view_mode,a.profile_menu_open,a.notice,!1,a.delete_confirmation,a.copy_feedback,a.expanded_urls,a.login_form_open,a.login_username,a.login_password,a.login_loading,a.key_shortcuts_active);let c=po(o,s);return xh(c)}}else{if(i instanceof qr)return[(()=>{let r=n;return new S(r.base_uri,r.route,r.session,r.articles,r.short_urls,r.short_url_form_short_code,r.short_url_form_target_url,r.djot_demo_content,r.edit_view_mode,r.profile_menu_open,r.notice,r.debug_use_local_storage,r.delete_confirmation,r.copy_feedback,r.expanded_urls,!n.login_form_open,"","",r.login_loading,r.key_shortcuts_active)})(),z()];if(i instanceof Do){let r=i[0];return[(()=>{let s=n;return new S(s.base_uri,s.route,s.session,s.articles,s.short_urls,s.short_url_form_short_code,s.short_url_form_target_url,s.djot_demo_content,s.edit_view_mode,s.profile_menu_open,s.notice,s.debug_use_local_storage,s.delete_confirmation,s.copy_feedback,s.expanded_urls,s.login_form_open,r,s.login_password,s.login_loading,s.key_shortcuts_active)})(),z()]}else if(i instanceof Ro){let r=i[0];return[(()=>{let s=n;return new S(s.base_uri,s.route,s.session,s.articles,s.short_urls,s.short_url_form_short_code,s.short_url_form_target_url,s.djot_demo_content,s.edit_view_mode,s.profile_menu_open,s.notice,s.debug_use_local_storage,s.delete_confirmation,s.copy_feedback,s.expanded_urls,s.login_form_open,s.login_username,r,s.login_loading,s.key_shortcuts_active)})(),z()]}else if(i instanceof Fo){let r=n.login_username,s=n.login_password;if(r==="")return[n,z()];if(s==="")return[n,z()];{let o=r,a=s;return[(()=>{let u=n;return new S(u.base_uri,u.route,new qn,u.articles,u.short_urls,u.short_url_form_short_code,u.short_url_form_target_url,u.djot_demo_content,u.edit_view_mode,u.profile_menu_open,u.notice,u.debug_use_local_storage,u.delete_confirmation,u.copy_feedback,u.expanded_urls,u.login_form_open,u.login_username,u.login_password,!0,u.key_shortcuts_active)})(),su(u=>new Ls(u),o,a,n.base_uri)]}}else if(i instanceof Ho){let r=i[0],s,o=n;s=new S(o.base_uri,o.route,o.session,o.articles,o.short_urls,o.short_url_form_short_code,o.short_url_form_target_url,o.djot_demo_content,o.edit_view_mode,o.profile_menu_open,o.notice,o.debug_use_local_storage,o.delete_confirmation,o.copy_feedback,o.expanded_urls,o.login_form_open,o.login_username,o.login_password,o.login_loading,il(n.key_shortcuts_active,r));let a=s;if(r instanceof se){let u=r[0];if(u instanceof ai)return[(()=>{let c=a;return new S(c.base_uri,c.route,c.session,c.articles,c.short_urls,c.short_url_form_short_code,c.short_url_form_target_url,c.djot_demo_content,c.edit_view_mode,!1,c.notice,c.debug_use_local_storage,c.delete_confirmation,c.copy_feedback,c.expanded_urls,!1,c.login_username,c.login_password,c.login_loading,c.key_shortcuts_active)})(),z()];if(u instanceof Ct)return[a,z()];if(u instanceof ui){let c=a.route;if(c instanceof tt){let p=c.id;throw H("todo",Qt,"jst_lustre",345,"update","Save article",{})}else return[a,z()]}else if(u instanceof ci){let c=a.route;if(c instanceof tt){let p=c.id;throw H("todo",Qt,"jst_lustre",353,"update","Edit article",{})}else return[a,z()]}else if(u instanceof fi){if(a.session instanceof Ae)throw H("todo",Qt,"jst_lustre",361,"update","New article",{});return[a,z()]}else if(u instanceof di){if(a.route instanceof tt)throw H("todo",Qt,"jst_lustre",369,"update","Toggle edit view mode",{});return[a,z()]}else{if(u instanceof vt)return[a,z()];throw u instanceof pi?H("todo",Qt,"jst_lustre",381,"update","Navigate to Articles",{}):H("todo",Qt,"jst_lustre",384,"update","Navigate to Drafts",{})}}else return[a,z()]}else if(i instanceof Wo){let r=i[0],s,o=n;s=new S(o.base_uri,o.route,o.session,o.articles,o.short_urls,o.short_url_form_short_code,o.short_url_form_target_url,o.djot_demo_content,o.edit_view_mode,o.profile_menu_open,o.notice,o.debug_use_local_storage,o.delete_confirmation,o.copy_feedback,o.expanded_urls,o.login_form_open,o.login_username,o.login_password,o.login_loading,Ea(n.key_shortcuts_active,r));let a=s;if(r instanceof se){let u=r[0];return u instanceof Ct?[a,z()]:u instanceof vt?[a,z()]:[a,z()]}else return[a,z()]}else return i instanceof Go?[(()=>{let r=n;return new S(r.base_uri,r.route,r.session,r.articles,r.short_urls,r.short_url_form_short_code,r.short_url_form_target_url,r.djot_demo_content,r.edit_view_mode,r.profile_menu_open,r.notice,r.debug_use_local_storage,r.delete_confirmation,r.copy_feedback,r.expanded_urls,r.login_form_open,r.login_username,r.login_password,r.login_loading,Hr())})(),z()]:[n,z()]}}}}}}}}function bh(e,t){if(e.debug_use_local_storage){let i=Hd(e,t),r=i[0],s=i[1],o=a=>new ki((()=>{let u=a.articles;return u instanceof Y?l([]):u instanceof ie?l([]):u instanceof L?u[0]:u instanceof Ce?l([]):l([])})());return t instanceof en?Zr(Ai,fo(o(r))):t instanceof Fn&&Zr(Ai,fo(o(r))),[r,s]}else return Hd(e,t)}function yh(){return w(l([f("fixed inset-0 z-50 flex items-start justify-center pointer-events-none")]),l([w(l([f("bg-black bg-opacity-80 text-white rounded px-6 py-4 mt-16 shadow-lg text-lg font-mono")]),l([m("Quick Nav: Shift+1 = Articles, Shift+2 = About")]))]))}function vh(e){let t;kn(e,new se(new vt))?t="SHIFT":t="shift";let i=t,r;kn(e,new se(new Ct))?r="CTRL":r="ctrl";let o=r,a=Ca(e);return w(l([f("fixed bottom-0 left-0 right-0 bg-gray-800 text-white px-4 py-2 text-sm font-mono border-t border-gray-700")]),l([w(l([f("flex justify-between items-center")]),l([w(l([f("flex items-center space-x-4")]),b(T(l([f("flex items-center space-x-2")]),l([T(l([]),l([m(i)])),w(l([f(kn(e,new se(new vt))?"w-3 h-3 bg-green-500 rounded-full":"w-3 h-3 bg-gray-500 rounded-full")]),l([])),T(l([]),l([m(o)])),w(l([f(kn(e,new se(new Ct))?"w-3 h-3 bg-green-500 rounded-full":"w-3 h-3 bg-gray-500 rounded-full")]),l([]))])),D(a,u=>{let c;if(u instanceof se){let d=u[0];d instanceof ai?c="ESC":d instanceof Ct?c="CTRL":d instanceof ui?c="Ctrl+S":d instanceof ci?c="Ctrl+E":d instanceof fi?c="Ctrl+N":d instanceof di?c="Ctrl+Space":d instanceof vt?c="SHIFT":d instanceof pi?c="Shift+1":c="Shift+2"}else{let d=u[0],h=u[1];c="("+d+": "+h+")"}let p=c;return T(l([]),l([m(p)]))}))),w(l([f("text-gray-400")]),l([m("JST Lustre")]))]))]))}function kh(e){let t=e.route;if(t instanceof pn)return new br;if(t instanceof Tt){let n=e.articles;if(n instanceof Y)return new $e(new xi("articles not initialized"));if(n instanceof ie)return new In;if(n instanceof L){let i=n[0];return new yr(i,e.session)}else if(n instanceof Ce){let i=n[0];return new yr(i,e.session)}else{let i=n[0];return new $e(new Mn(i,"Failed to load article list"))}}else if(t instanceof Kt){let n=t.slug,i=e.articles;if(i instanceof Y)return new $e(new xi("articles not initialized"));if(i instanceof ie)return new In;if(i instanceof L){let r=i[0],s=St(r,o=>o.slug===n);if(s instanceof g){let o=s[0];return new _n(o,e.session)}else return new $e(new vr(n,yu(r)))}else if(i instanceof Ce){let r=i[0],s=St(r,o=>o.slug===n);if(s instanceof g){let o=s[0];return new _n(o,e.session)}else return new $e(new vr(n,yu(r)))}else{let r=i[0];return new $e(new Mn(r,"Failed to load articles"))}}else if(t instanceof tt){let n=t.id,i=e.articles;if(i instanceof Y)return new $e(new xi("articles not initialized"));if(i instanceof ie)return new In;if(i instanceof L){let r=i[0],s=St(r,o=>o.id===n);if(s instanceof g){let o=s[0],a=xs(o,e.session),u=o.draft;if(a)if(u instanceof $){let c=e.session;if(c instanceof Ae){let p=c.session;return new Yt(o,p)}else return new $e(new nt("edit article"))}else{let c=e.session;if(c instanceof Ae){let p=c.session;return new Yt((()=>{let d=o;return new be(d.id,d.slug,d.revision,d.author,d.tags,d.published_at,d.title,d.subtitle,d.leading,d.content,ii(o))})(),p)}else return new $e(new nt("edit article"))}else return new $e(new nt("edit article"))}else return new $e(new kr(n))}else if(i instanceof Ce){let r=i[0],s=St(r,o=>o.id===n);if(s instanceof g){let o=s[0],a=xs(o,e.session),u=o.draft;if(a)if(u instanceof $){let c=e.session;if(c instanceof Ae){let p=c.session;return new Yt(o,p)}else return new $e(new nt("edit article"))}else{let c=e.session;if(c instanceof Ae){let p=c.session;return new Yt((()=>{let d=o;return new be(d.id,d.slug,d.revision,d.author,d.tags,d.published_at,d.title,d.subtitle,d.leading,d.content,ii(o))})(),p)}else return new $e(new nt("edit article"))}else return new $e(new nt("edit article"))}else return new $e(new kr(n))}else{let r=i[0];return new $e(new Mn(r,"Failed to load articles for editing"))}}else{if(t instanceof Vt)return new wi;if(t instanceof Jt)return new Cs(e.djot_demo_content);if(t instanceof kt){let n=e.session;if(n instanceof Ae){let i=n.session;return new $i(i)}else return new $e(new nt("access URL shortener"))}else if(t instanceof Ln){let n=t[0],i=e.session;if(i instanceof Ae){let r=i.session;return new mi(n,r)}else return new $e(new nt("access URL shortener info"))}else if(t instanceof U){let n=e.session;if(n instanceof Ae){let i=n.session;return new hi(i)}else return new $e(new nt("access UI components"))}else{let n=t.uri;return new gi(n)}}}function Su(e){return oe()}function Ah(e){return w(l([]),l([fu(new qr),du("Sign In",l([hr("Username",e.login_username,"Enter your username","text",!0,new x,t=>new Do(t)),hr("Password",e.login_password,"Enter your password","password",!0,new x,t=>new Ro(t))]),l([V("Cancel",new te,new R,new qr),V(e.login_loading?"Sign In...":"Sign In",new O,(()=>{let t=e.login_loading,n=e.login_username===""||e.login_password==="";return t?new ye:n?new Te:new R})(),new Fo)]),new qr)]))}function ju(e){return e.login_form_open?Ah(e):oe()}function zh(){let e=he("/article/nats-all-the-way-down");if(!(e instanceof g))throw H("let_assert",Qt,"jst_lustre",1877,"view_index","Pattern match failed, no pattern matched the value.",{value:e,start:59193,end:59262,pattern_start:59204,pattern_end:59216});let t=e[0];return l([Gl("Welcome to jst.dev!",new $("...or, A lesson on overengineering for fun and... well just for fun.")),_u(l([w(l([f("prose prose-lg text-zinc-300 max-w-none")]),l([ae(l([f("text-xl leading-relaxed mb-8")]),l([m(`This site and its underlying IT infrastructure is the primary 
            place for me to experiment with technologies and topologies. I 
            also share some of my thoughts and learnings here.`)])),ae(l([f("mb-6")]),l([m(`This site and its underlying IT infrastructure is the primary 
            place for me to experiment with technologies and topologies. I 
            also share some of my thoughts and learnings here. Feel free to 
            check out my overview: `),pu("NATS all the way down \u2192",new mn(t))])),ae(l([f("mb-6")]),l([m("It too is a work in progress and I mostly keep it here for my own reference.")])),ae(l([f("mb-6")]),l([m(`I'm a software developer and writer, exploring modern technologies 
            and sharing insights from my experiments. This space serves as both 
            a playground for new ideas and a platform for documenting the journey.`)]))]))]))])}function Sh(){return l([Ss("Loading page...",new x,new K)])}function jh(){return w(l([f("mt-8 p-4 bg-zinc-800 rounded-lg border border-zinc-700")]),l([G(l([f("text-lg text-pink-700 font-light")]),l([m("Djot Quick Reference")])),ae(l([f("text-zinc-300 mb-6")]),l([fs(l([]),l([m("Note: ")])),m("This editor uses Djot format. See the "),pr(l([fr("https://htmlpreview.github.io/?https://github.com/jgm/djot/blob/master/doc/syntax.html"),f("text-zinc-300 underline")]),l([m("djot syntax documentation")])),m(" for complete details.")])),w(l([f("grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 text-sm")]),l([w(l([]),l([_e(l([f("text-pink-700 font-medium mb-2")]),l([m("Headings")])),Ie(l([f("text-zinc-300")]),l([Fe(l([f("text-zinc-300")]),l([m(`# H1
## H2
### H3`)]))]))])),w(l([]),l([_e(l([f("text-pink-700 font-medium mb-2")]),l([m("Text")])),Ie(l([f("text-zinc-300")]),l([Fe(l([f("text-zinc-300")]),l([m("_italic_\n*bold*\n`code`")]))]))])),w(l([]),l([_e(l([f("text-pink-700 font-medium mb-2")]),l([m("Lists")])),Ie(l([f("text-zinc-300")]),l([Fe(l([f("text-zinc-300")]),l([m(`- item 1
- item 2

  - nested`)]))]))])),w(l([]),l([_e(l([f("text-pink-700 font-medium mb-2")]),l([m("Links")])),Ie(l([f("text-zinc-300")]),l([Fe(l([f("text-zinc-300")]),l([m(`[text](url)
[text](url){title="tooltip"}`)]))]))])),w(l([]),l([_e(l([f("text-pink-700 font-medium mb-2")]),l([m("Code Blocks")])),Ie(l([f("text-zinc-300")]),l([Fe(l([f("text-zinc-300")]),l([m("```\ncode here\n```")]))]))])),w(l([]),l([_e(l([f("text-pink-700 font-medium mb-2")]),l([m("Blockquotes")])),Ie(l([f("text-zinc-300")]),l([Fe(l([f("text-zinc-300")]),l([m("> quoted text")]))]))]))]))]))}function Wd(e,t,n,i,r){let s=f("block text-sm font-medium text-zinc-400 mb-1"),o;t instanceof Nu?o=f("w-full bg-zinc-800 border border-zinc-600 rounded-md p-2 font-light text-zinc-100 focus:border-pink-700 focus:ring-1 focus:ring-pink-700 focus:outline-none transition-colors duration-200"):t instanceof Ko?o=f("w-full bg-zinc-800 border border-zinc-600 rounded-md p-2 text-3xl text-pink-700 font-light focus:border-pink-700 focus:ring-1 focus:ring-pink-700 focus:outline-none transition-colors duration-200"):t instanceof Vo?o=f("w-full bg-zinc-800 border border-zinc-600 rounded-md p-2 text-md text-zinc-500 font-light focus:border-pink-700 focus:ring-1 focus:ring-pink-700 focus:outline-none transition-colors duration-200"):o=f("w-full bg-zinc-800 border border-zinc-600 rounded-md p-2 font-bold text-zinc-100 focus:border-pink-700 focus:ring-1 focus:ring-pink-700 focus:outline-none transition-colors duration-200");let a=o;return w(l([f("mb-4")]),l([En(l([s]),l([m(e)])),ds(l([a,on(n),Sn("edit-"+r+"-"+e),an(i)]))]))}function Eh(e){return w(l([f("mt-8 p-6 bg-zinc-800 rounded-lg border border-zinc-700")]),l([G(l([f("text-lg text-pink-700 font-light mb-4")]),l([m("Create Short URL")])),w(l([f("space-y-4")]),l([hr("Target URL",e.short_url_form_target_url,"https://example.com","url",!0,(()=>{let n=Jl(e.short_url_form_target_url)[1];if(n instanceof $){let i=n[0];return new $(i)}else return new x})(),t=>new Lo(t)),hr("Short Code (optional)",e.short_url_form_short_code,"Leave empty for random code","text",!1,new x,t=>new No(t)),V("Create Short URL",new O,(()=>{let t=Jl(e.short_url_form_target_url);return t[1]instanceof x?t[0]?new R:new Te:new Te})(),new Co(e.short_url_form_short_code,e.short_url_form_target_url))]))]))}function Ch(e,t){return vl(l([f("bg-zinc-800 border border-zinc-700 rounded-lg transition-colors")]),l([w(l([f("flex items-center justify-between p-4")]),l([w(l([f("flex items-center space-x-4 flex-1 min-w-0")]),l([ge(l([f("font-mono text-sm font-medium text-zinc-100 hover:text-pink-300 transition-colors cursor-pointer"),ue(new Br(t.short_code)),jn("Click to copy short URL")]),l([T(l([f("text-zinc-500")]),l([m("u.jst.dev/")])),T(l([f("text-pink-400")]),l([m(t.short_code)])),N(e.copy_feedback,new $(t.short_code))?T(l([f("ml-2 text-green-400 text-xs")]),l([m("\u2713 Copied!")])):oe()])),w(l([f("text-sm text-zinc-400 truncate flex-1 cursor-pointer hover:text-zinc-300 transition-colors"),jn(t.target_url),ue(new Hn(t.id))]),l([T(l([f("text-zinc-600")]),l([m("\u2192 ")])),m(t.target_url)])),ge(l([f(t.is_active?"inline-flex shrink-0 items-center rounded-full bg-green-600/20 px-2 py-1 text-xs font-medium text-green-400 ring-1 ring-inset ring-green-600/30 cursor-pointer hover:bg-green-600/30 transition-colors":"inline-flex shrink-0 items-center rounded-full bg-red-600/20 px-2 py-1 text-xs font-medium text-red-400 ring-1 ring-inset ring-red-600/30 cursor-pointer hover:bg-red-600/30 transition-colors"),ue(new Pr(t.id,t.is_active)),jn("Toggle active/inactive")]),l([m(t.is_active?"Active":"Inactive")])),w(l([f("text-xs text-zinc-500 shrink-0 cursor-pointer hover:text-zinc-400 transition-colors"),ue(new Hn(t.id))]),l([m(J(t.access_count)+" clicks")]))])),w(l([f("flex items-center space-x-2 ml-4 cursor-pointer hover:text-zinc-300 transition-colors"),ue(new Hn(t.id))]),l([w(l([f("text-zinc-500 text-sm")]),l([m("\u25BC")]))]))]))]))}function Th(e,t){return vl(l([f("bg-zinc-800 border border-zinc-700 rounded-lg transition-colors")]),l([w(l([f("flex items-center justify-between p-4")]),l([w(l([f("flex items-center space-x-4 flex-1 min-w-0")]),l([ge(l([f("font-mono text-sm font-medium text-zinc-100 hover:text-pink-300 transition-colors cursor-pointer"),ue(new Br(t.short_code)),jn("Click to copy short URL")]),l([T(l([f("text-zinc-500")]),l([m("u.jst.dev/")])),T(l([f("text-pink-400")]),l([m(t.short_code)])),N(e.copy_feedback,new $(t.short_code))?T(l([f("ml-2 text-green-400 text-xs")]),l([m("\u2713 Copied!")])):oe()])),w(l([f("text-sm text-zinc-400 truncate flex-1"),jn(t.target_url)]),l([T(l([f("text-zinc-600")]),l([m("\u2192 ")])),m(t.target_url)])),ge(l([f(t.is_active?"inline-flex shrink-0 items-center rounded-full bg-green-600/20 px-2 py-1 text-xs font-medium text-green-400 ring-1 ring-inset ring-green-600/30 cursor-pointer hover:bg-green-600/30 transition-colors":"inline-flex shrink-0 items-center rounded-full bg-red-600/20 px-2 py-1 text-xs font-medium text-red-400 ring-1 ring-inset ring-red-600/30 cursor-pointer hover:bg-red-600/30 transition-colors"),ue(new Pr(t.id,t.is_active)),jn("Toggle active/inactive")]),l([m(t.is_active?"Active":"Inactive")])),w(l([f("text-xs text-zinc-500 shrink-0")]),l([m(J(t.access_count)+" clicks")]))])),w(l([f("flex items-center space-x-2 ml-4 cursor-pointer hover:text-zinc-300 transition-colors"),ue(new Hn(t.id))]),l([w(l([f("text-zinc-500 text-sm")]),l([m("\u25B2")]))]))])),w(l([f("px-4 pb-4")]),l([w(l([f("mb-4 pt-2 border-t border-zinc-700")]),l([w(l([f("text-sm text-zinc-500 mb-2")]),l([m("Target URL:")])),w(l([f("text-zinc-300 break-all bg-zinc-900 rounded px-3 py-2 text-sm cursor-pointer hover:bg-zinc-850 transition-colors"),jn(t.target_url+" (click to collapse)"),ue(new Hn(t.id))]),l([m(t.target_url)]))])),w(l([f("space-y-3 text-sm mb-4")]),l([w(l([f("flex justify-between items-center")]),l([T(l([f("text-zinc-500 shrink-0")]),l([m("Created By:")])),T(l([f("text-zinc-300 truncate ml-2")]),l([m(t.created_by)]))])),w(l([f("flex justify-between items-center")]),l([T(l([f("text-zinc-500 shrink-0")]),l([m("Access Count:")])),T(l([f("text-zinc-300 font-mono")]),l([m(J(t.access_count))]))])),w(l([f("flex justify-between items-center")]),l([T(l([f("text-zinc-500 shrink-0")]),l([m("Created:")])),T(l([f("text-zinc-300")]),l([m((()=>{let n=lr(t.created_at*1e3);return Fr(n)})())]))])),w(l([f("flex justify-between items-center")]),l([T(l([f("text-zinc-500 shrink-0")]),l([m("Updated:")])),T(l([f("text-zinc-300")]),l([m((()=>{let n=lr(t.updated_at*1e3);return Fr(n)})())]))]))])),w(l([f("space-y-2")]),l([ge(l([f("w-full px-4 py-3 text-sm font-medium text-teal-400 border border-teal-600 bg-teal-500/10 hover:bg-teal-950/50 hover:text-teal-300 hover:border-teal-400 cursor-pointer transition-colors duration-200 rounded"),ue(new Br(t.short_code))]),l([m(N(e.copy_feedback,new $(t.short_code))?"Copied!":"Copy URL")])),ge(l([f(t.is_active?"w-full px-4 py-3 text-sm font-medium text-orange-400 border border-orange-600 bg-orange-500/10 hover:bg-orange-950/50 hover:text-orange-300 hover:border-orange-400 cursor-pointer transition-colors duration-200 rounded":"w-full px-4 py-3 text-sm font-medium text-teal-400 border border-teal-600 bg-teal-500/10 hover:bg-teal-950/50 hover:text-teal-300 hover:border-teal-400 cursor-pointer transition-colors duration-200 rounded"),ue(new Pr(t.id,t.is_active))]),l([m(t.is_active?"Deactivate":"Activate")])),ge(l([f("w-full px-4 py-3 text-sm font-medium text-red-400 border border-red-600 bg-red-500/10 hover:bg-red-950/50 hover:text-red-300 hover:border-red-400 cursor-pointer transition-colors duration-200 rounded"),ue(new Ds(t.id))]),l([m("Delete")]))]))]))]))}function qh(e,t){let n,i=St(t,s=>s.id===e);i instanceof g?n=i[0].short_code:n="unknown";let r=n;return w(l([]),l([fu(new ji),du("Delete Short URL",l([ae(l([f("text-zinc-300")]),l([m("Are you sure you want to delete the short URL "),T(l([f("font-mono text-pink-400")]),l([m("u.jst.dev/"+r)])),m("? This action cannot be undone.")]))]),l([V("Cancel",new O,new R,new ji),V("Delete",new te,new R,new Po(e))]),new ji)]))}function Bh(e){let t=e.short_urls;if(t instanceof Y)return w(l([f("mt-8 p-6 bg-zinc-800 rounded-lg border border-zinc-700")]),l([G(l([f("text-lg text-pink-700 font-light mb-6")]),l([m("URLs")])),bt("Loading URLs...",new K)]));if(t instanceof ie)return w(l([f("mt-8 p-6 bg-zinc-800 rounded-lg border border-zinc-700")]),l([G(l([f("text-lg text-pink-700 font-light mb-6")]),l([m("URLs")])),bt("Loading URLs...",new K)]));if(t instanceof L){let n=t[0];if(n instanceof y)return w(l([f("mt-8 p-6 bg-zinc-800 rounded-lg border border-zinc-700")]),l([G(l([f("text-lg text-pink-700 font-light mb-6")]),l([m("URLs")])),Vl("No short URLs created yet","Create your first short URL using the form above.",new x)]));{let i=D(n,r=>kn(e.expanded_urls,r.id)?Th(e,r):Ch(e,r));return w(l([f("mt-8 p-6 bg-zinc-800 rounded-lg border border-zinc-700")]),l([G(l([f("text-lg text-pink-700 font-light mb-6")]),l([m("URLs")])),kl(l([f("space-y-2"),cf("list")]),i),(()=>{let r=e.delete_confirmation;if(r instanceof $){let s=r[0];return qh(s,n)}else return oe()})()]))}}else{if(t instanceof Ce)return w(l([f("mt-8 p-6 bg-zinc-800 rounded-lg border border-zinc-700")]),l([G(l([f("text-lg text-pink-700 font-light mb-6")]),l([m("URLs")])),bt("Loading URLs...",new K)]));{let n=t[0];return w(l([f("mt-8 p-6 bg-zinc-800 rounded-lg border border-zinc-700")]),l([G(l([f("text-lg text-pink-700 font-light mb-6")]),l([m("URLs")])),w(l([f("text-center py-12")]),l([w(l([f("text-red-400 text-lg mb-2")]),l([m("Error loading short URLs")])),w(l([f("text-zinc-500 text-sm")]),l([m(Ts(n))]))]))]))}}}function Gd(e){let t=e.published_at;if(t instanceof $){let n=t[0],i=Fr(n);return T(l([f("text-xs text-zinc-500 px-2 pt-2 w-max border-t border-r border-zinc-700 group-hover:border-pink-700 transition-colors duration-25")]),l([m(i)]))}else return T(l([f("text-xs text-zinc-500 px-2 pt-2 w-max italic border-t border-r border-zinc-700 group-hover:border-pink-700 transition-colors duration-25")]),l([m("not published")]))}function Kd(e){return w(l([f("text-xs text-zinc-400 pt-0 border-r border-zinc-700 pr-2 group-hover:border-pink-700 transition-colors duration-25")]),l([T(l([f("text-zinc-500 font-light")]),l([m("by ")])),T(l([f("text-zinc-300")]),l([m(e)]))]))}function Vd(e){return e instanceof y?oe():w(l([f("flex justify-end align-end gap-0 ml-auto flex-wrap border-b border-r border-zinc-700 pb-1 pr-2 hover:border-pink-700 group-hover:border-pink-700 transition-colors duration-25 mt-2")]),D(e,n=>T(l([f("text-xs cursor-pointer text-zinc-500 px-2 hover:border-pink-700 hover:text-pink-700 transition-colors duration-25")]),l([m(n)]))))}function Jd(e,t){let n=xs(e,t),i=od(e,t),r=ld(e,t);return w(l([f("flex justify-start h-10")]),l([n?ge(l([f("text-gray-500 pe-4 text-underline pb-2 hover:text-teal-300 hover:border-teal-300 border-b border-zinc-700"),ue(new mn(I(new tt(e.id))))]),l([m("Edit")])):oe(),i&&N(e.published_at,new x)?ge(l([f("text-gray-500 pe-4 text-underline pb-2 hover:text-green-300 hover:border-green-300 border-b border-zinc-700"),ue(new zo(e))]),l([m("Publish")])):oe(),i&&!N(e.published_at,new x)?ge(l([f("text-gray-500 pe-4 text-underline pb-2 hover:text-yellow-300 hover:border-yellow-300 border-b border-zinc-700"),ue(new So(e))]),l([m("Unpublish")])):oe(),r?ge(l([f("text-gray-500 pe-4 text-underline pb-2 hover:text-red-400 hover:border-red-400 border-b border-zinc-700"),ue(new ko(e))]),l([m("Delete")])):oe()]))}function Ph(e,t){return l([w(l([f("mb-4")]),l([w(l([f("flex items-center justify-between mb-1")]),l([En(l([f("block text-sm font-medium text-zinc-400")]),l([m("Slug")])),T(l([f("text-xs text-zinc-500")]),l([m("rev "+J(t.revision))]))])),ds(l([f("w-full bg-zinc-800 border border-zinc-600 rounded-md p-3 sm:p-2 font-light text-zinc-100 focus:border-pink-700 focus:ring-1 focus:ring-pink-700 focus:outline-none transition-colors duration-200"),on(Tl(e)),Sn("edit-"+t.slug+"-Slug"),an(n=>new mo(t,n))]))])),Wd("Title",new Ko,ql(e),n=>new ho(t,n),t.slug),Wd("Subtitle",new Vo,Bl(e),n=>new go(t,n),t.slug),w(l([f("mb-4")]),l([En(l([f("block text-sm font-medium text-zinc-400 mb-1")]),l([m("Leading")])),Yr(l([f("w-full h-20 sm:h-24 bg-zinc-800 border border-zinc-600 rounded-md p-3 sm:p-2 font-bold text-zinc-100 resize-none focus:border-pink-700 focus:ring-1 focus:ring-pink-700 focus:outline-none transition-colors duration-200"),on(_s(e)),Sn("edit-"+t.slug+"-Leading"),an(n=>new wo(t,n)),ur("Write a compelling leading paragraph...")]),_s(e))])),w(l([f("mb-4")]),l([En(l([f("block text-sm font-medium text-zinc-400 mb-1")]),l([m("Content")])),Yr(l([f("w-full h-64 sm:h-80 lg:h-96 bg-zinc-800 border border-zinc-600 rounded-md p-4 font-mono text-sm text-zinc-100 resize-none focus:border-pink-700 focus:ring-1 focus:ring-pink-700 focus:outline-none transition-colors duration-200"),on($s(e)),an(n=>new xo(t,n)),ur("Write your article content in Djot format...")]),$s(e))])),w(l([f("flex justify-between gap-4")]),l([Jd(t,new et),w(l([f("flex gap-4")]),l([ge(l([f("px-4 py-2 bg-zinc-700 text-zinc-300 rounded-md hover:bg-zinc-600 transition-colors duration-200"),ue(new yo(t)),cr(Cl(e))]),l([m("Discard Changes")])),ge(l([f("px-4 py-2 bg-teal-700 text-white rounded-md hover:bg-teal-600 transition-colors duration-200"),ue(new bo(t)),cr(Cl(e))]),l([Cl(e)?m("Saving..."):m("Save Article")]))]))]))])}function rt(e,t){return dr(l([Sn("article-title-"+t),f("page-title text-2xl sm:text-3xl sm:h-10 md:text-4xl md:h-12 text-pink-600 font-bold")]),l([m(e)]))}function Lu(e,t){return w(l([Sn("article-subtitle-"+t),f("page-subtitle")]),l([m(e)]))}function Nh(e,t){return ae(l([Sn("article-lead-"+t),f("font-medium text-zinc-300 pt-6 md:pt-8 border-b border-zinc-700 pb-4"),f("article-leading")]),l([m(e)]))}function pt(e){return ae(l([f("pt-8")]),l([m(e)]))}function Lh(e,t){let n;t instanceof et?n=Nt(e,h=>h.published_at instanceof $):n=e;let i=n,r,o=Or(i,(d,h)=>{let v=d.published_at,A=h.published_at;if(A instanceof $)if(v instanceof $){let q=A[0],j=v[0];return Uc(q,j)}else return new fe;else return v instanceof $?new Oe:Pi(d.slug,h.slug)});r=D(o,d=>{let h=d.slug,v=d.tags,A=d.title,q=d.subtitle,j=d.leading,ne,re=new Kt(h);ne=I(re);let M=ne;return Wa(l([f("mt-14")]),l([pr(l([f("group block border-l border-zinc-700 pl-4 hover:border-pink-700 transition-colors duration-25"),fr(Ne(M)),Ef(new $o(d)),ue(new mn(M))]),l([w(l([f("flex justify-between gap-4")]),l([w(l([f("flex flex-col")]),l([G(l([Sn("article-title-"+h),f("article-title"),f("text-xl text-pink-700 font-light")]),l([m(A)])),Lu(q,h)])),w(l([f("flex flex-col items-end")]),l([Gd(d),Kd(d.author)]))])),pt(j),w(l([f("flex justify-end mt-2")]),l([Vd(v)]))]))]))});let a=r,u=l([$u(Kl("Articles"),t instanceof Ae?V("New Article",new O,new R,new Ms):oe())]),c;return a instanceof y?c=l([Vl("No articles yet",t instanceof Ae?"Ready to share your thoughts? Create your first article to get started.":"No published articles are available yet. Check back later for new content!",t instanceof Ae?new $(V("Create Your First Article",new O,new R,new Ms)):new x)]):c=a,me(u,c)}function Ih(e,t){return l([rt("Article not found",t),pt("The article you are looking for does not exist.")])}function Mh(e,t){if(e instanceof Y)return l([rt("Loading article",t),pt("Loading article...")]);if(e instanceof ie)return l([rt("Loading article",t),pt("Loading article...")]);if(e instanceof L)return l([rt("Article not found",t),pt("The article you are looking for does not exist.")]);if(e instanceof Ce)return l([rt("Article not found",t),pt("The article you are looking for might not exist yet. Please check back later.")]);{let n=e[0];return l([rt("There was an error loading the article",t),pt(Ts(n))])}}function Oh(){return l([rt("About","about"),pt(`I'm a software developer and a writer. I'm also a father and a husband. 
      I'm also a software developer and a writer. I'm also a father and a 
      husband. I'm also a software developer and a writer. I'm also a father 
      and a husband. I'm also a software developer and a writer. I'm also a 
      father and a husband.`),pt(`If you enjoy these glimpses into my mind, feel free to come back
       semi-regularly. But not too regularly, you creep.`)])}function Uh(e){return l([rt("URL Shortener","url-shortener"),pt("Create and manage short URLs for easy sharing."),Eh(e),Bh(e)])}function Dh(e,t){let n=e.short_urls;if(n instanceof L){let i=n[0],r=St(i,s=>s.short_code===t);if(r instanceof g){let s=r[0];return l([rt("URL Info","url-info"),w(l([f("mt-8 p-6 bg-zinc-800 rounded-lg border border-zinc-700")]),l([G(l([f("text-lg text-pink-700 font-light mb-4")]),l([m("URL Details")])),w(l([f("space-y-4 text-zinc-300")]),l([w(l([f("flex justify-between items-center")]),l([T(l([f("text-zinc-500")]),l([m("Short Code:")])),T(l([f("font-mono text-pink-700")]),l([m(s.short_code)]))])),w(l([f("flex justify-between items-center")]),l([T(l([f("text-zinc-500")]),l([m("Target URL:")])),T(l([f("break-all")]),l([m(s.target_url)]))])),w(l([f("flex justify-between items-center")]),l([T(l([f("text-zinc-500")]),l([m("Created By:")])),T(l([]),l([m(s.created_by)]))])),w(l([f("flex justify-between items-center")]),l([T(l([f("text-zinc-500")]),l([m("Created:")])),T(l([]),l([m((()=>{let o=lr(s.created_at*1e3);return Fr(o)})())]))])),w(l([f("flex justify-between items-center")]),l([T(l([f("text-zinc-500")]),l([m("Updated:")])),T(l([]),l([m((()=>{let o=lr(s.updated_at*1e3);return Fr(o)})())]))])),w(l([f("flex justify-between items-center")]),l([T(l([f("text-zinc-500")]),l([m("Access Count:")])),T(l([]),l([m(J(s.access_count))]))])),w(l([f("flex justify-between items-center")]),l([T(l([f("text-zinc-500")]),l([m("Status:")])),s.is_active?T(l([f("text-green-400")]),l([m("Active")])):T(l([f("text-red-400")]),l([m("Inactive")]))]))])),w(l([f("mt-6 flex gap-4")]),l([V("Back to URLs",new O,new R,new mn(I(new kt))),V(N(e.copy_feedback,new $(s.short_code))?"Copied!":"Copy URL",new O,new R,new Br(s.short_code)),V(s.is_active?"Deactivate":"Activate",s.is_active?new ee:new O,new R,new Pr(s.id,s.is_active)),V("Delete URL",new te,new R,new Ds(s.id))]))]))])}else return l([rt("URL Not Found","url-not-found"),pt("The requested URL was not found.")])}else return l([rt("URL Info","url-info"),pt("Loading URL information...")])}function Rh(e){return l([rt("404 - Page Not Found","not-found"),Lu("The page you're looking for doesn't exist.","not-found"),pt("The page at "+Ne(e)+" could not be found.")])}function Ei(e){return oi(new zs,"Something went wrong",e,new x)}function Yd(e,t){let n,i=e.content;if(i instanceof Y)n=l([Ei("content not initialized")]);else if(i instanceof ie)n=l([Pn(new O),bt("Loading article...",new K)]);else if(i instanceof L){let s=i[0];n=co(s)}else if(i instanceof Ce){let s=i[0];n=co(s)}else{let s=i[0];n=l([Ei(Ts(s))])}let r=n;return l([Wa(l([f("with-transition")]),b(w(l([f("flex flex-col justify-between")]),l([Jd(e,t),w(l([f("flex gap-2 justify-between")]),l([w(l([f("flex flex-col justify-between")]),l([rt(e.title,e.slug),Lu(e.subtitle,e.slug)])),w(l([f("flex flex-col items-end")]),l([Gd(e),Kd(e.author)]))])),w(l([f("flex justify-between mt-2")]),l([Vd(e.tags)]))])),b(Nh(e.leading,e.slug),r)))])}function Fh(e,t){let n=t.draft;if(n instanceof $){let i=n[0],r,s=$s(i);s===""?r="Start typing in the editor to see the preview here...":r=s;let o=r,a=new be(t.id,Tl(i),t.revision,t.author,t.tags,t.published_at,ql(i),Bl(i),_s(i),new L(o),new x),u=Yd(a,new et);return l([w(l([f("lg:hidden mb-4 flex justify-center")]),l([V(e.edit_view_mode instanceof Rn?"Show Preview":"Show Editor",new O,new R,new Oo)])),w(l([ns(l([["grid gap-4 lg:gap-8 h-screen",!0],["grid-cols-1 lg:grid-cols-2",!0]]))]),l([w(l([ns(l([["space-y-4",!0],["lg:block",!0],["lg:col-span-1",!0],["col-span-2",N(e.edit_view_mode,new Rn)],["hidden",N(e.edit_view_mode,new Is)]]))]),Ph(i,t)),w(l([ns(l([["max-w-screen-md mx-auto px-10 py-10 overflow-y-auto",!0],["lg:block",!0],["lg:col-span-1",!0],["col-span-2",N(e.edit_view_mode,new Is)],["hidden",N(e.edit_view_mode,new Rn)]]))]),u)])),jh()])}else return l([Ei("no draft..")])}function Hh(){return l([Kl("Articles"),Ss("Loading articles...",new x,new K)])}function Zd(e,t){return pr(l([f(""),fr(Ne(e)),ue(new mn(e))]),t)}function Xt(e,t,n,i){return vl(me(i,l([ns(l([["relative cursor-pointer transition-all duration-300 ease-out px-3 py-2 rounded-lg",!0],["active text-pink-500",xd(e,t)]])),ue(new mn(I(e)))])),l([Zd(I(e),l([m(n)]))]))}function Eu(e){let t=l([f("block w-full text-left px-4 py-2 text-sm text-zinc-400 hover:text-teal-300 hover:bg-teal-800/20 transition-colors cursor-pointer")]);return kf(l([f("py-2 border-b bg-zinc-800 border-pink-700 font-mono relative")]),l([w(l([f("flex justify-between px-4 sm:px-6 md:px-10 items-center max-w-screen-md mx-auto")]),l([w(l([]),l([Zd(io(new br),l([m("jst.dev")]))])),w(l([f("flex items-center space-x-8")]),l([kl(l([f("hidden md:flex space-x-8 pr-2")]),Mr(l([l([Xt(new Tt,e.route,"Articles",l([])),Xt(new Vt,e.route,"About",l([]))]),e.session instanceof Ae?l([Xt(new kt,e.route,"Short Urls",l([])),Xt(new U,e.route,"UI Components",l([]))]):l([]),l([Xt(new Jt,e.route,"Djot Demo",l([]))])]))),w(l([f("relative")]),l([ge(l([f("px-4 py-2 bg-zinc-800 hover:bg-teal-500/10 transition-colors duration-200"),ue(new _o)]),l([e.profile_menu_open?Bs(l([f("w-6 h-6")]),new yi):Bs(l([f("w-6 h-6")]),new qs)])),e.profile_menu_open?w(l([f("absolute right-0 mt-2 w-48 shadow-lg bg-zinc-800 border border-l-2 border-zinc-700  z-50")]),l([w(l([f("py-1")]),l([kl(l([f("flex md:hidden flex-col border-b border-zinc-400")]),Mr(l([l([Xt(new Tt,e.route,"Articles",t),Xt(new Vt,e.route,"About",t)]),e.session instanceof Ae?l([Xt(new kt,e.route,"Short urls",t),Xt(new U,e.route,"UI Components",t)]):l([]),l([Xt(new Jt,e.route,"Djot Demo",t)])]))),(()=>{let i=e.session;return i instanceof qn?js("Login",new O,new ye,new Si(new Os)):i instanceof et?js("Login",new O,new R,new Si(new qr)):js("Logout",new ee,new R,new Si(new Os))})(),e.debug_use_local_storage?cu(l([w(l([f("flex justify-between")]),l([m("LocalStorage"),Bs(l([f("w-6 text-green-400")]),new so)]))]),new K,new R,new Rs):cu(l([w(l([f("flex justify-between ")]),l([m("LocalStorage"),Bs(l([f("w-6 text-orange-400")]),new yi)]))]),new K,new R,new Rs)]))])):w(l([]),l([]))]))]))]))]))}function Wh(e){let t;e===""?t=l([w(l([f("text-zinc-500 italic text-center mt-8")]),l([m("Start typing in the editor to see the preview here...")]))]):t=co(e);let n=t;return l([rt("Djot Demo","djot-demo"),w(l([f("grid grid-cols-1 lg:grid-cols-2 gap-6")]),l([Qe(l([f("space-y-4")]),l([w(l([f("flex items-center justify-between")]),l([Ee(l([f("text-xl text-pink-700 font-light")]),l([m("Editor")])),w(l([f("text-xs text-zinc-500")]),l([m("Live preview updates as you type")]))])),w(l([f("relative")]),l([Yr(l([f("w-full h-[400px] lg:h-[600px] bg-zinc-800 border border-zinc-600 rounded-lg p-4 font-mono text-sm text-zinc-100 resize-none focus:border-pink-700 focus:ring-1 focus:ring-pink-700 focus:outline-none transition-colors duration-200"),ur(`# Start typing your article content here...

## Headings

- Lists
- Work too

**Bold** and *italic* text

[Link text](url)`),on(e),an(i=>new Eo(i)),E("spellcheck","false")]),e),w(l([f("absolute bottom-2 right-2 text-xs text-zinc-500 bg-zinc-800 px-2 py-1 rounded")]),l([m((()=>{let i=Lt(e);return oa(i)})()),m(" chars")]))]))])),Qe(l([f("space-y-4")]),l([w(l([f("flex items-center justify-between")]),l([Ee(l([f("text-xl text-pink-700 font-light")]),l([m("Preview")])),w(l([f("text-xs text-zinc-500")]),l([m("Rendered output")]))])),w(l([f("w-full h-[400px] lg:h-[600px] bg-zinc-900 border border-zinc-600 rounded-lg p-6 overflow-y-auto prose prose-invert prose-pink max-w-none")]),n)]))])),w(l([f("mt-8 p-4 bg-zinc-800 rounded-lg border border-zinc-700")]),l([G(l([f("text-lg text-pink-700 font-light")]),l([m("Quick Reference")])),ae(l([f("text-zinc-300")]),l([fs(l([]),l([m("Note: ")])),m("The djot implementation is a work in progress. Not all features are supported yet.")])),ae(l([f("mb-6")]),l([m("See the "),pr(l([fr("https://htmlpreview.github.io/?https://github.com/jgm/djot/blob/master/doc/syntax.html"),f("text-zinc-300 underline")]),l([m("djot syntax documentation")])),m(" for more details.")])),w(l([f("grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 text-sm")]),l([w(l([]),l([_e(l([f("text-pink-700 font-medium mb-2")]),l([m("Headings")])),Ie(l([f("text-zinc-300")]),l([Fe(l([f("text-zinc-300")]),l([m(`# H1
## H2
### H3`)]))]))])),w(l([]),l([_e(l([f("text-pink-700 font-medium mb-2")]),l([m("Text")])),Ie(l([f("text-zinc-300")]),l([Fe(l([f("text-zinc-300")]),l([m("_italic_\n*bold*\n`code`")]))]))])),w(l([]),l([_e(l([f("text-pink-700 font-medium mb-2")]),l([m("Lists")])),Ie(l([f("text-zinc-300")]),l([Fe(l([f("text-zinc-300")]),l([m(`- item 1
- item 2

  - nested`)]))]))])),w(l([]),l([_e(l([f("text-pink-700 font-medium mb-2")]),l([m("Links")])),Ie(l([f("text-zinc-300")]),l([Fe(l([f("text-zinc-300")]),l([m(`[text](url)
[text](url){title="tooltip"}`)]))]))])),w(l([]),l([_e(l([f("text-pink-700 font-medium mb-2")]),l([m("Code Blocks")])),Ie(l([f("text-zinc-300")]),l([Fe(l([f("text-zinc-300")]),l([m("```\ncode here\n```")]))]))])),w(l([]),l([_e(l([f("text-pink-700 font-medium mb-2")]),l([m("Blockquotes")])),Ie(l([f("text-zinc-300")]),l([Fe(l([f("text-zinc-300")]),l([m("> quoted text")]))]))]))]))]))])}function Gh(){return l([Gl("UI Components",new $("Showcase of all available UI components")),Qe(l([f("space-y-6")]),l([Ee(l([f("text-2xl font-light text-zinc-200 mb-6")]),l([m("Loading States")])),yt(l([G(l([f("text-lg font-medium text-zinc-100 mb-4")]),l([m("Loading Indicators")])),w(l([f("space-y-6")]),l([w(l([f("grid grid-cols-2 md:grid-cols-3 gap-4")]),l([bt("Loading...",new K),bt("Loading...",new de),bt("Loading...",new O),bt("Loading...",new ee),bt("Loading...",new te),bt("Loading...",new ft)]))])),G(l([f("text-lg font-medium text-zinc-100 mb-4 mt-8")]),l([m("Loading Bars")])),w(l([f("space-y-4")]),l([Pn(new K),Pn(new de),Pn(new O),Pn(new ee),Pn(new te),Pn(new ft)])),G(l([f("text-lg font-medium text-zinc-100 mb-4 mt-8")]),l([m("Full Loading States")])),w(l([f("space-y-6")]),l([Ss("Loading content...",new $("Please wait while we fetch your data"),new O),Ss("Processing...",new $("This may take a few moments"),new ee)]))]))])),Qe(l([f("space-y-6")]),l([Ee(l([f("text-2xl font-light text-zinc-200 mb-6")]),l([m("Buttons")])),yt(l([G(l([f("text-lg font-medium text-zinc-100 mb-4")]),l([m("Button Variants")])),w(l([f("mb-6")]),l([_e(l([f("text-md font-medium text-zinc-400 mb-3")]),l([m("Neutral")])),w(l([f("flex flex-wrap gap-3")]),l([V("Normal",new K,new R,new W(I(new U))),V("Pending",new K,new ye,new W(I(new U))),V("Disabled",new K,new Te,new W(I(new U)))]))])),w(l([f("mb-6")]),l([_e(l([f("text-md font-medium text-pink-400 mb-3")]),l([m("Pink")])),w(l([f("flex flex-wrap gap-3")]),l([V("Normal",new de,new R,new W(I(new U))),V("Pending",new de,new ye,new W(I(new U))),V("Disabled",new de,new Te,new W(I(new U)))]))])),w(l([f("mb-6")]),l([_e(l([f("text-md font-medium text-teal-400 mb-3")]),l([m("Teal")])),w(l([f("flex flex-wrap gap-3")]),l([V("Normal",new O,new R,new W(I(new U))),V("Pending",new O,new ye,new W(I(new U))),V("Disabled",new O,new Te,new W(I(new U)))]))])),w(l([f("mb-6")]),l([_e(l([f("text-md font-medium text-orange-400 mb-3")]),l([m("Orange")])),w(l([f("flex flex-wrap gap-3")]),l([V("Normal",new ee,new R,new W(I(new U))),V("Pending",new ee,new ye,new W(I(new U))),V("Disabled",new ee,new Te,new W(I(new U)))]))])),w(l([f("mb-6")]),l([_e(l([f("text-md font-medium text-red-400 mb-3")]),l([m("Red")])),w(l([f("flex flex-wrap gap-3")]),l([V("Normal",new te,new R,new W(I(new U))),V("Pending",new te,new ye,new W(I(new U))),V("Disabled",new te,new Te,new W(I(new U)))]))])),w(l([f("mb-6")]),l([_e(l([f("text-md font-medium text-green-400 mb-3")]),l([m("Green")])),w(l([f("flex flex-wrap gap-3")]),l([V("Normal",new ft,new R,new W(I(new U))),V("Pending",new ft,new ye,new W(I(new U))),V("Disabled",new ft,new Te,new W(I(new U)))]))])),G(l([f("text-lg font-medium text-zinc-100 mb-4 mt-8")]),l([m("Menu Buttons")])),w(l([f("max-w-sm")]),D(l([[new K,new R,"Neutral Menu (Normal)"],[new K,new ye,"Neutral Menu (Pending)"],[new K,new Te,"Neutral Menu (Disabled)"],[new de,new R,"Pink Menu (Normal)"],[new de,new ye,"Pink Menu (Pending)"],[new de,new Te,"Pink Menu (Disabled)"],[new O,new R,"Teal Menu (Normal)"],[new O,new ye,"Teal Menu (Pending)"],[new O,new Te,"Teal Menu (Disabled)"],[new ee,new R,"Orange Menu (Normal)"],[new ee,new ye,"Orange Menu (Pending)"],[new ee,new Te,"Orange Menu (Disabled)"],[new te,new R,"Red Menu (Normal)"],[new te,new ye,"Red Menu (Pending)"],[new te,new Te,"Red Menu (Disabled)"],[new ft,new R,"Green Menu (Normal)"],[new ft,new ye,"Green Menu (Pending)"],[new ft,new Te,"Green Menu (Disabled)"]]),e=>{let t=e[0],n=e[1],i=e[2];return js(i,t,n,new Pu)}))]))])),Qe(l([f("space-y-6")]),l([Ee(l([f("text-2xl font-light text-zinc-200 mb-6")]),l([m("Form Components")])),yt(l([G(l([f("text-lg font-medium text-zinc-100 mb-4")]),l([m("Input Fields")])),w(l([f("max-w-md space-y-6")]),l([hr("Email","user@example.com","Enter your email","email",!0,new x,e=>new W(I(new U))),hr("Error State","","This field has an error","text",!0,new $("This field is required"),e=>new W(I(new U))),cd("Description","Sample content","Enter description","h-32",!1,new x,e=>new W(I(new U)))]))]))])),Qe(l([f("space-y-6")]),l([Ee(l([f("text-2xl font-light text-zinc-200 mb-6")]),l([m("Status & Feedback")])),yt(l([G(l([f("text-lg font-medium text-zinc-100 mb-4")]),l([m("Status Badges")])),w(l([f("flex flex-wrap gap-4 mb-8")]),l([wr("Neutral",new K),wr("Active",new ft),wr("Pending",new ee),wr("Error",new te),wr("Info",new O),wr("Primary",new de)])),G(l([f("text-lg font-medium text-zinc-100 mb-4")]),l([m("Notices")])),w(l([f("space-y-4")]),l([gr("Neutral message",new K,!0,new $(new W(I(new U)))),gr("Success message",new ft,!0,new $(new W(I(new U)))),gr("Warning message",new ee,!0,new $(new W(I(new U)))),gr("Error message",new te,!0,new $(new W(I(new U)))),gr("Info message",new O,!0,new $(new W(I(new U)))),gr("Primary message",new de,!1,new x)]))]))])),Qe(l([f("space-y-6")]),l([Ee(l([f("text-2xl font-light text-zinc-200 mb-6")]),l([m("Error States")])),yt(l([w(l([f("space-y-8")]),l([oi(new vs,"Network Error","Failed to connect to server",new $(new W(I(new U)))),oi(new ks,"Not Found","The requested resource was not found",new x),oi(new As,"Access Denied","You don't have permission to access this resource",new $(new W(I(new U)))),oi(new zs,"Something Went Wrong","An unexpected error occurred",new $(new W(I(new U))))]))]))])),Qe(l([f("space-y-6")]),l([Ee(l([f("text-2xl font-light text-zinc-200 mb-6")]),l([m("Modals")])),yt(l([G(l([f("text-lg font-medium text-zinc-100 mb-4")]),l([m("Modal Example")])),w(l([f("space-y-4")]),l([V("Open Modal",new O,new R,new W(I(new U))),ae(l([f("text-zinc-400 text-sm")]),l([m("Click the button above to see a modal in action.")]))]))]))])),Qe(l([f("space-y-6")]),l([Ee(l([f("text-2xl font-light text-zinc-200 mb-6")]),l([m("Layout Components")])),yt(l([G(l([f("text-lg font-medium text-zinc-100 mb-4")]),l([m("Cards")])),w(l([f("space-y-6")]),l([pd("Card with Title",l([ae(l([f("text-zinc-300")]),l([m("This is a card with a title section.")]))])),dd(l([_e(l([f("text-lg font-medium text-zinc-100 mb-2")]),l([m("Glass Panel")])),ae(l([f("text-zinc-300")]),l([m("This panel has a glass-like effect.")]))]))])),G(l([f("text-lg font-medium text-zinc-100 mb-4 mt-8")]),l([m("Empty States")])),Vl("No Items Found","There are no items to display at the moment.",new $(V("Create New",new O,new R,new W(I(new U)))))]))])),Qe(l([f("space-y-6")]),l([Ee(l([f("text-2xl font-light text-zinc-200 mb-6")]),l([m("Skeleton Loaders")])),yt(l([G(l([f("text-lg font-medium text-zinc-100 mb-4")]),l([m("Loading Placeholders")])),w(l([f("space-y-6")]),l([w(l([]),l([_e(l([f("text-md font-medium text-zinc-200 mb-4")]),l([m("Text Skeleton")])),_d(3)])),w(l([]),l([_e(l([f("text-md font-medium text-zinc-200 mb-4")]),l([m("Card Skeleton")])),$d()]))]))]))])),Qe(l([f("space-y-6")]),l([Ee(l([f("text-2xl font-light text-zinc-200 mb-6")]),l([m("Page Headers")])),yt(l([G(l([f("text-lg font-medium text-zinc-100 mb-4")]),l([m("Page Header with Subtitle")])),Gl("Example Page Title",new $("This is a subtitle that provides additional context")),G(l([f("text-lg font-medium text-zinc-100 mb-4 mt-8")]),l([m("Page Title Only")])),Kl("Simple Page Title")]))])),Qe(l([f("space-y-6")]),l([Ee(l([f("text-2xl font-light text-zinc-200 mb-6")]),l([m("Typography & Links")])),yt(l([G(l([f("text-lg font-medium text-zinc-100 mb-4")]),l([m("Text Styles")])),w(l([f("space-y-4")]),l([fd("Gradient Text Effect"),ae(l([f("text-zinc-300")]),l([m("Regular text with "),pu("primary link",new W(I(new U))),m(" embedded.")]))]))]))])),Qe(l([f("space-y-6")]),l([Ee(l([f("text-2xl font-light text-zinc-200 mb-6")]),l([m("Layout Helpers")])),yt(l([G(l([f("text-lg font-medium text-zinc-100 mb-4")]),l([m("Flex Between Layout")])),$u(T(l([f("text-zinc-300")]),l([m("Left content")])),T(l([f("text-zinc-300")]),l([m("Right content")]))),G(l([f("text-lg font-medium text-zinc-100 mb-4 mt-8")]),l([m("Content Container")])),_u(l([ae(l([f("text-zinc-300")]),l([m("This content is wrapped in a container with consistent spacing.")])),ae(l([f("text-zinc-300")]),l([m("Multiple elements get proper spacing between them.")]))]))]))]))])}function Kh(e){let t=kh(e),n;if(t instanceof Es)n=Sh();else if(t instanceof br)n=zh();else if(t instanceof _n){let c=t.article,p=t.session;n=Yd(c,p)}else if(t instanceof Yt){let c=t.article;n=Fh(e,c)}else if(t instanceof yr){let c=t.articles,p=t.session;n=Lh(c,p)}else if(t instanceof In)n=Hh();else if(t instanceof $i)n=Uh(e);else if(t instanceof mi){let c=t.short;n=Dh(e,c)}else if(t instanceof hi)n=Gh();else if(t instanceof $e){let c=t.error;if(c instanceof vr){let p=c.slug;n=Mh(e.articles,p)}else if(c instanceof kr){let p=c.id;n=Ih(e.articles,p)}else if(c instanceof Mn){let p=c.error;n=l([Ei(Ts(p))])}else if(c instanceof nt){let p=c.attempted_action;n=l([Ei("Authentication required: "+p)])}else{let p=c.msg;n=l([Ei(p)])}}else if(t instanceof wi)n=Oh();else if(t instanceof gi){let c=t.requested_uri;n=Rh(c)}else{let c=t.content;n=Wh(c)}let i=n,r;kn(e.key_shortcuts_active,new se(new vt))?r=yh():r=oe();let o=r,a;t instanceof Yt?a=c=>w(l([f("min-h-screen bg-zinc-900 text-zinc-100 selection:bg-pink-700 selection:text-zinc-100 ")]),l([Su(e.notice),Eu(e),yl(l([f("max-w-screen-md mx-auto px-4 sm:px-6 md:px-10 py-6 sm:py-8 md:py-10")]),c),ju(e)])):t instanceof Cs?a=c=>w(l([f("min-h-screen bg-zinc-900 text-zinc-100 selection:bg-pink-700 selection:text-zinc-100 ")]),l([Su(e.notice),Eu(e),yl(l([f("max-w-screen-md mx-auto px-4 sm:px-6 md:px-10 py-6 sm:py-8 md:py-10")]),c),ju(e)])):a=c=>w(l([f("min-h-screen bg-zinc-900 text-zinc-100 selection:bg-pink-700 selection:text-zinc-100 ")]),l([Su(e.notice),Eu(e),yl(l([f("max-w-screen-md mx-auto px-4 sm:px-6 md:px-10 py-6 sm:py-8 md:py-10")]),c),ju(e)]));let u=a;return w(l([]),l([o,u(i),vh(e.key_shortcuts_active)]))}var Vh=`# Quick Start for Markdown users

Djot is a lot like Markdown.  Here are some of the main
differences you need to be aware of in making the transition.

#### Blank lines

In djot you need blank lines around block-level
elements.  Hence, instead of

\`\`\`
This is some text.
## My next heading
\`\`\`

you must write

\`\`\`
This is some text.

## My next heading
\`\`\`

Instead of

\`\`\`\`
This is some text.
\`\`\` lua
local foo = bar.baz or false
\`\`\`
\`\`\`\`

you must write

\`\`\`\`
This is some text.

\`\`\` lua
local foo = bar.baz or false
\`\`\`
\`\`\`\`

Instead of

\`\`\`
Text.
> a blockquote.
\`\`\`

you must write

\`\`\`
Text.

> a blockquote.
\`\`\`

And instead of

\`\`\`
Before a thematic break.
****
After a thematic break.
\`\`\`

you must write

\`\`\`
Before a thematic break.

****

After a thematic break.
\`\`\`

#### Lists

A special case of this is that you always need a blank line before a
list, even if it's a sublist. So, while in Markdown you can write

\`\`\`
- one
  - two
  - three
\`\`\`

in djot you must write

\`\`\`
- one

  - two
  - three
\`\`\`

#### Headings

There are no Setext-style (underlined) headings, only ATX- (\`#\`) style.

Heading content can extend over several lines, which may or
may not be preceded by \`#\` characters:

\`\`\`
## This is a single
## level-2 heading

### This is a single
level-3 heading
\`\`\`

As a result, headings must always have a blank line following.

Trailing \`#\` characters in a heading are read as part of the
content and not ignored.

#### Code blocks

There are no indented code blocks, only fenced with \` \`\`\` \`.

#### Block quotes

You need a space after the \`>\` character, unless it is followed
by a newline.

#### Emphasis

Use single \`_\` delimiters for regular emphasis and
single \`*\` delimiters for strong emphasis.

#### Links

There is no special syntax for adding a title to a link, as
in Markdown:

\`\`\`
[link](http://example.com "Go to my website")
\`\`\`

If you want a title attribute on a link, use the general attribute syntax:

\`\`\`
[link](http://example.com){title="Go to my website"}
\`\`\`

#### Hard line breaks

In Markdown you can create a hard line break by ending a line
with two spaces. In djot you use a backslash before the newline.

\`\`\`
A new\\
line.
\`\`\`

#### Raw HTML

In Markdown you can just insert raw HTML "as is."  In djot,
you must mark it as raw HTML:

\`\`\`\`
This is raw HTML: \`<a id="foo">\`{=html}.

Here is a raw HTML block:

\`\`\` =html
<table>
<tr><td>foo</td></tr>
</table>
\`\`\`
\`\`\`\`

#### Tables

Pipe tables always require a pipe character at the start and end
of each line, unlike in many Markdown implementations.  So, this
is not a table:

\`\`\`
a|b
-|-
1|2
\`\`\`

but this is:

\`\`\`
| a | b |
| - | - |
| 1 | 2 |
\`\`\`


#### That's enough to get started!

Here we have just focused on things that might trip up
Markdown users.  If you keep these in mind, you should be
able to start using djot without looking at any more
documentation.

However, we haven't discussed any of the things
you can do in djot but not Markdown. See the [syntax
description](https://htmlpreview.github.io/?https://github.com/jgm/djot/blob/master/doc/syntax.html)
to find about the new constructions that are available.
`;function Jh(e){let t=Ka();if(!(t instanceof g))throw H("let_assert",Qt,"jst_lustre",56,"init","Pattern match failed, no pattern matched the value.",{value:t,start:1624,end:1664,pattern_start:1635,pattern_end:1642});let n=t[0],i=Rd(Ai,Dd(),o=>new Uo(o)),r=new S(n,wu(n),new et,new Y,new Y,"","",Vh,new Rn,!1,"",!0,new x,new x,Hr(),!1,"","",!1,Hr()),s=Pf(o=>{let a=o;return new W(a)});return[r,sn(l([s,i,lu(o=>new Us(o),r.base_uri),gd(o=>new Ho(o),o=>new Wo(o)),Fd(new Go)]))]}function Xd(){let e=wf(Jh,bh,Kh),t=gf(e,"#app",void 0);if(!(t instanceof g))throw H("let_assert",Qt,"jst_lustre",49,"main","Pattern match failed, no pattern matched the value.",{value:t,start:1480,end:1529,pattern_start:1491,pattern_end:1496})}function qe(e,t,n){let i="\x1B[90m",r="\x1B[39m",s=`${t}:${n}`,o=$n(e);if(globalThis.process?.stderr?.write){let a=`${i}${s}${r}
${o}
`;process.stderr.write(a)}else if(globalThis.Deno){let a=`${i}${s}${r}
${o}
`;globalThis.Deno.stderr.writeSync(new TextEncoder().encode(a))}else{let a=`${s}
${o}`;globalThis.console.log(a)}return e}function Yh(e){let t='"';for(let n=0;n<e.length;n++){let i=e[n];i==`
`?t+="\\n":i=="\r"?t+="\\r":i=="	"?t+="\\t":i=="\f"?t+="\\f":i=="\\"?t+="\\\\":i=='"'?t+='\\"':i<" "||i>"~"&&i<"\xA0"?t+="\\u{"+i.charCodeAt(0).toString(16).toUpperCase().padStart(4,"0")+"}":t+=i}return t+='"',t}function Zh(e){let t="dict.from_list([",n=!0,i=[];return e.forEach((r,s)=>{i.push([s,r])}),i.sort(),i.forEach(([r,s])=>{n||(t=t+", "),t=t+"#("+$n(r)+", "+$n(s)+")",n=!1}),t+"])"}function Xh(e){let t=globalThis.Object.keys(e).map(n=>{let i=$n(e[n]);return isNaN(parseInt(n))?`${n}: ${i}`:i}).join(", ");return t?`${e.constructor.name}(${t})`:e.constructor.name}function Qh(e){let t=Object.getPrototypeOf(e)?.constructor?.name||"Object",n=[];for(let s of Object.keys(e))n.push(`${$n(s)}: ${$n(e[s])}`);let i=n.length?" "+n.join(", ")+" ":"";return`//js(${t==="Object"?"":t+" "}{${i}})`}function $n(e){let t=typeof e;if(e===!0)return"True";if(e===!1)return"False";if(e===null)return"//js(null)";if(e===void 0)return"Nil";if(t==="string")return Yh(e);if(t==="bigint"||t==="number")return e.toString();if(globalThis.Array.isArray(e))return`#(${e.map($n).join(", ")})`;if(e instanceof ce)return`[${e.toArray().map($n).join(", ")}]`;if(e instanceof hn)return`//utfcodepoint(${String.fromCodePoint(e.value)})`;if(e instanceof it)return e0(e);if(e instanceof _)return Xh(e);if(t0(e))return Zh(e);if(e instanceof Set)return`//js(Set(${[...e].map($n).join(", ")}))`;if(e instanceof RegExp)return`//js(${e})`;if(e instanceof Date)return`//js(Date("${e.toISOString()}"))`;if(e instanceof Function){let n=[];for(let i of Array(e.length).keys())n.push(String.fromCharCode(i+97));return`//fn(${n.join(", ")}) { ... }`}return Qh(e)}function e0(e){let t=e.bitOffset+8*Math.trunc(e.bitSize/8),n=Gn(e,e.bitOffset,t),i=e.bitSize%8;if(i>0){let r=Fs(e,t,e.bitSize,!1,!1),s=Array.from(n.rawBuffer),o=`${r}:size(${i})`;return s.length===0?`<<${o}>>`:`<<${Array.from(n.rawBuffer).join(", ")}, ${o}>>`}else return`<<${Array.from(n.rawBuffer).join(", ")}>>`}function t0(e){try{return e instanceof Ye}catch{return!1}}Xd();
